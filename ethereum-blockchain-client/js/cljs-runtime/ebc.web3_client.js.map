{"version":3,"sources":["ebc/web3_client.cljs"],"mappings":";;;;;AAMA;;;AAAA,AAAMA;AAAN,AAGM,AAACC;;AACD,AAAMC,AAAK,AAAKC;AAAhB,AACK,AAAcD,AAAKE;;AACnBF;;AAEX,AAAA,AAAMG,AAAcH,AAAKI;AAAzB,AACM,AAAc,AAAOJ,AAAMI;;AAEjC;;;AAAA,AAAMC,AAECL,AAAKM;AAFZ,AAGM,AAAM,AAAkB,AAAON,AAAOM;;AAG5C,AAAA,AAAMC,AAAgBP,AAAKQ;AAA3B,AACM,AAAA,AAAQ,AAASR,AAAMQ;;AAG7B,AAAA,AAAMC,AAAkBT,AAAKU,AAAOC,AAASH;AAA7C,AACM,AAAA,AAAkB,AAAOR,AAAgBU,AACFC,AACG,AAACJ,AAAeP,AAAK,AAAKQ","names":["ebc.web3-client/connect","js/window.ethereum.enable","web3","js/module$node_modules$web3$src$index","js/module$node_modules$web3$src$index.givenProvider","ebc.web3-client/get-accounts","fn","ebc.web3-client/set-default-address","sender-address","ebc.web3-client/convert-to-wei","value","ebc.web3-client/send-transaction","sender","receiver"],"sourcesContent":["(ns ebc.web3-client\n  (:require\n    [\"web3\" :as Web3]\n    [\"web3-eth-personal\" :as w3-personal]\n    [\"web3-eth\" :as w3-eth]))\n\n(defn connect\n      \"Connect using MetaMask in the browser\"\n      []\n      (js/window.ethereum.enable)\n      (let [web3 (new Web3)]\n           (.setProvider web3 Web3/givenProvider)\n           web3))\n\n(defn get-accounts [web3 fn]\n      (.getAccounts (.-eth web3) fn))\n\n(defn set-default-address\n      \"Sets default address to use to pay for gas\"\n      [web3 sender-address]\n      (set! (.-defaultAccount (.-eth web3)) sender-address))\n\n\n(defn convert-to-wei [web3 value]\n      (.toWei (.-utils web3) value \"ether\"))\n\n\n(defn send-transaction [web3 sender receiver value]\n      (.sendTransaction (.-eth web3) #js{:from sender\n                                         :to receiver\n                                         :value (convert-to-wei web3 (str value))}))\n\n\n\n"]}