{
"version":3,
"file":"module$node_modules$xhr$index.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/xhr/index.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$xhr$index\"] = function(global,require,module,exports) {\n\"use strict\";\nvar window = require(\"global/window\")\nvar isFunction = require(\"is-function\")\nvar parseHeaders = require(\"parse-headers\")\nvar xtend = require(\"xtend\")\n\nmodule.exports = createXHR\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = createXHR;\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop\ncreateXHR.XDomainRequest = \"withCredentials\" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest\n\nforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function(method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n        options = initParams(uri, options, callback)\n        options.method = method.toUpperCase()\n        return _createXHR(options)\n    }\n})\n\nfunction forEachArray(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n        iterator(array[i])\n    }\n}\n\nfunction isEmpty(obj){\n    for(var i in obj){\n        if(obj.hasOwnProperty(i)) return false\n    }\n    return true\n}\n\nfunction initParams(uri, options, callback) {\n    var params = uri\n\n    if (isFunction(options)) {\n        callback = options\n        if (typeof uri === \"string\") {\n            params = {uri:uri}\n        }\n    } else {\n        params = xtend(options, {uri: uri})\n    }\n\n    params.callback = callback\n    return params\n}\n\nfunction createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback)\n    return _createXHR(options)\n}\n\nfunction _createXHR(options) {\n    if(typeof options.callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n\n    var called = false\n    var callback = function cbOnce(err, response, body){\n        if(!called){\n            called = true\n            options.callback(err, response, body)\n        }\n    }\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            setTimeout(loadFunc, 0)\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else {\n            body = xhr.responseText || getXml(xhr)\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\") )\n        }\n        evt.statusCode = 0\n        return callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        if (aborted) return\n        var status\n        clearTimeout(timeoutTimer)\n        if(options.useXDR && xhr.status===undefined) {\n            //IE8 CORS GET successful response doesn't have a status field, but body is fine\n            status = 200\n        } else {\n            status = (xhr.status === 1223 ? 204 : xhr.status)\n        }\n        var response = failureResponse\n        var err = null\n\n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        return callback(err, response, response.body)\n    }\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new createXHR.XDomainRequest()\n        }else{\n            xhr = new createXHR.XMLHttpRequest()\n        }\n    }\n\n    var key\n    var aborted\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n    var failureResponse = {\n        body: undefined,\n        headers: {},\n        statusCode: 0,\n        method: method,\n        url: uri,\n        rawRequest: xhr\n    }\n\n    if (\"json\" in options && options.json !== false) {\n        isJson = true\n        headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\") //Don't override existing accept header declared by user\n            body = JSON.stringify(options.json === true ? body : options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.onabort = function(){\n        aborted = true;\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n        xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            if (aborted) return\n            aborted = true//IE9 may still call readystatechange\n            xhr.abort(\"timeout\")\n            var e = new Error(\"XMLHttpRequest timeout\")\n            e.code = \"ETIMEDOUT\"\n            errorFunc(e)\n        }, options.timeout )\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers && !isEmpty(options.headers)) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n\n    if (\"beforeSend\" in options &&\n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n    xhr.send(body || null)\n\n    return xhr\n\n\n}\n\nfunction getXml(xhr) {\n    // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n    // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n    try {\n        if (xhr.responseType === \"document\") {\n            return xhr.responseXML\n        }\n        var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\"\n        if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n            return xhr.responseXML\n        }\n    } catch (e) {}\n\n    return null\n}\n\nfunction noop() {}\n\n};"],
"names":["shadow$provide","global","require","module","exports","isEmpty","obj","i","hasOwnProperty","initParams","uri","options","callback","params","isFunction","xtend","createXHR","_createXHR","errorFunc","evt","clearTimeout","timeoutTimer","Error","statusCode","failureResponse","called","response","body","loadFunc","aborted","status","useXDR","undefined","xhr","err","responseType","responseXML","firefoxBugTakenEffect","documentElement","nodeName","e","isJson","JSON","parse","method","headers","url","rawRequest","getAllResponseHeaders","parseHeaders","cors","XDomainRequest","XMLHttpRequest","key","data","sync","json","stringify","onreadystatechange","readystatechange","readyState","setTimeout","onload","onerror","onprogress","xhr.onprogress","onabort","xhr.onabort","ontimeout","open","username","password","withCredentials","timeout","abort","code","setRequestHeader","beforeSend","send","noop","window","default","forEachArray","array","iterator","length","toUpperCase"]
}
