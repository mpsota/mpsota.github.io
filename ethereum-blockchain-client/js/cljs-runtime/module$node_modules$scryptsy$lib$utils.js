shadow$provide.module$node_modules$scryptsy$lib$utils=function(global,require,module,exports){function blockmix_salsa8(BY,Bi,Yi,r,_X,B32$jscomp$0,x$jscomp$0){var i;arraycopy(BY,Bi+64*(2*r-1),_X,0,64);for(i=0;i<2*r;i++){blockxor(BY,64*i,_X,0,64);var i$jscomp$0,B=_X,B32=B32$jscomp$0,x=x$jscomp$0;for(i$jscomp$0=0;16>i$jscomp$0;i$jscomp$0++)B32[i$jscomp$0]=(B[4*i$jscomp$0]&255)<<0,B32[i$jscomp$0]|=(B[4*i$jscomp$0+1]&255)<<8,B32[i$jscomp$0]|=(B[4*i$jscomp$0+2]&255)<<16,B32[i$jscomp$0]|=(B[4*i$jscomp$0+
3]&255)<<24;arraycopy(B32,0,x,0,16);for(i$jscomp$0=8;0<i$jscomp$0;i$jscomp$0-=2)x[4]^=R(x[0]+x[12],7),x[8]^=R(x[4]+x[0],9),x[12]^=R(x[8]+x[4],13),x[0]^=R(x[12]+x[8],18),x[9]^=R(x[5]+x[1],7),x[13]^=R(x[9]+x[5],9),x[1]^=R(x[13]+x[9],13),x[5]^=R(x[1]+x[13],18),x[14]^=R(x[10]+x[6],7),x[2]^=R(x[14]+x[10],9),x[6]^=R(x[2]+x[14],13),x[10]^=R(x[6]+x[2],18),x[3]^=R(x[15]+x[11],7),x[7]^=R(x[3]+x[15],9),x[11]^=R(x[7]+x[3],13),x[15]^=R(x[11]+x[7],18),x[1]^=R(x[0]+x[3],7),x[2]^=R(x[1]+x[0],9),x[3]^=R(x[2]+x[1],
13),x[0]^=R(x[3]+x[2],18),x[6]^=R(x[5]+x[4],7),x[7]^=R(x[6]+x[5],9),x[4]^=R(x[7]+x[6],13),x[5]^=R(x[4]+x[7],18),x[11]^=R(x[10]+x[9],7),x[8]^=R(x[11]+x[10],9),x[9]^=R(x[8]+x[11],13),x[10]^=R(x[9]+x[8],18),x[12]^=R(x[15]+x[14],7),x[13]^=R(x[12]+x[15],9),x[14]^=R(x[13]+x[12],13),x[15]^=R(x[14]+x[13],18);for(i$jscomp$0=0;16>i$jscomp$0;++i$jscomp$0)B32[i$jscomp$0]=x[i$jscomp$0]+B32[i$jscomp$0];for(i$jscomp$0=0;16>i$jscomp$0;i$jscomp$0++)x=4*i$jscomp$0,B[x+0]=B32[i$jscomp$0]>>0&255,B[x+1]=B32[i$jscomp$0]>>
8&255,B[x+2]=B32[i$jscomp$0]>>16&255,B[x+3]=B32[i$jscomp$0]>>24&255;arraycopy(_X,0,BY,Yi+64*i,64)}for(i=0;i<r;i++)arraycopy(BY,Yi+128*i,BY,Bi+64*i,64);for(i=0;i<r;i++)arraycopy(BY,Yi+64*(2*i+1),BY,Bi+64*(i+r),64)}function R(a,b){return a<<b|a>>>32-b}function blockxor(S,Si,D,Di,len){for(var i=0;i<len;i++)D[Di+i]^=S[Si+i]}function arraycopy(src,srcPos,dest,destPos,length){if(Buffer.isBuffer(src)&&Buffer.isBuffer(dest))src.copy(dest,destPos,srcPos,srcPos+length);else for(;length--;)dest[destPos++]=src[srcPos++]}
var Buffer=require("module$node_modules$buffer$index").Buffer,crypto=require("module$node_modules$crypto_browserify$index");module.exports={checkAndInit:function(key,salt,N,r,p,dkLen,progressCallback){if(0===N||0!==(N&N-1))throw Error("N must be \x3e 0 and a power of 2");if(N>1.67772159921875E7/r)throw Error("Parameter N is too large");if(r>1.67772159921875E7/p)throw Error("Parameter r is too large");dkLen=Buffer.alloc(256*r);var V=Buffer.alloc(128*r*N),B32=new Int32Array(16),x=new Int32Array(16),
_X=Buffer.alloc(64);key=crypto.pbkdf2Sync(key,salt,1,128*p*r,"sha256");if(progressCallback){var totalOps=p*N*2,currentOp=0;var tickCallback=function(){++currentOp;0===currentOp%1E3&&progressCallback({current:currentOp,total:totalOps,percent:currentOp/totalOps*100})}}return{XY:dkLen,V:V,B32:B32,x:x,_X:_X,B:key,tickCallback:tickCallback}},smix:function(B,Bi,r,N,V,XY,_X,B32,x,tickCallback,promiseInterval){var Xi,Yi,i,offset,j;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:promiseInterval=
promiseInterval||5E3,Xi=0,Yi=128*r,B.copy(XY,Xi,Bi,Bi+Yi),i=0;case 2:if(!(i<N)){$jscomp$generator$context.jumpTo(4);break}XY.copy(V,i*Yi,Xi,Xi+Yi);if(0!==i%promiseInterval){$jscomp$generator$context.jumpTo(5);break}return $jscomp$generator$context.yield(new Promise(function(resolve){return setImmediate(resolve)}),5);case 5:blockmix_salsa8(XY,Xi,Yi,r,_X,B32,x);tickCallback&&tickCallback();i++;$jscomp$generator$context.jumpTo(2);break;case 4:i=0;case 7:if(!(i<N)){$jscomp$generator$context.jumpTo(9);
break}offset=Xi+64*(2*r-1);j=XY.readUInt32LE(offset)&N-1;blockxor(V,j*Yi,XY,Xi,Yi);if(0!==i%promiseInterval){$jscomp$generator$context.jumpTo(10);break}return $jscomp$generator$context.yield(new Promise(function(resolve){return setImmediate(resolve)}),10);case 10:blockmix_salsa8(XY,Xi,Yi,r,_X,B32,x);tickCallback&&tickCallback();i++;$jscomp$generator$context.jumpTo(7);break;case 9:XY.copy(B,Bi,Xi,Xi+Yi),$jscomp$generator$context.jumpToEnd()}})},smixSync:function(B,Bi,r,N,V,XY,_X,B32,x,tickCallback){var Yi=
128*r,i;B.copy(XY,0,Bi,Bi+Yi);for(i=0;i<N;i++)XY.copy(V,i*Yi,0,0+Yi),blockmix_salsa8(XY,0,Yi,r,_X,B32,x),tickCallback&&tickCallback();for(i=0;i<N;i++){var j=XY.readUInt32LE(64*(2*r-1))&N-1;blockxor(V,j*Yi,XY,0,Yi);blockmix_salsa8(XY,0,Yi,r,_X,B32,x);tickCallback&&tickCallback()}XY.copy(B,Bi,0,0+Yi)}}}
//# sourceMappingURL=module$node_modules$scryptsy$lib$utils.js.map
