shadow$provide.module$node_modules$$semantic_ui_react$event_stack$lib$cjs$event_stack_development=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj$jscomp$0)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");
}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,
key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value;return obj}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=
Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}function cloneMap(map){var newMap=new Map;map.forEach(function(value,key){newMap.set(key,value)});return newMap}function normalizeHandlers(handlers){return Array.isArray(handlers)?handlers:[handlers]}
function normalizeTarget(target){return"document"===target?document:"window"===target?window:null!==target&&"object"===_typeof(target)&&target.hasOwnProperty("current")?target.current||document:target||document}Object.defineProperty(exports,"__esModule",{value:!0});var env=require("module$node_modules$exenv$index");global=require("module$node_modules$prop_types$index");require=require("module$node_modules$react$index");var EventSet$jscomp$0=function(){function EventSet(eventHandlers){_classCallCheck(this,
EventSet);_defineProperty(this,"handlers",void 0);this.handlers=eventHandlers.slice(0)}_createClass(EventSet,[{key:"addHandlers",value:function(additionalHandlers){for(var newHandlers=this.handlers.slice(0),length=additionalHandlers.length,i=0;i<length;i+=1)newHandlers.push(additionalHandlers[i]);return new EventSet(newHandlers)}},{key:"dispatchEvent",value:function(event,dispatchAll){var count=this.handlers.length-1;if(dispatchAll){for(dispatchAll=count;0<=dispatchAll;--dispatchAll)this.handlers[dispatchAll].called||
(this.handlers[dispatchAll].called=!0,this.handlers[dispatchAll](event));for(event=count;0<=event;--event)this.handlers[event].called=!1}else(0,this.handlers[count])(event)}},{key:"hasHandlers",value:function(){return 0<this.handlers.length}},{key:"removeHandlers",value:function(removalHandlers){for(var newHandlers=[],length=this.handlers.length,i=0;i<length;i+=1){var handler=this.handlers[i];-1===removalHandlers.indexOf(handler)&&newHandlers.push(handler)}return new EventSet(newHandlers)}}]);return EventSet}(),
EventPool$jscomp$0=function(){function EventPool(poolName,handlerSets){_classCallCheck(this,EventPool);_defineProperty(this,"handlerSets",void 0);_defineProperty(this,"poolName",void 0);this.handlerSets=handlerSets;this.poolName=poolName}_createClass(EventPool,[{key:"addHandlers",value:function(eventType,eventHandlers){var handlerSets=cloneMap(this.handlerSets);if(handlerSets.has(eventType)){var eventSet=handlerSets.get(eventType);handlerSets.set(eventType,eventSet.addHandlers(eventHandlers))}else handlerSets.set(eventType,
new EventSet$jscomp$0(eventHandlers));return new EventPool(this.poolName,handlerSets)}},{key:"dispatchEvent",value:function(eventType,event){eventType=this.handlerSets.get(eventType);var shouldDispatchAll="default"===this.poolName;eventType&&eventType.dispatchEvent(event,shouldDispatchAll)}},{key:"hasHandlers",value:function(eventType){return eventType?(eventType=this.handlerSets.get(eventType))?eventType.hasHandlers():!1:0<this.handlerSets.size}},{key:"removeHandlers",value:function(eventType,eventHandlers){var handlerSets=
cloneMap(this.handlerSets);if(!handlerSets.has(eventType))return new EventPool(this.poolName,handlerSets);eventHandlers=handlerSets.get(eventType).removeHandlers(eventHandlers);eventHandlers.hasHandlers()?handlerSets.set(eventType,eventHandlers):handlerSets.delete(eventType);return new EventPool(this.poolName,handlerSets)}}]);return EventPool}();_defineProperty(EventPool$jscomp$0,"createByType",function(poolName,eventType,eventHandlers){var handlerSets=new Map;handlerSets.set(eventType,new EventSet$jscomp$0(eventHandlers));
return new EventPool$jscomp$0(poolName,handlerSets)});var EventTarget$jscomp$0=function(){function EventTarget(target){var _this=this;_classCallCheck(this,EventTarget);_defineProperty(this,"handlers",new Map);_defineProperty(this,"pools",new Map);_defineProperty(this,"target",void 0);_defineProperty(this,"createEmitter",function(eventType){return function(event){_this.pools.forEach(function(pool){pool.dispatchEvent(eventType,event)})}});this.target=target}_createClass(EventTarget,[{key:"addHandlers",
value:function(poolName,eventType,eventHandlers){if(this.pools.has(poolName)){var eventPool=this.pools.get(poolName);this.pools.set(poolName,eventPool.addHandlers(eventType,eventHandlers))}else this.pools.set(poolName,EventPool$jscomp$0.createByType(poolName,eventType,eventHandlers));this.handlers.has(eventType)||this.addTargetHandler(eventType)}},{key:"hasHandlers",value:function(){return 0<this.handlers.size}},{key:"removeHandlers",value:function(poolName,eventType,eventHandlers){if(this.pools.has(poolName)){eventHandlers=
this.pools.get(poolName).removeHandlers(eventType,eventHandlers);eventHandlers.hasHandlers()?this.pools.set(poolName,eventHandlers):this.pools.delete(poolName);var hasHandlers=!1;this.pools.forEach(function(pool){return hasHandlers=hasHandlers||pool.hasHandlers(eventType)});hasHandlers||this.removeTargetHandler(eventType)}}},{key:"addTargetHandler",value:function(eventType){var handler=this.createEmitter(eventType);this.handlers.set(eventType,handler);this.target.addEventListener(eventType,handler,
!0)}},{key:"removeTargetHandler",value:function(eventType){this.handlers.has(eventType)&&(this.target.removeEventListener(eventType,this.handlers.get(eventType),!0),this.handlers.delete(eventType))}}]);return EventTarget}(),instance$jscomp$0=new (function(){function EventStack(){var _this=this;_classCallCheck(this,EventStack);_defineProperty(this,"targets",new Map);_defineProperty(this,"getTarget",function(target){var autoCreate=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,normalized=
normalizeTarget(target);if(_this.targets.has(normalized))return _this.targets.get(normalized);if(!autoCreate)return null;autoCreate=new EventTarget$jscomp$0(normalized);_this.targets.set(normalized,autoCreate);return autoCreate});_defineProperty(this,"removeTarget",function(target){_this.targets.delete(normalizeTarget(target))})}_createClass(EventStack,[{key:"sub",value:function(eventName,eventHandlers){var options=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(env.canUseDOM){var _options$target=
options.target;options=options.pool;options=void 0===options?"default":options;this.getTarget(void 0===_options$target?document:_options$target).addHandlers(options,eventName,normalizeHandlers(eventHandlers))}}},{key:"unsub",value:function(eventName,eventHandlers){var options=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(env.canUseDOM){var _options$target2=options.target;_options$target2=void 0===_options$target2?document:_options$target2;options=options.pool;options=void 0===options?
"default":options;var eventTarget=this.getTarget(_options$target2,!1);eventTarget&&(eventTarget.removeHandlers(options,eventName,normalizeHandlers(eventHandlers)),eventTarget.hasHandlers()||this.removeTarget(_options$target2))}}}]);return EventStack}());require=function(_React$PureComponent){function EventStack(){_classCallCheck(this,EventStack);var call=_getPrototypeOf(EventStack).apply(this,arguments);if(!call||"object"!==typeof call&&"function"!==typeof call){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
call=this}return call}_inherits(EventStack,_React$PureComponent);_createClass(EventStack,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(prevProps){this.unsubscribe(prevProps);this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(props){instance$jscomp$0.sub(props.name,props.on,{pool:props.pool,target:props.target})}},{key:"unsubscribe",value:function(props){instance$jscomp$0.unsub(props.name,
props.on,{pool:props.pool,target:props.target})}},{key:"render",value:function(){return null}}]);return EventStack}(require.PureComponent);_defineProperty(require,"defaultProps",{pool:"default",target:"document"});require.propTypes={name:global.string.isRequired,on:global.oneOfType([global.func,global.arrayOf(global.func)]).isRequired,pool:global.string,target:global.oneOfType([global.oneOf(["document","window"]),global.instanceOf(env.canUseDOM?HTMLElement:Object),global.shape({current:global.object})])};
exports.instance=instance$jscomp$0;exports.default=require}
//# sourceMappingURL=module$node_modules$$semantic_ui_react$event_stack$lib$cjs$event_stack_development.js.map
