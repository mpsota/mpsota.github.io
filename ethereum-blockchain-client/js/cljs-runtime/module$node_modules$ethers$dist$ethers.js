shadow$provide.module$node_modules$ethers$dist$ethers=function(global$jscomp$2,require,module,exports){(function(f){"object"===typeof exports&&"undefined"!==typeof module?module.exports=f():"function"===typeof define&&define.amd?define([],f):("undefined"!==typeof window?window:"undefined"!==typeof global$jscomp$2?global$jscomp$2:"undefined"!==typeof self?self:this).ethers=f()})(function(){return function(){function r$jscomp$0(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&
require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);f=Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f;}f=n[i]={exports:{}};e[i][0].call(f.exports,function(r){return o(e[i][1][r]||r)},f,f.exports,r$jscomp$0,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i$jscomp$0=0;i$jscomp$0<t.length;i$jscomp$0++)o(t[i$jscomp$0]);return o}return r$jscomp$0}()({1:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.version=
"4.0.45"},{}],2:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var properties_1=require("./utils/properties");require=function(){function Signer(){properties_1.setType(this,"Signer")}Signer.isSigner=function(value){return properties_1.isType(value,"Signer")};return Signer}();exports.Signer=require},{"./utils/properties":74}],3:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});require=require("./utils/bignumber");exports.AddressZero=
"0x0000000000000000000000000000000000000000";exports.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";exports.EtherSymbol="Îž";module=require.bigNumberify(-1);exports.NegativeOne=module;module=require.bigNumberify(0);exports.Zero=module;module=require.bigNumberify(1);exports.One=module;module=require.bigNumberify(2);exports.Two=module;module=require.bigNumberify("1000000000000000000");exports.WeiPerEther=module;require=require.bigNumberify("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");
exports.MaxUint256=require},{"./utils/bignumber":63}],4:[function(require,module,exports){function resolveAddresses(provider,value,paramType){if(Array.isArray(paramType)){var promises_1=[];paramType.forEach(function(paramType,index){index=Array.isArray(value)?value[index]:value[paramType.name];promises_1.push(resolveAddresses(provider,index,paramType))});return Promise.all(promises_1)}if("address"===paramType.type)return provider.resolveName(value);if("tuple"===paramType.type)return resolveAddresses(provider,
value,paramType.components);var isArrayMatch=paramType.type.match(/(.*)(\[[0-9]*\]$)/);if(isArrayMatch){if(!Array.isArray(value))throw Error("invalid value for array");var promises=[],subParamType={components:paramType.components,type:isArrayMatch[1]};value.forEach(function(v){promises.push(resolveAddresses(provider,v,subParamType))});return Promise.all(promises)}return Promise.resolve(value)}function runMethod(contract,functionName,estimateOnly){var method=contract.interface.functions[functionName];
return function(){for(var params$jscomp$0=[],_i=0;_i<arguments.length;_i++)params$jscomp$0[_i]=arguments[_i];var tx={},blockTag=null;if(params$jscomp$0.length===method.inputs.length+1&&"object"===typeof params$jscomp$0[params$jscomp$0.length-1]){tx=properties_1.shallowCopy(params$jscomp$0.pop());null!=tx.blockTag&&(blockTag=tx.blockTag);delete tx.blockTag;for(var key$jscomp$0 in tx)if(!allowedTransactionKeys[key$jscomp$0])throw Error("unknown transaction override "+key$jscomp$0);}if(params$jscomp$0.length!=
method.inputs.length)throw Error("incorrect number of arguments");["data","to"].forEach(function(key){null!=tx[key]&&errors.throwError("cannot override "+key,errors.UNSUPPORTED_OPERATION,{operation:key})});tx.to=contract._deployed(blockTag).then(function(){return contract.addressPromise});return resolveAddresses(contract.provider,params$jscomp$0,method.inputs).then(function(params){tx.data=method.encode(params);if("call"===method.type){if(estimateOnly)return Promise.resolve(constants_1.Zero);contract.provider||
errors.throwError("call (constant functions) require a provider or a signer with a provider",errors.UNSUPPORTED_OPERATION,{operation:"call"});["gasLimit","gasPrice","value"].forEach(function(key){if(null!=tx[key])throw Error("call cannot override "+key);});null==tx.from&&contract.signer&&(tx.from=contract.signer.getAddress());return contract.provider.call(tx,blockTag).then(function(value){if(4===bytes_1.hexDataLength(value)%32&&"0x08c379a0"===bytes_1.hexDataSlice(value,0,4)){var reason=abi_coder_1.defaultAbiCoder.decode(["string"],
bytes_1.hexDataSlice(value,4));errors.throwError("call revert exception",errors.CALL_EXCEPTION,{address:contract.address,args:params,method:method.signature,errorSignature:"Error(string)",errorArgs:[reason],reason:reason,transaction:tx})}try{var result=method.decode(value);1===method.outputs.length&&(result=result[0]);return result}catch(error){throw"0x"===value&&0<method.outputs.length&&errors.throwError("call exception",errors.CALL_EXCEPTION,{address:contract.address,method:method.signature,args:params}),
error;}})}if("transaction"===method.type){if(estimateOnly)return contract.provider||errors.throwError("estimate gas require a provider or a signer with a provider",errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"}),null==tx.from&&contract.signer&&(tx.from=contract.signer.getAddress()),contract.provider.estimateGas(tx);null==tx.gasLimit&&null!=method.gas&&(tx.gasLimit=bignumber_1.bigNumberify(method.gas).add(21E3));contract.signer||errors.throwError("sending a transaction requires a signer",errors.UNSUPPORTED_OPERATION,
{operation:"sendTransaction"});null!=tx.from&&errors.throwError("cannot override from in a transaction",errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"});return contract.signer.sendTransaction(tx).then(function(tx){var wait=tx.wait.bind(tx);tx.wait=function(confirmations){return wait(confirmations).then(function(receipt){receipt.events=receipt.logs.map(function(log){var event=properties_1.deepCopy(log);if(log=contract.interface.parseLog(log))event.args=log.values,event.decode=log.decode,
event.event=log.name,event.eventSignature=log.signature;event.removeListener=function(){return contract.provider};event.getBlock=function(){return contract.provider.getBlock(receipt.blockHash)};event.getTransaction=function(){return contract.provider.getTransaction(receipt.transactionHash)};event.getTransactionReceipt=function(){return Promise.resolve(receipt)};return event});return receipt})};return tx})}throw Error("invalid type - "+method.type);})}}function getEventTag(filter){return!filter.address||
null!=filter.topics&&0!==filter.topics.length?(filter.address||"*")+"@"+(filter.topics?filter.topics.join(":"):""):"*"}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();module=this&&this.__importStar||
function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var constants_1=require("./constants"),errors=module(require("./errors")),abi_coder_1=require("./utils/abi-coder"),address_1=require("./utils/address"),bignumber_1=require("./utils/bignumber"),bytes_1=require("./utils/bytes"),interface_1=require("./utils/interface"),
properties_1=require("./utils/properties"),abstract_provider_1=require("./providers/abstract-provider"),abstract_signer_1=require("./abstract-signer"),VoidSigner=function(_super){function VoidSigner(address,provider){var _this=_super.call(this)||this;properties_1.defineReadOnly(_this,"address",address);properties_1.defineReadOnly(_this,"provider",provider);return _this}__extends(VoidSigner,_super);VoidSigner.prototype.getAddress=function(){return Promise.resolve(this.address)};VoidSigner.prototype._fail=
function(message,operation){return Promise.resolve().then(function(){errors.throwError(message,errors.UNSUPPORTED_OPERATION,{operation:operation})})};VoidSigner.prototype.signMessage=function(message){return this._fail("VoidSigner cannot sign messages","signMessage")};VoidSigner.prototype.sendTransaction=function(transaction){return this._fail("VoidSigner cannot sign transactions","sendTransaction")};VoidSigner.prototype.connect=function(provider){return new VoidSigner(this.address,provider)};return VoidSigner}(abstract_signer_1.Signer);
exports.VoidSigner=VoidSigner;var allowedTransactionKeys={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0},Contract=function(){function Contract(addressOrName,contractInterface,signerOrProvider){var _this=this;errors.checkNew(this,Contract);interface_1.Interface.isInterface(contractInterface)?properties_1.defineReadOnly(this,"interface",contractInterface):properties_1.defineReadOnly(this,"interface",new interface_1.Interface(contractInterface));abstract_signer_1.Signer.isSigner(signerOrProvider)?
(properties_1.defineReadOnly(this,"provider",signerOrProvider.provider),properties_1.defineReadOnly(this,"signer",signerOrProvider)):abstract_provider_1.Provider.isProvider(signerOrProvider)?(properties_1.defineReadOnly(this,"provider",signerOrProvider),properties_1.defineReadOnly(this,"signer",null)):errors.throwError("invalid signer or provider",errors.INVALID_ARGUMENT,{arg:"signerOrProvider",value:signerOrProvider});properties_1.defineReadOnly(this,"estimate",{});properties_1.defineReadOnly(this,
"functions",{});properties_1.defineReadOnly(this,"filters",{});Object.keys(this.interface.events).forEach(function(eventName){var event=_this.interface.events[eventName];properties_1.defineReadOnly(_this.filters,eventName,function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return{address:_this.address,topics:event.encodeTopics(args)}})});this._events=[];properties_1.defineReadOnly(this,"address",addressOrName);if(this.provider)properties_1.defineReadOnly(this,"addressPromise",
this.provider.resolveName(addressOrName).then(function(address){if(null==address)throw Error("name not found");return address}).catch(function(error){throw error;}));else try{properties_1.defineReadOnly(this,"addressPromise",Promise.resolve(address_1.getAddress(addressOrName)))}catch(error){errors.throwError("provider is required to use non-address contract address",errors.INVALID_ARGUMENT,{argument:"addressOrName",value:addressOrName})}Object.keys(this.interface.functions).forEach(function(name){var run=
runMethod(_this,name,!1);null==_this[name]?properties_1.defineReadOnly(_this,name,run):errors.warn("WARNING: Multiple definitions for "+name);null==_this.functions[name]&&(properties_1.defineReadOnly(_this.functions,name,run),properties_1.defineReadOnly(_this.estimate,name,runMethod(_this,name,!0)))})}Contract.prototype.deployed=function(){return this._deployed()};Contract.prototype._deployed=function(blockTag){var _this=this;this._deployedPromise||(this._deployedPromise=this.deployTransaction?this.deployTransaction.wait().then(function(){return _this}):
this.provider.getCode(this.address,blockTag).then(function(code){"0x"===code&&errors.throwError("contract not deployed",errors.UNSUPPORTED_OPERATION,{contractAddress:_this.address,operation:"getDeployed"});return _this}));return this._deployedPromise};Contract.prototype.fallback=function(overrides){var _this=this;this.signer||errors.throwError("sending a transaction requires a signer",errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});var tx=properties_1.shallowCopy(overrides||
{});["from","to"].forEach(function(key){null!=tx[key]&&errors.throwError("cannot override "+key,errors.UNSUPPORTED_OPERATION,{operation:key})});tx.to=this.addressPromise;return this.deployed().then(function(){return _this.signer.sendTransaction(tx)})};Contract.prototype.connect=function(signerOrProvider){"string"===typeof signerOrProvider&&(signerOrProvider=new VoidSigner(signerOrProvider,this.provider));signerOrProvider=new Contract(this.address,this.interface,signerOrProvider);this.deployTransaction&&
properties_1.defineReadOnly(signerOrProvider,"deployTransaction",this.deployTransaction);return signerOrProvider};Contract.prototype.attach=function(addressOrName){return new Contract(addressOrName,this.interface,this.signer||this.provider)};Contract.isIndexed=function(value){return interface_1.Interface.isIndexed(value)};Contract.prototype._getEventFilter=function(eventName){var _this=this;if("string"===typeof eventName){if("*"===eventName)return{prepareEvent:function(e){var parsed=_this.interface.parseLog(e);
parsed&&(e.args=parsed.values,e.decode=parsed.decode,e.event=parsed.name,e.eventSignature=parsed.signature);return[e]},eventTag:"*",filter:{address:this.address}};-1!==eventName.indexOf("(")&&(eventName=abi_coder_1.formatSignature(abi_coder_1.parseSignature("event "+eventName)));var event_1=this.interface.events[eventName];event_1||errors.throwError("unknown event - "+eventName,errors.INVALID_ARGUMENT,{argumnet:"eventName",value:eventName});eventName={address:this.address,topics:[event_1.topic]};
return{prepareEvent:function(e){var args=event_1.decode(e.data,e.topics);e.args=args;args=Array.prototype.slice.call(args);args.push(e);return args},event:event_1,eventTag:getEventTag(eventName),filter:eventName}}var filter={address:this.address},event=null;if(eventName.topics&&eventName.topics[0]){filter.topics=eventName.topics;for(var name_1 in this.interface.events)if(-1!==name_1.indexOf("(")){var e$jscomp$0=this.interface.events[name_1];if(e$jscomp$0.topic===eventName.topics[0].toLowerCase()){event=
e$jscomp$0;break}}}return{prepareEvent:function(e){if(!event)return[e];var args=event.decode(e.data,e.topics);e.args=args;args=Array.prototype.slice.call(args);args.push(e);return args},event:event,eventTag:getEventTag(filter),filter:filter}};Contract.prototype._addEventListener=function(eventFilter,listener,once){var _this=this;this.provider||errors.throwError("events require a provider or a signer with a provider",errors.UNSUPPORTED_OPERATION,{operation:"once"});var wrappedListener=function(log){var event=
properties_1.deepCopy(log),args=eventFilter.prepareEvent(event);eventFilter.event&&(event.decode=eventFilter.event.decode,event.event=eventFilter.event.name,event.eventSignature=eventFilter.event.signature);event.removeListener=function(){_this.removeListener(eventFilter.filter,listener)};event.getBlock=function(){return _this.provider.getBlock(log.blockHash)};event.getTransaction=function(){return _this.provider.getTransaction(log.transactionHash)};event.getTransactionReceipt=function(){return _this.provider.getTransactionReceipt(log.transactionHash)};
_this.emit.apply(_this,[eventFilter.filter].concat(args))};this.provider.on(eventFilter.filter,wrappedListener);this._events.push({eventFilter:eventFilter,listener:listener,wrappedListener:wrappedListener,once:once})};Contract.prototype.on=function(event,listener){this._addEventListener(this._getEventFilter(event),listener,!1);return this};Contract.prototype.once=function(event,listener){this._addEventListener(this._getEventFilter(event),listener,!0);return this};Contract.prototype.addListener=function(eventName,
listener){return this.on(eventName,listener)};Contract.prototype.emit=function(eventName){for(var _this=this,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(!this.provider)return!1;var result=!1,eventFilter=this._getEventFilter(eventName);this._events=this._events.filter(function(event){if(event.eventFilter.eventTag!==eventFilter.eventTag)return!0;setTimeout(function(){event.listener.apply(_this,args)},0);result=!0;return!event.once});return result};Contract.prototype.listenerCount=
function(eventName){if(!this.provider)return 0;var eventFilter=this._getEventFilter(eventName);return this._events.filter(function(event){return event.eventFilter.eventTag===eventFilter.eventTag}).length};Contract.prototype.listeners=function(eventName){if(!this.provider)return[];var eventFilter=this._getEventFilter(eventName);return this._events.filter(function(event){return event.eventFilter.eventTag===eventFilter.eventTag}).map(function(event){return event.listener})};Contract.prototype.removeAllListeners=
function(eventName){var _this=this;if(!this.provider)return this;var eventFilter=this._getEventFilter(eventName);this._events=this._events.filter(function(event){if(event.eventFilter.eventTag!==eventFilter.eventTag)return!0;_this.provider.removeListener(event.eventFilter.filter,event.wrappedListener);return!1});return this};Contract.prototype.removeListener=function(eventName,listener){var _this=this;if(!this.provider)return this;var found=!1,eventFilter=this._getEventFilter(eventName);this._events=
this._events.filter(function(event){if(event.eventFilter.eventTag!==eventFilter.eventTag||event.listener!==listener)return!0;_this.provider.removeListener(event.eventFilter.filter,event.wrappedListener);if(found)return!0;found=!0;return!1});return this};return Contract}();exports.Contract=Contract;require=function(){function ContractFactory(contractInterface,bytecode,signer){var bytecodeHex=null;"string"===typeof bytecode?bytecodeHex=bytecode:bytes_1.isArrayish(bytecode)?bytecodeHex=bytes_1.hexlify(bytecode):
"string"===typeof bytecode.object?bytecodeHex=bytecode.object:errors.throwError("bytecode must be a valid hex string",errors.INVALID_ARGUMENT,{arg:"bytecode",value:bytecode});"0x"!==bytecodeHex.substring(0,2)&&(bytecodeHex="0x"+bytecodeHex);bytes_1.isHexString(bytecodeHex)||errors.throwError("bytecode must be a valid hex string",errors.INVALID_ARGUMENT,{arg:"bytecode",value:bytecode});0!==bytecodeHex.length%2&&errors.throwError("bytecode must be valid data (even length)",errors.INVALID_ARGUMENT,{arg:"bytecode",
value:bytecode});properties_1.defineReadOnly(this,"bytecode",bytecodeHex);interface_1.Interface.isInterface(contractInterface)?properties_1.defineReadOnly(this,"interface",contractInterface):properties_1.defineReadOnly(this,"interface",new interface_1.Interface(contractInterface));signer&&!abstract_signer_1.Signer.isSigner(signer)&&errors.throwError("invalid signer",errors.INVALID_ARGUMENT,{arg:"signer",value:null});properties_1.defineReadOnly(this,"signer",signer||null)}ContractFactory.prototype.getDeployTransaction=
function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var tx={};if(args.length===this.interface.deployFunction.inputs.length+1){tx=properties_1.shallowCopy(args.pop());for(var key$jscomp$0 in tx)if(!allowedTransactionKeys[key$jscomp$0])throw Error("unknown transaction override "+key$jscomp$0);}["data","from","to"].forEach(function(key){null!=tx[key]&&errors.throwError("cannot override "+key,errors.UNSUPPORTED_OPERATION,{operation:key})});errors.checkArgumentCount(args.length,
this.interface.deployFunction.inputs.length," in Contract constructor");tx.data=this.interface.deployFunction.encode(this.bytecode,args);return tx};ContractFactory.prototype.deploy=function(){for(var _this=this,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];args=this.getDeployTransaction.apply(this,args);return this.signer.sendTransaction(args).then(function(tx){var contract=new Contract(address_1.getContractAddress(tx),_this.interface,_this.signer);properties_1.defineReadOnly(contract,
"deployTransaction",tx);return contract})};ContractFactory.prototype.attach=function(address){return new Contract(address,this.interface,this.signer)};ContractFactory.prototype.connect=function(signer){return new ContractFactory(this.interface,this.bytecode,signer)};ContractFactory.fromSolidity=function(compilerOutput,signer){null==compilerOutput&&errors.throwError("missing compiler output",errors.MISSING_ARGUMENT,{argument:"compilerOutput"});"string"===typeof compilerOutput&&(compilerOutput=JSON.parse(compilerOutput));
var abi=compilerOutput.abi,bytecode=null;compilerOutput.bytecode?bytecode=compilerOutput.bytecode:compilerOutput.evm&&compilerOutput.evm.bytecode&&(bytecode=compilerOutput.evm.bytecode);return new ContractFactory(abi,bytecode,signer)};return ContractFactory}();exports.ContractFactory=require},{"./abstract-signer":2,"./constants":3,"./errors":5,"./providers/abstract-provider":50,"./utils/abi-coder":59,"./utils/address":60,"./utils/bignumber":63,"./utils/bytes":64,"./utils/interface":69,"./utils/properties":74}],
5:[function(require,module,exports){function throwError(message,code,params){if(_censorErrors)throw Error("unknown error");code||(code=exports.UNKNOWN_ERROR);params||(params={});var messageDetails=[];Object.keys(params).forEach(function(key){try{messageDetails.push(key+"\x3d"+JSON.stringify(params[key]))}catch(error$0){messageDetails.push(key+"\x3d"+JSON.stringify(params[key].toString()))}});messageDetails.push("version\x3d"+_version_1.version);var reason=message;messageDetails.length&&(message+=
" ("+messageDetails.join(", ")+")");var error=Error(message);error.reason=reason;error.code=code;Object.keys(params).forEach(function(key){error[key]=params[key]});throw error;}function warn(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];LogLevel>LogLevels.warn||console.log.apply(console,args)}Object.defineProperty(exports,"__esModule",{value:!0});var _version_1=require("./_version");exports.UNKNOWN_ERROR="UNKNOWN_ERROR";exports.NOT_IMPLEMENTED="NOT_IMPLEMENTED";exports.MISSING_NEW=
"MISSING_NEW";exports.CALL_EXCEPTION="CALL_EXCEPTION";exports.INVALID_ARGUMENT="INVALID_ARGUMENT";exports.MISSING_ARGUMENT="MISSING_ARGUMENT";exports.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT";exports.NUMERIC_FAULT="NUMERIC_FAULT";exports.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS";exports.NONCE_EXPIRED="NONCE_EXPIRED";exports.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED";exports.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION";var _permanentCensorErrors=!1,_censorErrors=!1;exports.throwError=throwError;
exports.checkNew=function(self,kind){self instanceof kind||throwError("missing new",exports.MISSING_NEW,{name:kind.name})};exports.checkArgumentCount=function(count,expectedCount,suffix){suffix||(suffix="");count<expectedCount&&throwError("missing argument"+suffix,exports.MISSING_ARGUMENT,{count:count,expectedCount:expectedCount});count>expectedCount&&throwError("too many arguments"+suffix,exports.UNEXPECTED_ARGUMENT,{count:count,expectedCount:expectedCount})};exports.setCensorship=function(censorship,
permanent){_permanentCensorErrors&&throwError("error censorship permanent",exports.UNSUPPORTED_OPERATION,{operation:"setCensorship"});_censorErrors=!!censorship;_permanentCensorErrors=!!permanent};exports.checkNormalize=function(){try{if(["NFD","NFC","NFKD","NFKC"].forEach(function(form){try{"test".normalize(form)}catch(error){throw Error("missing "+form);}}),String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation");}catch(error){throwError("platform missing String.prototype.normalize",
exports.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:error.message})}};var LogLevels={debug:1,"default":2,info:2,warn:3,error:4,off:5},LogLevel=LogLevels["default"];exports.setLogLevel=function(logLevel){var level=LogLevels[logLevel];null==level?warn("invliad log level - "+logLevel):LogLevel=level};exports.warn=warn;exports.info=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];LogLevel>LogLevels.info||console.log.apply(console,args)}},{"./_version":1}],
6:[function(require,module,exports){module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var contract_1=require("./contract");exports.Contract=contract_1.Contract;exports.ContractFactory=contract_1.ContractFactory;exports.VoidSigner=contract_1.VoidSigner;contract_1=require("./abstract-signer");
exports.Signer=contract_1.Signer;contract_1=require("./wallet");exports.Wallet=contract_1.Wallet;contract_1=module(require("./constants"));exports.constants=contract_1;var errors=module(require("./errors"));exports.errors=errors;var providers=module(require("./providers"));exports.providers=providers;var utils=module(require("./utils"));exports.utils=utils;module=module(require("./wordlists"));exports.wordlists=module;module=require("./utils/shims");exports.platform=module.platform;require=require("./_version");
exports.version=require.version;exports.getDefaultProvider=function(network){null==network&&(network="homestead");var n=utils.getNetwork(network);n&&n._defaultProvider||errors.throwError("unsupported getDefaultProvider network",errors.UNSUPPORTED_OPERATION,{operation:"getDefaultProvider",network:network});return n._defaultProvider(providers)}},{"./_version":1,"./abstract-signer":2,"./constants":3,"./contract":4,"./errors":5,"./providers":54,"./utils":68,"./utils/shims":80,"./wallet":88,"./wordlists":89}],
7:[function(require,module,exports){module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});module=module(require("./ethers"));exports.ethers=module;(function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])})(require("./ethers"))},{"./ethers":6}],8:[function(require,module,
exports){(function(root){function checkInt(value){return parseInt(value)===value}function checkInts(arrayish){if(!checkInt(arrayish.length))return!1;for(var i=0;i<arrayish.length;i++)if(!checkInt(arrayish[i])||0>arrayish[i]||255<arrayish[i])return!1;return!0}function coerceArray(arg,copy){if(arg.buffer&&ArrayBuffer.isView(arg)&&"Uint8Array"===arg.name)return copy&&(arg=arg.slice?arg.slice():Array.prototype.slice.call(arg)),arg;if(Array.isArray(arg)){if(!checkInts(arg))throw Error("Array contains invalid value: "+
arg);return new Uint8Array(arg)}if(checkInt(arg.length)&&checkInts(arg))return new Uint8Array(arg);throw Error("unsupported array-like object");}function createArray(length){return new Uint8Array(length)}function copyArray(sourceArray,targetArray,targetStart,sourceStart,sourceEnd){if(null!=sourceStart||null!=sourceEnd)sourceArray=sourceArray.slice?sourceArray.slice(sourceStart,sourceEnd):Array.prototype.slice.call(sourceArray,sourceStart,sourceEnd);targetArray.set(sourceArray,targetStart)}function convertToInt32(bytes){for(var result=
[],i=0;i<bytes.length;i+=4)result.push(bytes[i]<<24|bytes[i+1]<<16|bytes[i+2]<<8|bytes[i+3]);return result}var convertUtf8=function(){return{toBytes:function(text){var result=[],i=0;for(text=encodeURI(text);i<text.length;){var c=text.charCodeAt(i++);37===c?(result.push(parseInt(text.substr(i,2),16)),i+=2):result.push(c)}return coerceArray(result)},fromBytes:function(bytes){for(var result=[],i=0;i<bytes.length;){var c=bytes[i];128>c?(result.push(String.fromCharCode(c)),i++):191<c&&224>c?(result.push(String.fromCharCode((c&
31)<<6|bytes[i+1]&63)),i+=2):(result.push(String.fromCharCode((c&15)<<12|(bytes[i+1]&63)<<6|bytes[i+2]&63)),i+=3)}return result.join("")}}}(),convertHex=function(){return{toBytes:function(text){for(var result=[],i=0;i<text.length;i+=2)result.push(parseInt(text.substr(i,2),16));return result},fromBytes:function(bytes){for(var result=[],i=0;i<bytes.length;i++){var v=bytes[i];result.push("0123456789abcdef"[(v&240)>>4]+"0123456789abcdef"[v&15])}return result.join("")}}}(),numberOfRounds={16:10,24:12,
32:14},rcon=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],S=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,
80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,
65,153,45,15,176,84,187,22],Si=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,
103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],T1=[3328402341,4168907908,4000806809,4135287693,4294111757,
3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,
806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,
2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,
2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,
1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,
1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],T2=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,
3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,
2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,
1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,
936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,
1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],T3=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,
4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,
3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,
2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,
3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,
3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,
1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],T4=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,
4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,
1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,
1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,
3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,
1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],T5=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,
1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,
4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,
3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,
3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,
1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,
3501741890],T6=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,
2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,
3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,
3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,
2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,
2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],T7=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,
1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239E3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,
4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,
437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,
3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,
532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],T8=[4104605777,1097159550,396673818,660510266,2875968315,
2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,
1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998E3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,
0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,
698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,
2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,
1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],U1=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,
3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,
4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,
3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,
3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,
1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],U2=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,
2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,
3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,
3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,
164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,
1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,
2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],U3=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,
3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,
3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,
4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239E3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,
2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,
895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],U4=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,
3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,
1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998E3,865136418,983426092,3708173718,3557504664,3474729866,
3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,
3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,
57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925],
AES=function(key){if(!(this instanceof AES))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:coerceArray(key,!0)});this._prepare()};AES.prototype._prepare=function(){var rounds=numberOfRounds[this.key.length];if(null==rounds)throw Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[];this._Kd=[];for(var i=0;i<=rounds;i++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var roundKeyCount=4*(rounds+1),KC=this.key.length/4,tk=convertToInt32(this.key);
for(i=0;i<KC;i++){var index=i>>2;this._Ke[index][i%4]=tk[i];this._Kd[rounds-index][i%4]=tk[i]}index=0;for(var t=KC;t<roundKeyCount;){i=tk[KC-1];tk[0]=tk[0]^S[i>>16&255]<<24^S[i>>8&255]<<16^S[i&255]<<8^S[i>>24&255]^rcon[index]<<24;index+=1;if(8!=KC)i=1;else{for(i=1;i<KC/2;i++)tk[i]^=tk[i-1];i=tk[KC/2-1];tk[KC/2]=tk[KC/2]^S[i&255]^S[i>>8&255]<<8^S[i>>16&255]<<16^S[i>>24&255]<<24;i=KC/2+1}for(;i<KC;i++)tk[i]^=tk[i-1];i=0;for(var r,c;i<KC&&t<roundKeyCount;)r=t>>2,c=t%4,this._Ke[r][c]=tk[i],this._Kd[rounds-
r][c]=tk[i++],t++}for(r=1;r<rounds;r++)for(c=0;4>c;c++)i=this._Kd[r][c],this._Kd[r][c]=U1[i>>24&255]^U2[i>>16&255]^U3[i>>8&255]^U4[i&255]};AES.prototype.encrypt=function(plaintext){if(16!=plaintext.length)throw Error("invalid plaintext size (must be 16 bytes)");var rounds=this._Ke.length-1,a=[0,0,0,0];plaintext=convertToInt32(plaintext);for(var i=0;4>i;i++)plaintext[i]^=this._Ke[0][i];for(var r=1;r<rounds;r++){for(i=0;4>i;i++)a[i]=T1[plaintext[i]>>24&255]^T2[plaintext[(i+1)%4]>>16&255]^T3[plaintext[(i+
2)%4]>>8&255]^T4[plaintext[(i+3)%4]&255]^this._Ke[r][i];plaintext=a.slice()}a=createArray(16);for(i=0;4>i;i++)r=this._Ke[rounds][i],a[4*i]=(S[plaintext[i]>>24&255]^r>>24)&255,a[4*i+1]=(S[plaintext[(i+1)%4]>>16&255]^r>>16)&255,a[4*i+2]=(S[plaintext[(i+2)%4]>>8&255]^r>>8)&255,a[4*i+3]=(S[plaintext[(i+3)%4]&255]^r)&255;return a};AES.prototype.decrypt=function(ciphertext){if(16!=ciphertext.length)throw Error("invalid ciphertext size (must be 16 bytes)");var rounds=this._Kd.length-1,a=[0,0,0,0];ciphertext=
convertToInt32(ciphertext);for(var i=0;4>i;i++)ciphertext[i]^=this._Kd[0][i];for(var r=1;r<rounds;r++){for(i=0;4>i;i++)a[i]=T5[ciphertext[i]>>24&255]^T6[ciphertext[(i+3)%4]>>16&255]^T7[ciphertext[(i+2)%4]>>8&255]^T8[ciphertext[(i+1)%4]&255]^this._Kd[r][i];ciphertext=a.slice()}a=createArray(16);for(i=0;4>i;i++)r=this._Kd[rounds][i],a[4*i]=(Si[ciphertext[i]>>24&255]^r>>24)&255,a[4*i+1]=(Si[ciphertext[(i+3)%4]>>16&255]^r>>16)&255,a[4*i+2]=(Si[ciphertext[(i+2)%4]>>8&255]^r>>8)&255,a[4*i+3]=(Si[ciphertext[(i+
1)%4]&255]^r)&255;return a};var ModeOfOperationECB=function(key){if(!(this instanceof ModeOfOperationECB))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block";this.name="ecb";this._aes=new AES(key)};ModeOfOperationECB.prototype.encrypt=function(plaintext){plaintext=coerceArray(plaintext);if(0!==plaintext.length%16)throw Error("invalid plaintext size (must be multiple of 16 bytes)");for(var ciphertext=createArray(plaintext.length),block=createArray(16),i=0;i<
plaintext.length;i+=16)copyArray(plaintext,block,0,i,i+16),block=this._aes.encrypt(block),copyArray(block,ciphertext,i);return ciphertext};ModeOfOperationECB.prototype.decrypt=function(ciphertext){ciphertext=coerceArray(ciphertext);if(0!==ciphertext.length%16)throw Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var plaintext=createArray(ciphertext.length),block=createArray(16),i=0;i<ciphertext.length;i+=16)copyArray(ciphertext,block,0,i,i+16),block=this._aes.decrypt(block),copyArray(block,
plaintext,i);return plaintext};var ModeOfOperationCBC=function(key,iv){if(!(this instanceof ModeOfOperationCBC))throw Error("AES must be instanitated with `new`");this.description="Cipher Block Chaining";this.name="cbc";if(!iv)iv=createArray(16);else if(16!=iv.length)throw Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=coerceArray(iv,!0);this._aes=new AES(key)};ModeOfOperationCBC.prototype.encrypt=function(plaintext){plaintext=coerceArray(plaintext);if(0!==plaintext.length%
16)throw Error("invalid plaintext size (must be multiple of 16 bytes)");for(var ciphertext=createArray(plaintext.length),block=createArray(16),i=0;i<plaintext.length;i+=16){copyArray(plaintext,block,0,i,i+16);for(var j=0;16>j;j++)block[j]^=this._lastCipherblock[j];this._lastCipherblock=this._aes.encrypt(block);copyArray(this._lastCipherblock,ciphertext,i)}return ciphertext};ModeOfOperationCBC.prototype.decrypt=function(ciphertext){ciphertext=coerceArray(ciphertext);if(0!==ciphertext.length%16)throw Error("invalid ciphertext size (must be multiple of 16 bytes)");
for(var plaintext=createArray(ciphertext.length),block=createArray(16),i=0;i<ciphertext.length;i+=16){copyArray(ciphertext,block,0,i,i+16);block=this._aes.decrypt(block);for(var j=0;16>j;j++)plaintext[i+j]=block[j]^this._lastCipherblock[j];copyArray(ciphertext,this._lastCipherblock,0,i,i+16)}return plaintext};var ModeOfOperationCFB=function(key,iv,segmentSize){if(!(this instanceof ModeOfOperationCFB))throw Error("AES must be instanitated with `new`");this.description="Cipher Feedback";this.name="cfb";
if(!iv)iv=createArray(16);else if(16!=iv.length)throw Error("invalid initialation vector size (must be 16 size)");segmentSize||(segmentSize=1);this.segmentSize=segmentSize;this._shiftRegister=coerceArray(iv,!0);this._aes=new AES(key)};ModeOfOperationCFB.prototype.encrypt=function(plaintext){if(0!=plaintext.length%this.segmentSize)throw Error("invalid plaintext size (must be segmentSize bytes)");plaintext=coerceArray(plaintext,!0);for(var xorSegment,i=0;i<plaintext.length;i+=this.segmentSize){xorSegment=
this._aes.encrypt(this._shiftRegister);for(var j=0;j<this.segmentSize;j++)plaintext[i+j]^=xorSegment[j];copyArray(this._shiftRegister,this._shiftRegister,0,this.segmentSize);copyArray(plaintext,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return plaintext};ModeOfOperationCFB.prototype.decrypt=function(ciphertext){if(0!=ciphertext.length%this.segmentSize)throw Error("invalid ciphertext size (must be segmentSize bytes)");for(var plaintext=coerceArray(ciphertext,!0),xorSegment,i=0;i<
plaintext.length;i+=this.segmentSize){xorSegment=this._aes.encrypt(this._shiftRegister);for(var j=0;j<this.segmentSize;j++)plaintext[i+j]^=xorSegment[j];copyArray(this._shiftRegister,this._shiftRegister,0,this.segmentSize);copyArray(ciphertext,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return plaintext};var ModeOfOperationOFB=function(key,iv){if(!(this instanceof ModeOfOperationOFB))throw Error("AES must be instanitated with `new`");this.description="Output Feedback";this.name=
"ofb";if(!iv)iv=createArray(16);else if(16!=iv.length)throw Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=coerceArray(iv,!0);this._lastPrecipherIndex=16;this._aes=new AES(key)};ModeOfOperationOFB.prototype.encrypt=function(plaintext){plaintext=coerceArray(plaintext,!0);for(var i=0;i<plaintext.length;i++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),plaintext[i]^=this._lastPrecipher[this._lastPrecipherIndex++];
return plaintext};ModeOfOperationOFB.prototype.decrypt=ModeOfOperationOFB.prototype.encrypt;var Counter=function(initialValue){if(!(this instanceof Counter))throw Error("Counter must be instanitated with `new`");0===initialValue||initialValue||(initialValue=1);"number"===typeof initialValue?(this._counter=createArray(16),this.setValue(initialValue)):this.setBytes(initialValue)};Counter.prototype.setValue=function(value){if("number"!==typeof value||parseInt(value)!=value)throw Error("invalid counter value (must be an integer)");
for(var index=15;0<=index;--index)this._counter[index]=value%256,value>>=8};Counter.prototype.setBytes=function(bytes){bytes=coerceArray(bytes,!0);if(16!=bytes.length)throw Error("invalid counter bytes size (must be 16 bytes)");this._counter=bytes};Counter.prototype.increment=function(){for(var i=15;0<=i;i--)if(255===this._counter[i])this._counter[i]=0;else{this._counter[i]++;break}};var ModeOfOperationCTR=function(key,counter){if(!(this instanceof ModeOfOperationCTR))throw Error("AES must be instanitated with `new`");
this.description="Counter";this.name="ctr";counter instanceof Counter||(counter=new Counter(counter));this._counter=counter;this._remainingCounter=null;this._remainingCounterIndex=16;this._aes=new AES(key)};ModeOfOperationCTR.prototype.encrypt=function(plaintext){plaintext=coerceArray(plaintext,!0);for(var i=0;i<plaintext.length;i++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),plaintext[i]^=
this._remainingCounter[this._remainingCounterIndex++];return plaintext};ModeOfOperationCTR.prototype.decrypt=ModeOfOperationCTR.prototype.encrypt;convertUtf8={AES:AES,Counter:Counter,ModeOfOperation:{ecb:ModeOfOperationECB,cbc:ModeOfOperationCBC,cfb:ModeOfOperationCFB,ofb:ModeOfOperationOFB,ctr:ModeOfOperationCTR},utils:{hex:convertHex,utf8:convertUtf8},padding:{pkcs7:{pad:function(data){data=coerceArray(data,!0);var padder=16-data.length%16,result=createArray(data.length+padder);copyArray(data,result);
for(data=data.length;data<result.length;data++)result[data]=padder;return result},strip:function(data){data=coerceArray(data,!0);if(16>data.length)throw Error("PKCS#7 invalid length");var padder=data[data.length-1];if(16<padder)throw Error("PKCS#7 padding byte out of range");for(var length=data.length-padder,i=0;i<padder;i++)if(data[length+i]!==padder)throw Error("PKCS#7 invalid padding byte");padder=createArray(length);copyArray(data,padder,0,0,length);return padder}}},_arrayTest:{coerceArray:coerceArray,
createArray:createArray,copyArray:copyArray}};"undefined"!==typeof exports?module.exports=convertUtf8:(root.aesjs&&(convertUtf8._aesjs=root.aesjs),root.aesjs=convertUtf8)})(this)},{}],9:[function(require,module$jscomp$0,exports$jscomp$0){(function(module,exports){function assert(val,msg){if(!val)throw Error(msg||"Assertion failed");}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=
ctor}function BN(number,base,endian){if(BN.isBN(number))return number;this.negative=0;this.words=null;this.length=0;this.red=null;if(null!==number){if("le"===base||"be"===base)endian=base,base=10;this._init(number||0,base||10,endian||"be")}}function parseHex(str,start,end){var r=0;for(end=Math.min(str.length,end);start<end;start++){var c=str.charCodeAt(start)-48;r<<=4;r=49<=c&&54>=c?r|c-49+10:17<=c&&22>=c?r|c-17+10:r|c&15}return r}function parseBase(str,start,end,mul){var r=0;for(end=Math.min(str.length,
end);start<end;start++){var c=str.charCodeAt(start)-48;r*=mul;r=49<=c?r+(c-49+10):17<=c?r+(c-17+10):r+c}return r}function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len;len=len-1|0;var a=self.words[0]|0,b=num.words[0]|0;a*=b;var carry=a/67108864|0;out.words[0]=a&67108863;for(var k=1;k<len;k++){var ncarry=carry>>>26,rword=carry&67108863;carry=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=carry;j++)a=self.words[k-
j|0]|0,b=num.words[j]|0,a=a*b+rword,ncarry+=a/67108864|0,rword=a&67108863;out.words[k]=rword|0;carry=ncarry|0}0!==carry?out.words[k]=carry|0:out.length--;return out.strip()}function FFTM(x,y){this.x=x;this.y=y}function MPrime(name,p){this.name=name;this.p=new BN(p,16);this.n=this.p.bitLength();this.k=(new BN(1)).iushln(this.n).isub(this.p);this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,
"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(m){"string"===typeof m?(m=BN._prime(m),this.m=m.p,this.prime=m):(assert(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null)}function Mont(m){Red.call(this,m);this.shift=this.m.bitLength();
0!==this.shift%26&&(this.shift+=26-this.shift%26);this.r=(new BN(1)).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}"object"===typeof module?module.exports=BN:exports.BN=BN;BN.BN=BN;BN.wordSize=26;try{var Buffer=require("buffer").Buffer}catch(e){}BN.isBN=function(num){return num instanceof BN?!0:null!==num&&"object"===typeof num&&num.constructor.wordSize===
BN.wordSize&&Array.isArray(num.words)};BN.max=function(left,right){return 0<left.cmp(right)?left:right};BN.min=function(left,right){return 0>left.cmp(right)?left:right};BN.prototype._init=function(number,base,endian){if("number"===typeof number)return this._initNumber(number,base,endian);if("object"===typeof number)return this._initArray(number,base,endian);"hex"===base&&(base=16);assert(base===(base|0)&&2<=base&&36>=base);number=number.toString().replace(/\s+/g,"");var start=0;"-"===number[0]&&start++;
16===base?this._parseHex(number,start):this._parseBase(number,base,start);"-"===number[0]&&(this.negative=1);this.strip();"le"===endian&&this._initArray(this.toArray(),base,endian)};BN.prototype._initNumber=function(number,base,endian){0>number&&(this.negative=1,number=-number);67108864>number?(this.words=[number&67108863],this.length=1):4503599627370496>number?(this.words=[number&67108863,number/67108864&67108863],this.length=2):(assert(9007199254740992>number),this.words=[number&67108863,number/
67108864&67108863,1],this.length=3);"le"===endian&&this._initArray(this.toArray(),base,endian)};BN.prototype._initArray=function(number,base,endian){assert("number"===typeof number.length);if(0>=number.length)return this.words=[0],this.length=1,this;this.length=Math.ceil(number.length/3);this.words=Array(this.length);for(base=0;base<this.length;base++)this.words[base]=0;var off=0;if("be"===endian)for(base=number.length-1,endian=0;0<=base;base-=3){var w=number[base]|number[base-1]<<8|number[base-2]<<
16;this.words[endian]|=w<<off&67108863;this.words[endian+1]=w>>>26-off&67108863;off+=24;26<=off&&(off-=26,endian++)}else if("le"===endian)for(endian=base=0;base<number.length;base+=3)w=number[base]|number[base+1]<<8|number[base+2]<<16,this.words[endian]|=w<<off&67108863,this.words[endian+1]=w>>>26-off&67108863,off+=24,26<=off&&(off-=26,endian++);return this.strip()};BN.prototype._parseHex=function(number,start){this.length=Math.ceil((number.length-start)/6);this.words=Array(this.length);for(var i=
0;i<this.length;i++)this.words[i]=0;var j,off=0;i=number.length-6;for(j=0;i>=start;i-=6){var w=parseHex(number,i,i+6);this.words[j]|=w<<off&67108863;this.words[j+1]|=w>>>26-off&4194303;off+=24;26<=off&&(off-=26,j++)}i+6!==start&&(w=parseHex(number,start,i+6),this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303);this.strip()};BN.prototype._parseBase=function(number,base,start){this.words=[0];this.length=1;for(var limbLen=0,limbPow=1;67108863>=limbPow;limbPow*=base)limbLen++;limbLen--;
limbPow=limbPow/base|0;var total=number.length-start,mod=total%limbLen;total=Math.min(total,total-mod)+start;for(var i=start;i<total;i+=limbLen)start=parseBase(number,i,i+limbLen,base),this.imuln(limbPow),67108864>this.words[0]+start?this.words[0]+=start:this._iaddn(start);if(0!==mod){limbLen=1;start=parseBase(number,i,number.length,base);for(i=0;i<mod;i++)limbLen*=base;this.imuln(limbLen);67108864>this.words[0]+start?this.words[0]+=start:this._iaddn(start)}};BN.prototype.copy=function(dest){dest.words=
Array(this.length);for(var i=0;i<this.length;i++)dest.words[i]=this.words[i];dest.length=this.length;dest.negative=this.negative;dest.red=this.red};BN.prototype.clone=function(){var r=new BN(null);this.copy(r);return r};BN.prototype._expand=function(size){for(;this.length<size;)this.words[this.length++]=0;return this};BN.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()};BN.prototype._normSign=function(){1===this.length&&0===this.words[0]&&
(this.negative=0);return this};BN.prototype.inspect=function(){return(this.red?"\x3cBN-R: ":"\x3cBN: ")+this.toString(16)+"\x3e"};var zeros=" 0 00 000 0000 00000 000000 0000000 00000000 000000000 0000000000 00000000000 000000000000 0000000000000 00000000000000 000000000000000 0000000000000000 00000000000000000 000000000000000000 0000000000000000000 00000000000000000000 000000000000000000000 0000000000000000000000 00000000000000000000000 000000000000000000000000 0000000000000000000000000".split(" "),
groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1E7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64E6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243E5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function(base,padding){base=base||10;padding=padding|0||1;if(16===base||"hex"===
base){var out="";for(var carry=base=0,i=0;i<this.length;i++){var w=this.words[i],word=((w<<base|carry)&16777215).toString(16);carry=w>>>24-base&16777215;out=0!==carry||i!==this.length-1?zeros[6-word.length]+word+out:word+out;base+=2;26<=base&&(base-=26,i--)}for(0!==carry&&(out=carry.toString(16)+out);0!==out.length%padding;)out="0"+out;0!==this.negative&&(out="-"+out);return out}if(base===(base|0)&&2<=base&&36>=base){carry=groupSizes[base];i=groupBases[base];out="";w=this.clone();for(w.negative=0;!w.isZero();)word=
w.modn(i).toString(base),w=w.idivn(i),out=w.isZero()?word+out:zeros[carry-word.length]+word+out;for(this.isZero()&&(out="0"+out);0!==out.length%padding;)out="0"+out;0!==this.negative&&(out="-"+out);return out}assert(!1,"Base should be between 2 and 36")};BN.prototype.toNumber=function(){var ret=this.words[0];2===this.length?ret+=67108864*this.words[1]:3===this.length&&1===this.words[2]?ret+=4503599627370496+67108864*this.words[1]:2<this.length&&assert(!1,"Number can only safely store up to 53 bits");
return 0!==this.negative?-ret:ret};BN.prototype.toJSON=function(){return this.toString(16)};BN.prototype.toBuffer=function(endian,length){assert("undefined"!==typeof Buffer);return this.toArrayLike(Buffer,endian,length)};BN.prototype.toArray=function(endian,length){return this.toArrayLike(Array,endian,length)};BN.prototype.toArrayLike=function(ArrayType,endian,length){var byteLength=this.byteLength();length=length||Math.max(1,byteLength);assert(byteLength<=length,"byte array longer than desired length");
assert(0<length,"Requested array length \x3c\x3d 0");this.strip();var littleEndian="le"===endian;ArrayType=new ArrayType(length);endian=this.clone();if(littleEndian){for(littleEndian=0;!endian.isZero();littleEndian++)byteLength=endian.andln(255),endian.iushrn(8),ArrayType[littleEndian]=byteLength;for(;littleEndian<length;littleEndian++)ArrayType[littleEndian]=0}else{for(littleEndian=0;littleEndian<length-byteLength;littleEndian++)ArrayType[littleEndian]=0;for(littleEndian=0;!endian.isZero();littleEndian++)byteLength=
endian.andln(255),endian.iushrn(8),ArrayType[length-littleEndian-1]=byteLength}return ArrayType};BN.prototype._countBits=Math.clz32?function(w){return 32-Math.clz32(w)}:function(w){var r=0;4096<=w&&(r+=13,w>>>=13);64<=w&&(r+=7,w>>>=7);8<=w&&(r+=4,w>>>=4);2<=w&&(r+=2,w>>>=2);return r+w};BN.prototype._zeroBits=function(w){if(0===w)return 26;var r=0;0===(w&8191)&&(r+=13,w>>>=13);0===(w&127)&&(r+=7,w>>>=7);0===(w&15)&&(r+=4,w>>>=4);0===(w&3)&&(r+=2,w>>>=2);0===(w&1)&&r++;return r};BN.prototype.bitLength=
function(){var hi=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+hi};BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);r+=b;if(26!==b)break}return r};BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function(width){return 0!==this.negative?this.abs().inotn(width).iaddn(1):this.clone()};BN.prototype.fromTwos=function(width){return this.testn(width-1)?this.notn(width).iaddn(1).ineg():
this.clone()};BN.prototype.isNeg=function(){return 0!==this.negative};BN.prototype.neg=function(){return this.clone().ineg()};BN.prototype.ineg=function(){this.isZero()||(this.negative^=1);return this};BN.prototype.iuor=function(num){for(;this.length<num.length;)this.words[this.length++]=0;for(var i=0;i<num.length;i++)this.words[i]|=num.words[i];return this.strip()};BN.prototype.ior=function(num){assert(0===(this.negative|num.negative));return this.iuor(num)};BN.prototype.or=function(num){return this.length>
num.length?this.clone().ior(num):num.clone().ior(this)};BN.prototype.uor=function(num){return this.length>num.length?this.clone().iuor(num):num.clone().iuor(this)};BN.prototype.iuand=function(num){var b=this.length>num.length?num:this;for(var i=0;i<b.length;i++)this.words[i]&=num.words[i];this.length=b.length;return this.strip()};BN.prototype.iand=function(num){assert(0===(this.negative|num.negative));return this.iuand(num)};BN.prototype.and=function(num){return this.length>num.length?this.clone().iand(num):
num.clone().iand(this)};BN.prototype.uand=function(num){return this.length>num.length?this.clone().iuand(num):num.clone().iuand(this)};BN.prototype.iuxor=function(num){if(this.length>num.length)var a=this;else a=num,num=this;for(var i=0;i<num.length;i++)this.words[i]=a.words[i]^num.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];this.length=a.length;return this.strip()};BN.prototype.ixor=function(num){assert(0===(this.negative|num.negative));return this.iuxor(num)};BN.prototype.xor=
function(num){return this.length>num.length?this.clone().ixor(num):num.clone().ixor(this)};BN.prototype.uxor=function(num){return this.length>num.length?this.clone().iuxor(num):num.clone().iuxor(this)};BN.prototype.inotn=function(width){assert("number"===typeof width&&0<=width);var bytesNeeded=Math.ceil(width/26)|0;width%=26;this._expand(bytesNeeded);0<width&&bytesNeeded--;for(var i=0;i<bytesNeeded;i++)this.words[i]=~this.words[i]&67108863;0<width&&(this.words[i]=~this.words[i]&67108863>>26-width);
return this.strip()};BN.prototype.notn=function(width){return this.clone().inotn(width)};BN.prototype.setn=function(bit,val){assert("number"===typeof bit&&0<=bit);var off=bit/26|0;bit%=26;this._expand(off+1);this.words[off]=val?this.words[off]|1<<bit:this.words[off]&~(1<<bit);return this.strip()};BN.prototype.iadd=function(num){if(0!==this.negative&&0===num.negative)return this.negative=0,this.isub(num),this.negative^=1,this._normSign();if(0===this.negative&&0!==num.negative){num.negative=0;var r=
this.isub(num);num.negative=1;return r._normSign()}if(this.length>num.length)var a=this;else a=num,num=this;for(var i=r=0;i<num.length;i++)r=(a.words[i]|0)+(num.words[i]|0)+r,this.words[i]=r&67108863,r>>>=26;for(;0!==r&&i<a.length;i++)r=(a.words[i]|0)+r,this.words[i]=r&67108863,r>>>=26;this.length=a.length;if(0!==r)this.words[this.length]=r,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this};BN.prototype.add=function(num){if(0!==num.negative&&0===this.negative){num.negative=
0;var res=this.sub(num);num.negative^=1;return res}return 0===num.negative&&0!==this.negative?(this.negative=0,res=num.sub(this),this.negative=1,res):this.length>num.length?this.clone().iadd(num):num.clone().iadd(this)};BN.prototype.isub=function(num){if(0!==num.negative){num.negative=0;var r=this.iadd(num);num.negative=1;return r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(num),this.negative=1,this._normSign();r=this.cmp(num);if(0===r)return this.negative=0,this.length=1,this.words[0]=
0,this;if(0<r)var a=this;else a=num,num=this;for(var carry=0,i=0;i<num.length;i++)r=(a.words[i]|0)-(num.words[i]|0)+carry,carry=r>>26,this.words[i]=r&67108863;for(;0!==carry&&i<a.length;i++)r=(a.words[i]|0)+carry,carry=r>>26,this.words[i]=r&67108863;if(0===carry&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];this.length=Math.max(this.length,i);a!==this&&(this.negative=1);return this.strip()};BN.prototype.sub=function(num){return this.clone().isub(num)};var comb10MulTo=function(self,
num,out){var a=self.words,b=num.words,o=out.words,c=0,a0=a[0]|0,al0=a0&8191,ah0=a0>>>13,a1=a[1]|0;a0=a1&8191;var ah1=a1>>>13,a2=a[2]|0;a1=a2&8191;var ah2=a2>>>13,a3=a[3]|0;a2=a3&8191;var ah3=a3>>>13,a4=a[4]|0;a3=a4&8191;var ah4=a4>>>13,a5=a[5]|0;a4=a5&8191;var ah5=a5>>>13,a6=a[6]|0;a5=a6&8191;var ah6=a6>>>13,a7=a[7]|0;a6=a7&8191;var ah7=a7>>>13,a8=a[8]|0;a7=a8&8191;a8>>>=13;var a9=a[9]|0;a=a9&8191;a9>>>=13;var b0=b[0]|0,bl0=b0&8191,bh0=b0>>>13,b1=b[1]|0;b0=b1&8191;var bh1=b1>>>13,b2=b[2]|0;b1=b2&
8191;var bh2=b2>>>13,b3=b[3]|0;b2=b3&8191;var bh3=b3>>>13,b4=b[4]|0;b3=b4&8191;var bh4=b4>>>13,b5=b[5]|0;b4=b5&8191;var bh5=b5>>>13,b6=b[6]|0;b5=b6&8191;var bh6=b6>>>13,b7=b[7]|0;b6=b7&8191;var bh7=b7>>>13,b8=b[8]|0;b7=b8&8191;b8>>>=13;var b9=b[9]|0;b=b9&8191;b9>>>=13;out.negative=self.negative^num.negative;out.length=19;var lo=Math.imul(al0,bl0);self=Math.imul(al0,bh0);self=self+Math.imul(ah0,bl0)|0;num=Math.imul(ah0,bh0);var w0=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(w0>>>26)|0;w0&=
67108863;lo=Math.imul(a0,bl0);self=Math.imul(a0,bh0);self=self+Math.imul(ah1,bl0)|0;num=Math.imul(ah1,bh0);lo=lo+Math.imul(al0,b0)|0;self=self+Math.imul(al0,bh1)|0;self=self+Math.imul(ah0,b0)|0;num=num+Math.imul(ah0,bh1)|0;var w1=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(w1>>>26)|0;w1&=67108863;lo=Math.imul(a1,bl0);self=Math.imul(a1,bh0);self=self+Math.imul(ah2,bl0)|0;num=Math.imul(ah2,bh0);lo=lo+Math.imul(a0,b0)|0;self=self+Math.imul(a0,bh1)|0;self=self+Math.imul(ah1,b0)|0;num=num+Math.imul(ah1,
bh1)|0;lo=lo+Math.imul(al0,b1)|0;self=self+Math.imul(al0,bh2)|0;self=self+Math.imul(ah0,b1)|0;num=num+Math.imul(ah0,bh2)|0;var w2=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(w2>>>26)|0;w2&=67108863;lo=Math.imul(a2,bl0);self=Math.imul(a2,bh0);self=self+Math.imul(ah3,bl0)|0;num=Math.imul(ah3,bh0);lo=lo+Math.imul(a1,b0)|0;self=self+Math.imul(a1,bh1)|0;self=self+Math.imul(ah2,b0)|0;num=num+Math.imul(ah2,bh1)|0;lo=lo+Math.imul(a0,b1)|0;self=self+Math.imul(a0,bh2)|0;self=self+Math.imul(ah1,b1)|
0;num=num+Math.imul(ah1,bh2)|0;lo=lo+Math.imul(al0,b2)|0;self=self+Math.imul(al0,bh3)|0;self=self+Math.imul(ah0,b2)|0;num=num+Math.imul(ah0,bh3)|0;var w3=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(w3>>>26)|0;w3&=67108863;lo=Math.imul(a3,bl0);self=Math.imul(a3,bh0);self=self+Math.imul(ah4,bl0)|0;num=Math.imul(ah4,bh0);lo=lo+Math.imul(a2,b0)|0;self=self+Math.imul(a2,bh1)|0;self=self+Math.imul(ah3,b0)|0;num=num+Math.imul(ah3,bh1)|0;lo=lo+Math.imul(a1,b1)|0;self=self+Math.imul(a1,bh2)|0;self=
self+Math.imul(ah2,b1)|0;num=num+Math.imul(ah2,bh2)|0;lo=lo+Math.imul(a0,b2)|0;self=self+Math.imul(a0,bh3)|0;self=self+Math.imul(ah1,b2)|0;num=num+Math.imul(ah1,bh3)|0;lo=lo+Math.imul(al0,b3)|0;self=self+Math.imul(al0,bh4)|0;self=self+Math.imul(ah0,b3)|0;num=num+Math.imul(ah0,bh4)|0;var w4=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(w4>>>26)|0;w4&=67108863;lo=Math.imul(a4,bl0);self=Math.imul(a4,bh0);self=self+Math.imul(ah5,bl0)|0;num=Math.imul(ah5,bh0);lo=lo+Math.imul(a3,b0)|0;self=self+Math.imul(a3,
bh1)|0;self=self+Math.imul(ah4,b0)|0;num=num+Math.imul(ah4,bh1)|0;lo=lo+Math.imul(a2,b1)|0;self=self+Math.imul(a2,bh2)|0;self=self+Math.imul(ah3,b1)|0;num=num+Math.imul(ah3,bh2)|0;lo=lo+Math.imul(a1,b2)|0;self=self+Math.imul(a1,bh3)|0;self=self+Math.imul(ah2,b2)|0;num=num+Math.imul(ah2,bh3)|0;lo=lo+Math.imul(a0,b3)|0;self=self+Math.imul(a0,bh4)|0;self=self+Math.imul(ah1,b3)|0;num=num+Math.imul(ah1,bh4)|0;lo=lo+Math.imul(al0,b4)|0;self=self+Math.imul(al0,bh5)|0;self=self+Math.imul(ah0,b4)|0;num=num+
Math.imul(ah0,bh5)|0;var w5=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(w5>>>26)|0;w5&=67108863;lo=Math.imul(a5,bl0);self=Math.imul(a5,bh0);self=self+Math.imul(ah6,bl0)|0;num=Math.imul(ah6,bh0);lo=lo+Math.imul(a4,b0)|0;self=self+Math.imul(a4,bh1)|0;self=self+Math.imul(ah5,b0)|0;num=num+Math.imul(ah5,bh1)|0;lo=lo+Math.imul(a3,b1)|0;self=self+Math.imul(a3,bh2)|0;self=self+Math.imul(ah4,b1)|0;num=num+Math.imul(ah4,bh2)|0;lo=lo+Math.imul(a2,b2)|0;self=self+Math.imul(a2,bh3)|0;self=self+Math.imul(ah3,
b2)|0;num=num+Math.imul(ah3,bh3)|0;lo=lo+Math.imul(a1,b3)|0;self=self+Math.imul(a1,bh4)|0;self=self+Math.imul(ah2,b3)|0;num=num+Math.imul(ah2,bh4)|0;lo=lo+Math.imul(a0,b4)|0;self=self+Math.imul(a0,bh5)|0;self=self+Math.imul(ah1,b4)|0;num=num+Math.imul(ah1,bh5)|0;lo=lo+Math.imul(al0,b5)|0;self=self+Math.imul(al0,bh6)|0;self=self+Math.imul(ah0,b5)|0;num=num+Math.imul(ah0,bh6)|0;var w6=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(w6>>>26)|0;w6&=67108863;lo=Math.imul(a6,bl0);self=Math.imul(a6,
bh0);self=self+Math.imul(ah7,bl0)|0;num=Math.imul(ah7,bh0);lo=lo+Math.imul(a5,b0)|0;self=self+Math.imul(a5,bh1)|0;self=self+Math.imul(ah6,b0)|0;num=num+Math.imul(ah6,bh1)|0;lo=lo+Math.imul(a4,b1)|0;self=self+Math.imul(a4,bh2)|0;self=self+Math.imul(ah5,b1)|0;num=num+Math.imul(ah5,bh2)|0;lo=lo+Math.imul(a3,b2)|0;self=self+Math.imul(a3,bh3)|0;self=self+Math.imul(ah4,b2)|0;num=num+Math.imul(ah4,bh3)|0;lo=lo+Math.imul(a2,b3)|0;self=self+Math.imul(a2,bh4)|0;self=self+Math.imul(ah3,b3)|0;num=num+Math.imul(ah3,
bh4)|0;lo=lo+Math.imul(a1,b4)|0;self=self+Math.imul(a1,bh5)|0;self=self+Math.imul(ah2,b4)|0;num=num+Math.imul(ah2,bh5)|0;lo=lo+Math.imul(a0,b5)|0;self=self+Math.imul(a0,bh6)|0;self=self+Math.imul(ah1,b5)|0;num=num+Math.imul(ah1,bh6)|0;lo=lo+Math.imul(al0,b6)|0;self=self+Math.imul(al0,bh7)|0;self=self+Math.imul(ah0,b6)|0;num=num+Math.imul(ah0,bh7)|0;var w7=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(w7>>>26)|0;w7&=67108863;lo=Math.imul(a7,bl0);self=Math.imul(a7,bh0);self=self+Math.imul(a8,
bl0)|0;num=Math.imul(a8,bh0);lo=lo+Math.imul(a6,b0)|0;self=self+Math.imul(a6,bh1)|0;self=self+Math.imul(ah7,b0)|0;num=num+Math.imul(ah7,bh1)|0;lo=lo+Math.imul(a5,b1)|0;self=self+Math.imul(a5,bh2)|0;self=self+Math.imul(ah6,b1)|0;num=num+Math.imul(ah6,bh2)|0;lo=lo+Math.imul(a4,b2)|0;self=self+Math.imul(a4,bh3)|0;self=self+Math.imul(ah5,b2)|0;num=num+Math.imul(ah5,bh3)|0;lo=lo+Math.imul(a3,b3)|0;self=self+Math.imul(a3,bh4)|0;self=self+Math.imul(ah4,b3)|0;num=num+Math.imul(ah4,bh4)|0;lo=lo+Math.imul(a2,
b4)|0;self=self+Math.imul(a2,bh5)|0;self=self+Math.imul(ah3,b4)|0;num=num+Math.imul(ah3,bh5)|0;lo=lo+Math.imul(a1,b5)|0;self=self+Math.imul(a1,bh6)|0;self=self+Math.imul(ah2,b5)|0;num=num+Math.imul(ah2,bh6)|0;lo=lo+Math.imul(a0,b6)|0;self=self+Math.imul(a0,bh7)|0;self=self+Math.imul(ah1,b6)|0;num=num+Math.imul(ah1,bh7)|0;lo=lo+Math.imul(al0,b7)|0;self=self+Math.imul(al0,b8)|0;self=self+Math.imul(ah0,b7)|0;num=num+Math.imul(ah0,b8)|0;var w8=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(w8>>>
26)|0;w8&=67108863;lo=Math.imul(a,bl0);self=Math.imul(a,bh0);self=self+Math.imul(a9,bl0)|0;num=Math.imul(a9,bh0);lo=lo+Math.imul(a7,b0)|0;self=self+Math.imul(a7,bh1)|0;self=self+Math.imul(a8,b0)|0;num=num+Math.imul(a8,bh1)|0;lo=lo+Math.imul(a6,b1)|0;self=self+Math.imul(a6,bh2)|0;self=self+Math.imul(ah7,b1)|0;num=num+Math.imul(ah7,bh2)|0;lo=lo+Math.imul(a5,b2)|0;self=self+Math.imul(a5,bh3)|0;self=self+Math.imul(ah6,b2)|0;num=num+Math.imul(ah6,bh3)|0;lo=lo+Math.imul(a4,b3)|0;self=self+Math.imul(a4,
bh4)|0;self=self+Math.imul(ah5,b3)|0;num=num+Math.imul(ah5,bh4)|0;lo=lo+Math.imul(a3,b4)|0;self=self+Math.imul(a3,bh5)|0;self=self+Math.imul(ah4,b4)|0;num=num+Math.imul(ah4,bh5)|0;lo=lo+Math.imul(a2,b5)|0;self=self+Math.imul(a2,bh6)|0;self=self+Math.imul(ah3,b5)|0;num=num+Math.imul(ah3,bh6)|0;lo=lo+Math.imul(a1,b6)|0;self=self+Math.imul(a1,bh7)|0;self=self+Math.imul(ah2,b6)|0;num=num+Math.imul(ah2,bh7)|0;lo=lo+Math.imul(a0,b7)|0;self=self+Math.imul(a0,b8)|0;self=self+Math.imul(ah1,b7)|0;num=num+Math.imul(ah1,
b8)|0;lo=lo+Math.imul(al0,b)|0;self=self+Math.imul(al0,b9)|0;self=self+Math.imul(ah0,b)|0;num=num+Math.imul(ah0,b9)|0;al0=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(al0>>>26)|0;al0&=67108863;lo=Math.imul(a,b0);self=Math.imul(a,bh1);self=self+Math.imul(a9,b0)|0;num=Math.imul(a9,bh1);lo=lo+Math.imul(a7,b1)|0;self=self+Math.imul(a7,bh2)|0;self=self+Math.imul(a8,b1)|0;num=num+Math.imul(a8,bh2)|0;lo=lo+Math.imul(a6,b2)|0;self=self+Math.imul(a6,bh3)|0;self=self+Math.imul(ah7,b2)|0;num=num+Math.imul(ah7,
bh3)|0;lo=lo+Math.imul(a5,b3)|0;self=self+Math.imul(a5,bh4)|0;self=self+Math.imul(ah6,b3)|0;num=num+Math.imul(ah6,bh4)|0;lo=lo+Math.imul(a4,b4)|0;self=self+Math.imul(a4,bh5)|0;self=self+Math.imul(ah5,b4)|0;num=num+Math.imul(ah5,bh5)|0;lo=lo+Math.imul(a3,b5)|0;self=self+Math.imul(a3,bh6)|0;self=self+Math.imul(ah4,b5)|0;num=num+Math.imul(ah4,bh6)|0;lo=lo+Math.imul(a2,b6)|0;self=self+Math.imul(a2,bh7)|0;self=self+Math.imul(ah3,b6)|0;num=num+Math.imul(ah3,bh7)|0;lo=lo+Math.imul(a1,b7)|0;self=self+Math.imul(a1,
b8)|0;self=self+Math.imul(ah2,b7)|0;num=num+Math.imul(ah2,b8)|0;lo=lo+Math.imul(a0,b)|0;self=self+Math.imul(a0,b9)|0;self=self+Math.imul(ah1,b)|0;num=num+Math.imul(ah1,b9)|0;a0=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(a0>>>26)|0;a0&=67108863;lo=Math.imul(a,b1);self=Math.imul(a,bh2);self=self+Math.imul(a9,b1)|0;num=Math.imul(a9,bh2);lo=lo+Math.imul(a7,b2)|0;self=self+Math.imul(a7,bh3)|0;self=self+Math.imul(a8,b2)|0;num=num+Math.imul(a8,bh3)|0;lo=lo+Math.imul(a6,b3)|0;self=self+Math.imul(a6,
bh4)|0;self=self+Math.imul(ah7,b3)|0;num=num+Math.imul(ah7,bh4)|0;lo=lo+Math.imul(a5,b4)|0;self=self+Math.imul(a5,bh5)|0;self=self+Math.imul(ah6,b4)|0;num=num+Math.imul(ah6,bh5)|0;lo=lo+Math.imul(a4,b5)|0;self=self+Math.imul(a4,bh6)|0;self=self+Math.imul(ah5,b5)|0;num=num+Math.imul(ah5,bh6)|0;lo=lo+Math.imul(a3,b6)|0;self=self+Math.imul(a3,bh7)|0;self=self+Math.imul(ah4,b6)|0;num=num+Math.imul(ah4,bh7)|0;lo=lo+Math.imul(a2,b7)|0;self=self+Math.imul(a2,b8)|0;self=self+Math.imul(ah3,b7)|0;num=num+Math.imul(ah3,
b8)|0;lo=lo+Math.imul(a1,b)|0;self=self+Math.imul(a1,b9)|0;self=self+Math.imul(ah2,b)|0;num=num+Math.imul(ah2,b9)|0;a1=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(a1>>>26)|0;a1&=67108863;lo=Math.imul(a,b2);self=Math.imul(a,bh3);self=self+Math.imul(a9,b2)|0;num=Math.imul(a9,bh3);lo=lo+Math.imul(a7,b3)|0;self=self+Math.imul(a7,bh4)|0;self=self+Math.imul(a8,b3)|0;num=num+Math.imul(a8,bh4)|0;lo=lo+Math.imul(a6,b4)|0;self=self+Math.imul(a6,bh5)|0;self=self+Math.imul(ah7,b4)|0;num=num+Math.imul(ah7,
bh5)|0;lo=lo+Math.imul(a5,b5)|0;self=self+Math.imul(a5,bh6)|0;self=self+Math.imul(ah6,b5)|0;num=num+Math.imul(ah6,bh6)|0;lo=lo+Math.imul(a4,b6)|0;self=self+Math.imul(a4,bh7)|0;self=self+Math.imul(ah5,b6)|0;num=num+Math.imul(ah5,bh7)|0;lo=lo+Math.imul(a3,b7)|0;self=self+Math.imul(a3,b8)|0;self=self+Math.imul(ah4,b7)|0;num=num+Math.imul(ah4,b8)|0;lo=lo+Math.imul(a2,b)|0;self=self+Math.imul(a2,b9)|0;self=self+Math.imul(ah3,b)|0;num=num+Math.imul(ah3,b9)|0;a2=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>
13)|0)+(a2>>>26)|0;a2&=67108863;lo=Math.imul(a,b3);self=Math.imul(a,bh4);self=self+Math.imul(a9,b3)|0;num=Math.imul(a9,bh4);lo=lo+Math.imul(a7,b4)|0;self=self+Math.imul(a7,bh5)|0;self=self+Math.imul(a8,b4)|0;num=num+Math.imul(a8,bh5)|0;lo=lo+Math.imul(a6,b5)|0;self=self+Math.imul(a6,bh6)|0;self=self+Math.imul(ah7,b5)|0;num=num+Math.imul(ah7,bh6)|0;lo=lo+Math.imul(a5,b6)|0;self=self+Math.imul(a5,bh7)|0;self=self+Math.imul(ah6,b6)|0;num=num+Math.imul(ah6,bh7)|0;lo=lo+Math.imul(a4,b7)|0;self=self+Math.imul(a4,
b8)|0;self=self+Math.imul(ah5,b7)|0;num=num+Math.imul(ah5,b8)|0;lo=lo+Math.imul(a3,b)|0;self=self+Math.imul(a3,b9)|0;self=self+Math.imul(ah4,b)|0;num=num+Math.imul(ah4,b9)|0;a3=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(a3>>>26)|0;a3&=67108863;lo=Math.imul(a,b4);self=Math.imul(a,bh5);self=self+Math.imul(a9,b4)|0;num=Math.imul(a9,bh5);lo=lo+Math.imul(a7,b5)|0;self=self+Math.imul(a7,bh6)|0;self=self+Math.imul(a8,b5)|0;num=num+Math.imul(a8,bh6)|0;lo=lo+Math.imul(a6,b6)|0;self=self+Math.imul(a6,
bh7)|0;self=self+Math.imul(ah7,b6)|0;num=num+Math.imul(ah7,bh7)|0;lo=lo+Math.imul(a5,b7)|0;self=self+Math.imul(a5,b8)|0;self=self+Math.imul(ah6,b7)|0;num=num+Math.imul(ah6,b8)|0;lo=lo+Math.imul(a4,b)|0;self=self+Math.imul(a4,b9)|0;self=self+Math.imul(ah5,b)|0;num=num+Math.imul(ah5,b9)|0;a4=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(a4>>>26)|0;a4&=67108863;lo=Math.imul(a,b5);self=Math.imul(a,bh6);self=self+Math.imul(a9,b5)|0;num=Math.imul(a9,bh6);lo=lo+Math.imul(a7,b6)|0;self=self+Math.imul(a7,
bh7)|0;self=self+Math.imul(a8,b6)|0;num=num+Math.imul(a8,bh7)|0;lo=lo+Math.imul(a6,b7)|0;self=self+Math.imul(a6,b8)|0;self=self+Math.imul(ah7,b7)|0;num=num+Math.imul(ah7,b8)|0;lo=lo+Math.imul(a5,b)|0;self=self+Math.imul(a5,b9)|0;self=self+Math.imul(ah6,b)|0;num=num+Math.imul(ah6,b9)|0;a5=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(a5>>>26)|0;a5&=67108863;lo=Math.imul(a,b6);self=Math.imul(a,bh7);self=self+Math.imul(a9,b6)|0;num=Math.imul(a9,bh7);lo=lo+Math.imul(a7,b7)|0;self=self+Math.imul(a7,
b8)|0;self=self+Math.imul(a8,b7)|0;num=num+Math.imul(a8,b8)|0;lo=lo+Math.imul(a6,b)|0;self=self+Math.imul(a6,b9)|0;self=self+Math.imul(ah7,b)|0;num=num+Math.imul(ah7,b9)|0;a6=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(a6>>>26)|0;a6&=67108863;lo=Math.imul(a,b7);self=Math.imul(a,b8);self=self+Math.imul(a9,b7)|0;num=Math.imul(a9,b8);lo=lo+Math.imul(a7,b)|0;self=self+Math.imul(a7,b9)|0;self=self+Math.imul(a8,b)|0;num=num+Math.imul(a8,b9)|0;a7=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+
(a7>>>26)|0;a7&=67108863;lo=Math.imul(a,b);self=Math.imul(a,b9);self=self+Math.imul(a9,b)|0;num=Math.imul(a9,b9);ah0=(c+lo|0)+((self&8191)<<13)|0;c=(num+(self>>>13)|0)+(ah0>>>26)|0;o[0]=w0;o[1]=w1;o[2]=w2;o[3]=w3;o[4]=w4;o[5]=w5;o[6]=w6;o[7]=w7;o[8]=w8;o[9]=al0;o[10]=a0;o[11]=a1;o[12]=a2;o[13]=a3;o[14]=a4;o[15]=a5;o[16]=a6;o[17]=a7;o[18]=ah0&67108863;0!==c&&(o[19]=c,out.length++);return out};Math.imul||(comb10MulTo=smallMulTo);BN.prototype.mulTo=function(num,out){var len=this.length+num.length;if(10===
this.length&&10===num.length)num=comb10MulTo(this,num,out);else if(63>len)num=smallMulTo(this,num,out);else if(1024>len){out.negative=num.negative^this.negative;out.length=this.length+num.length;for(var carry=0,k=len=0;k<out.length-1;k++){var ncarry=len;len=0;carry&=67108863;for(var maxJ=Math.min(k,num.length-1),j=Math.max(0,k-this.length+1);j<=maxJ;j++){var r=(this.words[k-j]|0)*(num.words[j]|0),lo=r&67108863;ncarry=ncarry+(r/67108864|0)|0;lo=lo+carry|0;carry=lo&67108863;ncarry=ncarry+(lo>>>26)|
0;len+=ncarry>>>26;ncarry&=67108863}out.words[k]=carry;carry=ncarry}0!==carry?out.words[k]=carry:out.length--;num=out.strip()}else num=(new FFTM).mulp(this,num,out);return num};FFTM.prototype.makeRBT=function(N){for(var t=Array(N),l=BN.prototype._countBits(N)-1,i=0;i<N;i++)t[i]=this.revBin(i,l,N);return t};FFTM.prototype.revBin=function(x,l,N){if(0===x||x===N-1)return x;for(var i=N=0;i<l;i++)N|=(x&1)<<l-i-1,x>>=1;return N};FFTM.prototype.permute=function(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++)rtws[i]=
rws[rbt[i]],itws[i]=iws[rbt[i]]};FFTM.prototype.transform=function(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(rws=1;rws<N;rws<<=1){iws=rws<<1;rbt=Math.cos(2*Math.PI/iws);for(var itwdf=Math.sin(2*Math.PI/iws),p=0;p<N;p+=iws)for(var rtwdf_=rbt,itwdf_=itwdf,j=0;j<rws;j++){var re=rtws[p+j],ie=itws[p+j],ro=rtws[p+j+rws],io=itws[p+j+rws],rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro;ro=rx;rtws[p+j]=re+ro;itws[p+j]=ie+io;rtws[p+j+rws]=re-ro;itws[p+j+rws]=ie-io;j!==iws&&(rx=rbt*rtwdf_-
itwdf*itwdf_,itwdf_=rbt*itwdf_+itwdf*rtwdf_,rtwdf_=rx)}}};FFTM.prototype.guessLen13b=function(n,m){n=Math.max(m,n)|1;m=n&1;var i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+m};FFTM.prototype.conjugate=function(rws,iws,N){if(!(1>=N))for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1];rws[N-i-1]=t;t=iws[i];iws[i]=-iws[N-i-1];iws[N-i-1]=-t}};FFTM.prototype.normalize13b=function(ws,N){for(var carry=0,i=0;i<N/2;i++)carry=8192*Math.round(ws[2*i+1]/N)+Math.round(ws[2*i]/N)+carry,ws[i]=carry&67108863,carry=
67108864>carry?0:carry/67108864|0;return ws};FFTM.prototype.convert13b=function(ws,len,rws,N){for(var carry=0,i=0;i<len;i++)carry+=ws[i]|0,rws[2*i]=carry&8191,carry>>>=13,rws[2*i+1]=carry&8191,carry>>>=13;for(i=2*len;i<N;++i)rws[i]=0;assert(0===carry);assert(0===(carry&-8192))};FFTM.prototype.stub=function(N){for(var ph=Array(N),i=0;i<N;i++)ph[i]=0;return ph};FFTM.prototype.mulp=function(x,y,out){var N=2*this.guessLen13b(x.length,y.length),rbt=this.makeRBT(N),_=this.stub(N),rws=Array(N),rwst=Array(N),
iwst=Array(N),nrws=Array(N),nrwst=Array(N),niwst=Array(N),rmws=out.words;rmws.length=N;this.convert13b(x.words,x.length,rws,N);this.convert13b(y.words,y.length,nrws,N);this.transform(rws,_,rwst,iwst,N,rbt);this.transform(nrws,_,nrwst,niwst,N,rbt);for(rws=0;rws<N;rws++)nrws=rwst[rws]*nrwst[rws]-iwst[rws]*niwst[rws],iwst[rws]=rwst[rws]*niwst[rws]+iwst[rws]*nrwst[rws],rwst[rws]=nrws;this.conjugate(rwst,iwst,N);this.transform(rwst,iwst,rmws,_,N,rbt);this.conjugate(rmws,_,N);this.normalize13b(rmws,N);
out.negative=x.negative^y.negative;out.length=x.length+y.length;return out.strip()};BN.prototype.mul=function(num){var out=new BN(null);out.words=Array(this.length+num.length);return this.mulTo(num,out)};BN.prototype.mulf=function(num){var out=new BN(null);out.words=Array(this.length+num.length);return(new FFTM).mulp(this,num,out)};BN.prototype.imul=function(num){return this.clone().mulTo(num,this)};BN.prototype.imuln=function(num){assert("number"===typeof num);assert(67108864>num);for(var carry=
0,i=0;i<this.length;i++){var w=(this.words[i]|0)*num,lo=(w&67108863)+(carry&67108863);carry>>=26;carry+=w/67108864|0;carry+=lo>>>26;this.words[i]=lo&67108863}0!==carry&&(this.words[i]=carry,this.length++);return this};BN.prototype.muln=function(num){return this.clone().imuln(num)};BN.prototype.sqr=function(){return this.mul(this)};BN.prototype.isqr=function(){return this.imul(this.clone())};BN.prototype.pow=function(num){for(var w=Array(num.bitLength()),bit=0;bit<w.length;bit++){var wbit=bit%26;w[bit]=
(num.words[bit/26|0]&1<<wbit)>>>wbit}if(0===w.length)return new BN(1);num=this;for(bit=0;bit<w.length&&0===w[bit];bit++,num=num.sqr());if(++bit<w.length)for(wbit=num.sqr();bit<w.length;bit++,wbit=wbit.sqr())0!==w[bit]&&(num=num.mul(wbit));return num};BN.prototype.iushln=function(bits){assert("number"===typeof bits&&0<=bits);var r=bits%26;bits=(bits-r)/26;var carryMask=67108863>>>26-r<<26-r,i;if(0!==r){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask;this.words[i]=(this.words[i]|
0)-newCarry<<r|carry;carry=newCarry>>>26-r}carry&&(this.words[i]=carry,this.length++)}if(0!==bits){for(i=this.length-1;0<=i;i--)this.words[i+bits]=this.words[i];for(i=0;i<bits;i++)this.words[i]=0;this.length+=bits}return this.strip()};BN.prototype.ishln=function(bits){assert(0===this.negative);return this.iushln(bits)};BN.prototype.iushrn=function(bits,hint,extended){assert("number"===typeof bits&&0<=bits);var r=bits%26,s=Math.min((bits-r)/26,this.length);bits=67108863^67108863>>>r<<r;hint=Math.max(0,
(hint?(hint-hint%26)/26:0)-s);if(extended){for(var i=0;i<s;i++)extended.words[i]=this.words[i];extended.length=s}if(0!==s)if(this.length>s)for(this.length-=s,i=0;i<this.length;i++)this.words[i]=this.words[i+s];else this.words[0]=0,this.length=1;s=0;for(i=this.length-1;0<=i&&(0!==s||i>=hint);i--){var word=this.words[i]|0;this.words[i]=s<<26-r|word>>>r;s=word&bits}extended&&0!==s&&(extended.words[extended.length++]=s);0===this.length&&(this.words[0]=0,this.length=1);return this.strip()};BN.prototype.ishrn=
function(bits,hint,extended){assert(0===this.negative);return this.iushrn(bits,hint,extended)};BN.prototype.shln=function(bits){return this.clone().ishln(bits)};BN.prototype.ushln=function(bits){return this.clone().iushln(bits)};BN.prototype.shrn=function(bits){return this.clone().ishrn(bits)};BN.prototype.ushrn=function(bits){return this.clone().iushrn(bits)};BN.prototype.testn=function(bit){assert("number"===typeof bit&&0<=bit);var r=bit%26;bit=(bit-r)/26;return this.length<=bit?!1:!!(this.words[bit]&
1<<r)};BN.prototype.imaskn=function(bits){assert("number"===typeof bits&&0<=bits);var r=bits%26;bits=(bits-r)/26;assert(0===this.negative,"imaskn works only with positive numbers");if(this.length<=bits)return this;0!==r&&bits++;this.length=Math.min(bits,this.length);0!==r&&(this.words[this.length-1]&=67108863^67108863>>>r<<r);return this.strip()};BN.prototype.maskn=function(bits){return this.clone().imaskn(bits)};BN.prototype.iaddn=function(num){assert("number"===typeof num);assert(67108864>num);
if(0>num)return this.isubn(-num);if(0!==this.negative){if(1===this.length&&(this.words[0]|0)<num)return this.words[0]=num-(this.words[0]|0),this.negative=0,this;this.negative=0;this.isubn(num);this.negative=1;return this}return this._iaddn(num)};BN.prototype._iaddn=function(num){this.words[0]+=num;for(num=0;num<this.length&&67108864<=this.words[num];num++)this.words[num]-=67108864,num===this.length-1?this.words[num+1]=1:this.words[num+1]++;this.length=Math.max(this.length,num+1);return this};BN.prototype.isubn=
function(num){assert("number"===typeof num);assert(67108864>num);if(0>num)return this.iaddn(-num);if(0!==this.negative)return this.negative=0,this.iaddn(num),this.negative=1,this;this.words[0]-=num;if(1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(num=0;num<this.length&&0>this.words[num];num++)this.words[num]+=67108864,--this.words[num+1];return this.strip()};BN.prototype.addn=function(num){return this.clone().iaddn(num)};BN.prototype.subn=function(num){return this.clone().isubn(num)};
BN.prototype.iabs=function(){this.negative=0;return this};BN.prototype.abs=function(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function(num,mul,shift){var i;this._expand(num.length+shift);var carry=0;for(i=0;i<num.length;i++){var w=(this.words[i+shift]|0)+carry;carry=(num.words[i]|0)*mul;w-=carry&67108863;carry=(w>>26)-(carry/67108864|0);this.words[i+shift]=w&67108863}for(;i<this.length-shift;i++)w=(this.words[i+shift]|0)+carry,carry=w>>26,this.words[i+shift]=w&67108863;if(0===carry)return this.strip();
assert(-1===carry);for(i=carry=0;i<this.length;i++)w=-(this.words[i]|0)+carry,carry=w>>26,this.words[i]=w&67108863;this.negative=1;return this.strip()};BN.prototype._wordDiv=function(num,mode){var a=this.clone(),b=num,bhi=b.words[b.length-1]|0;num=26-this._countBits(bhi);0!==num&&(b=b.ushln(num),a.iushln(num),bhi=b.words[b.length-1]|0);var m=a.length-b.length;if("mod"!==mode){var q=new BN(null);q.length=m+1;q.words=Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}i=a.clone()._ishlnsubmul(b,
1,m);0===i.negative&&(a=i,q&&(q.words[m]=1));for(--m;0<=m;m--){i=67108864*(a.words[b.length+m]|0)+(a.words[b.length+m-1]|0);i=Math.min(i/bhi|0,67108863);for(a._ishlnsubmul(b,i,m);0!==a.negative;)i--,a.negative=0,a._ishlnsubmul(b,1,m),a.isZero()||(a.negative^=1);q&&(q.words[m]=i)}q&&q.strip();a.strip();"div"!==mode&&0!==num&&a.iushrn(num);return{div:q||null,mod:a}};BN.prototype.divmod=function(num,mode,positive){assert(!num.isZero());if(this.isZero())return{div:new BN(0),mod:new BN(0)};var div;if(0!==
this.negative&&0===num.negative){var res=this.neg().divmod(num,mode);"mod"!==mode&&(div=res.div.neg());if("div"!==mode){var mod=res.mod.neg();positive&&0!==mod.negative&&mod.iadd(num)}return{div:div,mod:mod}}return 0===this.negative&&0!==num.negative?(res=this.divmod(num.neg(),mode),"mod"!==mode&&(div=res.div.neg()),{div:div,mod:res.mod}):0!==(this.negative&num.negative)?(res=this.neg().divmod(num.neg(),mode),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.isub(num)),{div:res.div,
mod:mod}):num.length>this.length||0>this.cmp(num)?{div:new BN(0),mod:this}:1===num.length?"div"===mode?{div:this.divn(num.words[0]),mod:null}:"mod"===mode?{div:null,mod:new BN(this.modn(num.words[0]))}:{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}:this._wordDiv(num,mode)};BN.prototype.div=function(num){return this.divmod(num,"div",!1).div};BN.prototype.mod=function(num){return this.divmod(num,"mod",!1).mod};BN.prototype.umod=function(num){return this.divmod(num,"mod",!0).mod};
BN.prototype.divRound=function(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=0!==dm.div.negative?dm.mod.isub(num):dm.mod,half=num.ushrn(1);num=num.andln(1);mod=mod.cmp(half);return 0>mod||1===num&&0===mod?dm.div:0!==dm.div.negative?dm.div.isubn(1):dm.div.iaddn(1)};BN.prototype.modn=function(num){assert(67108863>=num);for(var p=67108864%num,acc=0,i=this.length-1;0<=i;i--)acc=(p*acc+(this.words[i]|0))%num;return acc};BN.prototype.idivn=function(num){assert(67108863>=num);for(var carry=
0,i=this.length-1;0<=i;i--)carry=(this.words[i]|0)+67108864*carry,this.words[i]=carry/num|0,carry%=num;return this.strip()};BN.prototype.divn=function(num){return this.clone().idivn(num)};BN.prototype.egcd=function(p){assert(0===p.negative);assert(!p.isZero());var x=this,y=p.clone();x=0!==x.negative?x.umod(p):x.clone();p=new BN(1);for(var B=new BN(0),C=new BN(0),D=new BN(1),g=0;x.isEven()&&y.isEven();)x.iushrn(1),y.iushrn(1),++g;for(var yp=y.clone(),xp=x.clone();!x.isZero();){for(var i=0,im=1;0===
(x.words[0]&im)&&26>i;++i,im<<=1);if(0<i)for(x.iushrn(i);0<i--;){if(p.isOdd()||B.isOdd())p.iadd(yp),B.isub(xp);p.iushrn(1);B.iushrn(1)}i=0;for(im=1;0===(y.words[0]&im)&&26>i;++i,im<<=1);if(0<i)for(y.iushrn(i);0<i--;){if(C.isOdd()||D.isOdd())C.iadd(yp),D.isub(xp);C.iushrn(1);D.iushrn(1)}0<=x.cmp(y)?(x.isub(y),p.isub(C),B.isub(D)):(y.isub(x),C.isub(p),D.isub(B))}return{a:C,b:D,gcd:y.iushln(g)}};BN.prototype._invmp=function(p){assert(0===p.negative);assert(!p.isZero());var a=this,b=p.clone();a=0!==a.negative?
a.umod(p):a.clone();for(var x1=new BN(1),x2=new BN(0),delta=b.clone();0<a.cmpn(1)&&0<b.cmpn(1);){for(var i=0,im=1;0===(a.words[0]&im)&&26>i;++i,im<<=1);if(0<i)for(a.iushrn(i);0<i--;)x1.isOdd()&&x1.iadd(delta),x1.iushrn(1);i=0;for(im=1;0===(b.words[0]&im)&&26>i;++i,im<<=1);if(0<i)for(b.iushrn(i);0<i--;)x2.isOdd()&&x2.iadd(delta),x2.iushrn(1);0<=a.cmp(b)?(a.isub(b),x1.isub(x2)):(b.isub(a),x2.isub(x1))}a=0===a.cmpn(1)?x1:x2;0>a.cmpn(0)&&a.iadd(p);return a};BN.prototype.gcd=function(num){if(this.isZero())return num.abs();
if(num.isZero())return this.abs();var a=this.clone();num=num.clone();a.negative=0;for(var shift=num.negative=0;a.isEven()&&num.isEven();shift++)a.iushrn(1),num.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;num.isEven();)num.iushrn(1);var r=a.cmp(num);if(0>r)r=a,a=num,num=r;else if(0===r||0===num.cmpn(1))break;a.isub(num)}while(1);return num.iushln(shift)};BN.prototype.invm=function(num){return this.egcd(num).a.umod(num)};BN.prototype.isEven=function(){return 0===(this.words[0]&1)};BN.prototype.isOdd=
function(){return 1===(this.words[0]&1)};BN.prototype.andln=function(num){return this.words[0]&num};BN.prototype.bincn=function(bit){assert("number"===typeof bit);var r=bit%26;bit=(bit-r)/26;r=1<<r;if(this.length<=bit)return this._expand(bit+1),this.words[bit]|=r,this;for(;0!==r&&bit<this.length;bit++){var w=this.words[bit]|0;w+=r;r=w>>>26;w&=67108863;this.words[bit]=w}0!==r&&(this.words[bit]=r,this.length++);return this};BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]};BN.prototype.cmpn=
function(num){var negative=0>num;if(0!==this.negative&&!negative)return-1;if(0===this.negative&&negative)return 1;this.strip();1<this.length?num=1:(negative&&(num=-num),assert(67108863>=num,"Number is too big"),negative=this.words[0]|0,num=negative===num?0:negative<num?-1:1);return 0!==this.negative?-num|0:num};BN.prototype.cmp=function(num){if(0!==this.negative&&0===num.negative)return-1;if(0===this.negative&&0!==num.negative)return 1;num=this.ucmp(num);return 0!==this.negative?-num|0:num};BN.prototype.ucmp=
function(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;for(var res=0,i=this.length-1;0<=i;i--){var a=this.words[i]|0,b=num.words[i]|0;if(a!==b){a<b?res=-1:a>b&&(res=1);break}}return res};BN.prototype.gtn=function(num){return 1===this.cmpn(num)};BN.prototype.gt=function(num){return 1===this.cmp(num)};BN.prototype.gten=function(num){return 0<=this.cmpn(num)};BN.prototype.gte=function(num){return 0<=this.cmp(num)};BN.prototype.ltn=function(num){return-1===this.cmpn(num)};
BN.prototype.lt=function(num){return-1===this.cmp(num)};BN.prototype.lten=function(num){return 0>=this.cmpn(num)};BN.prototype.lte=function(num){return 0>=this.cmp(num)};BN.prototype.eqn=function(num){return 0===this.cmpn(num)};BN.prototype.eq=function(num){return 0===this.cmp(num)};BN.red=function(num){return new Red(num)};BN.prototype.toRed=function(ctx){assert(!this.red,"Already a number in reduction context");assert(0===this.negative,"red works only with positives");return ctx.convertTo(this)._forceRed(ctx)};
BN.prototype.fromRed=function(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function(ctx){this.red=ctx;return this};BN.prototype.forceRed=function(ctx){assert(!this.red,"Already a number in reduction context");return this._forceRed(ctx)};BN.prototype.redAdd=function(num){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,num)};BN.prototype.redIAdd=function(num){assert(this.red,"redIAdd works only with red numbers");
return this.red.iadd(this,num)};BN.prototype.redSub=function(num){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,num)};BN.prototype.redISub=function(num){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,num)};BN.prototype.redShl=function(num){assert(this.red,"redShl works only with red numbers");return this.red.shl(this,num)};BN.prototype.redMul=function(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,
num);return this.red.mul(this,num)};BN.prototype.redIMul=function(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.imul(this,num)};BN.prototype.redSqr=function(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function(){assert(this.red,
"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function(num){assert(this.red&&!num.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,num)};
var primes={k256:null,p224:null,p192:null,p25519:null};MPrime.prototype._tmp=function(){var tmp=new BN(null);tmp.words=Array(Math.ceil(this.n/13));return tmp};MPrime.prototype.ireduce=function(num){do{this.split(num,this.tmp);num=this.imulK(num);num=num.iadd(this.tmp);var rlen=num.bitLength()}while(rlen>this.n);rlen=rlen<this.n?-1:num.ucmp(this.p);0===rlen?(num.words[0]=0,num.length=1):0<rlen?num.isub(this.p):num.strip();return num};MPrime.prototype.split=function(input,out){input.iushrn(this.n,0,
out)};MPrime.prototype.imulK=function(num){return num.imul(this.k)};inherits(K256,MPrime);K256.prototype.split=function(input,output){for(var outLen=Math.min(input.length,9),i=0;i<outLen;i++)output.words[i]=input.words[i];output.length=outLen;if(9>=input.length)input.words[0]=0,input.length=1;else{outLen=input.words[9];output.words[output.length++]=outLen&4194303;for(i=10;i<input.length;i++)output=input.words[i]|0,input.words[i-10]=(output&4194303)<<4|outLen>>>22,outLen=output;outLen>>>=22;input.words[i-
10]=outLen;input.length=0===outLen&&10<input.length?input.length-10:input.length-9}};K256.prototype.imulK=function(num){num.words[num.length]=0;num.words[num.length+1]=0;num.length+=2;for(var lo=0,i=0;i<num.length;i++){var w=num.words[i]|0;lo+=977*w;num.words[i]=lo&67108863;lo=64*w+(lo/67108864|0)}0===num.words[num.length-1]&&(num.length--,0===num.words[num.length-1]&&num.length--);return num};inherits(P224,MPrime);inherits(P192,MPrime);inherits(P25519,MPrime);P25519.prototype.imulK=function(num){for(var carry=
0,i=0;i<num.length;i++){carry=19*(num.words[i]|0)+carry;var lo=carry&67108863;carry>>>=26;num.words[i]=lo}0!==carry&&(num.words[num.length++]=carry);return num};BN._prime=function(name){if(primes[name])return primes[name];if("k256"===name)var prime=new K256;else if("p224"===name)prime=new P224;else if("p192"===name)prime=new P192;else if("p25519"===name)prime=new P25519;else throw Error("Unknown prime "+name);return primes[name]=prime};Red.prototype._verify1=function(a){assert(0===a.negative,"red works only with positives");
assert(a.red,"red works only with red numbers")};Red.prototype._verify2=function(a,b){assert(0===(a.negative|b.negative),"red works only with positives");assert(a.red&&a.red===b.red,"red works only with red numbers")};Red.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)};Red.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)};Red.prototype.add=function(a,b){this._verify2(a,b);a=a.add(b);0<=a.cmp(this.m)&&
a.isub(this.m);return a._forceRed(this)};Red.prototype.iadd=function(a,b){this._verify2(a,b);a=a.iadd(b);0<=a.cmp(this.m)&&a.isub(this.m);return a};Red.prototype.sub=function(a,b){this._verify2(a,b);a=a.sub(b);0>a.cmpn(0)&&a.iadd(this.m);return a._forceRed(this)};Red.prototype.isub=function(a,b){this._verify2(a,b);a=a.isub(b);0>a.cmpn(0)&&a.iadd(this.m);return a};Red.prototype.shl=function(a,num){this._verify1(a);return this.imod(a.ushln(num))};Red.prototype.imul=function(a,b){this._verify2(a,b);
return this.imod(a.imul(b))};Red.prototype.mul=function(a,b){this._verify2(a,b);return this.imod(a.mul(b))};Red.prototype.isqr=function(a){return this.imul(a,a.clone())};Red.prototype.sqr=function(a){return this.mul(a,a)};Red.prototype.sqrt=function(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);assert(1===mod3%2);if(3===mod3)return mod3=this.m.add(new BN(1)).iushrn(2),this.pow(a,mod3);for(var q=this.m.subn(1),s=0;!q.isZero()&&0===q.andln(1);)s++,q.iushrn(1);assert(!q.isZero());mod3=(new BN(1)).toRed(this);
var nOne=mod3.redNeg(),lpow=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=(new BN(2*z*z)).toRed(this);0!==this.pow(z,lpow).cmp(nOne);)z.redIAdd(nOne);lpow=this.pow(z,q);nOne=this.pow(a,q.addn(1).iushrn(1));a=this.pow(a,q);for(q=s;0!==a.cmp(mod3);){z=a;for(s=0;0!==z.cmp(mod3);s++)z=z.redSqr();assert(s<q);lpow=this.pow(lpow,(new BN(1)).iushln(q-s-1));nOne=nOne.redMul(lpow);lpow=lpow.redSqr();a=a.redMul(lpow);q=s}return nOne};Red.prototype.invm=function(a){a=a._invmp(this.m);return 0!==a.negative?
(a.negative=0,this.imod(a).redNeg()):this.imod(a)};Red.prototype.pow=function(a,num){if(num.isZero())return(new BN(1)).toRed(this);if(0===num.cmpn(1))return a.clone();var wnd=Array(16);wnd[0]=(new BN(1)).toRed(this);wnd[1]=a;for(var i=2;i<wnd.length;i++)wnd[i]=this.mul(wnd[i-1],a);a=wnd[0];var current=0,currentLen=0,start=num.bitLength()%26;0===start&&(start=26);for(i=num.length-1;0<=i;i--){var word=num.words[i];for(--start;0<=start;start--){var bit=word>>start&1;a!==wnd[0]&&(a=this.sqr(a));if(0===
bit&&0===current)currentLen=0;else if(current<<=1,current|=bit,currentLen++,4===currentLen||0===i&&0===start)a=this.mul(a,wnd[current]),current=currentLen=0}start=26}return a};Red.prototype.convertTo=function(num){var r=num.umod(this.m);return r===num?r.clone():r};Red.prototype.convertFrom=function(num){num=num.clone();num.red=null;return num};BN.mont=function(num){return new Mont(num)};inherits(Mont,Red);Mont.prototype.convertTo=function(num){return this.imod(num.ushln(this.shift))};Mont.prototype.convertFrom=
function(num){num=this.imod(num.mul(this.rinv));num.red=null;return num};Mont.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;a=a.imul(b);b=a.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);b=a=a.isub(b).iushrn(this.shift);0<=a.cmp(this.m)?b=a.isub(this.m):0>a.cmpn(0)&&(b=a.iadd(this.m));return b._forceRed(this)};Mont.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return(new BN(0))._forceRed(this);a=a.mul(b);b=a.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);
b=a=a.isub(b).iushrn(this.shift);0<=a.cmp(this.m)?b=a.isub(this.m):0>a.cmpn(0)&&(b=a.iadd(this.m));return b._forceRed(this)};Mont.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}})("undefined"===typeof module$jscomp$0||module$jscomp$0,this)},{buffer:11}],10:[function(require,module,exports){(function(global){module.exports=function(length){length=new Uint8Array(length);(global.crypto||global.msCrypto).getRandomValues(length);return length}}).call(this,"undefined"!==
typeof global$jscomp$2?global$jscomp$2:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],11:[function(require,module,exports){},{}],12:[function(require,module,exports){exports.version=require("../package.json").version;exports.utils=require("./elliptic/utils");exports.rand=require("brorand");exports.curve=require("./elliptic/curve");exports.curves=require("./elliptic/curves");exports.ec=require("./elliptic/ec");exports.eddsa=require("./elliptic/eddsa")},{"../package.json":25,
"./elliptic/curve":15,"./elliptic/curves":18,"./elliptic/ec":19,"./elliptic/eddsa":22,"./elliptic/utils":24,brorand:10}],13:[function(require,module,exports){function BaseCurve(type,conf){this.type=type;this.p=new BN(conf.p,16);this.red=conf.prime?BN.red(conf.prime):BN.mont(this.p);this.zero=(new BN(0)).toRed(this.red);this.one=(new BN(1)).toRed(this.red);this.two=(new BN(2)).toRed(this.red);this.n=conf.n&&new BN(conf.n,16);this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed);this._wnafT1=Array(4);
this._wnafT2=Array(4);this._wnafT3=Array(4);this._wnafT4=Array(4);this._bitLength=this.n?this.n.bitLength():0;type=this.n&&this.p.div(this.n);!type||0<type.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(curve,type){this.curve=curve;this.type=type;this.precomputed=null}var BN=require("bn.js"),utils=require("../utils"),getNAF=utils.getNAF,getJSF=utils.getJSF,assert=utils.assert;module.exports=BaseCurve;BaseCurve.prototype.point=function(){throw Error("Not implemented");
};BaseCurve.prototype.validate=function(){throw Error("Not implemented");};BaseCurve.prototype._fixedNafMul=function(p,k){assert(p.precomputed);p=p._getDoubles();var naf=getNAF(k,1,this._bitLength),I=(1<<p.step+1)-(0===p.step%2?2:1);I/=3;for(var repr=[],j=0;j<naf.length;j+=p.step){var nafW=0;for(k=j+p.step-1;k>=j;k--)nafW=(nafW<<1)+naf[k];repr.push(nafW)}k=this.jpoint(null,null,null);for(naf=this.jpoint(null,null,null);0<I;I--){for(j=0;j<repr.length;j++)nafW=repr[j],nafW===I?naf=naf.mixedAdd(p.points[j]):
nafW===-I&&(naf=naf.mixedAdd(p.points[j].neg()));k=k.add(naf)}return k.toP()};BaseCurve.prototype._wnafMul=function(p,k){var nafPoints=p._getNAFPoints(4),wnd=nafPoints.points;nafPoints=getNAF(k,nafPoints.wnd,this._bitLength);for(var acc=this.jpoint(null,null,null),i=nafPoints.length-1;0<=i;i--){for(k=0;0<=i&&0===nafPoints[i];i--)k++;0<=i&&k++;acc=acc.dblp(k);if(0>i)break;k=nafPoints[i];assert(0!==k);acc="affine"===p.type?0<k?acc.mixedAdd(wnd[k-1>>1]):acc.mixedAdd(wnd[-k-1>>1].neg()):0<k?acc.add(wnd[k-
1>>1]):acc.add(wnd[-k-1>>1].neg())}return"affine"===p.type?acc.toP():acc};BaseCurve.prototype._wnafMulAdd=function(defW,points,coeffs,len,jacobianResult){for(var wndWidth=this._wnafT1,wnd=this._wnafT2,naf=this._wnafT3,max=0,i=0;i<len;i++){var p=points[i],nafPoints=p._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd;wnd[i]=nafPoints.points}for(i=len-1;1<=i;i-=2){nafPoints=i-1;var b=i;if(1!==wndWidth[nafPoints]||1!==wndWidth[b])naf[nafPoints]=getNAF(coeffs[nafPoints],wndWidth[nafPoints],this._bitLength),
naf[b]=getNAF(coeffs[b],wndWidth[b],this._bitLength),max=Math.max(naf[nafPoints].length,max),max=Math.max(naf[b].length,max);else{var comb=[points[nafPoints],null,null,points[b]];0===points[nafPoints].y.cmp(points[b].y)?(comb[1]=points[nafPoints].add(points[b]),comb[2]=points[nafPoints].toJ().mixedAdd(points[b].neg())):0===points[nafPoints].y.cmp(points[b].y.redNeg())?(comb[1]=points[nafPoints].toJ().mixedAdd(points[b]),comb[2]=points[nafPoints].add(points[b].neg())):(comb[1]=points[nafPoints].toJ().mixedAdd(points[b]),
comb[2]=points[nafPoints].toJ().mixedAdd(points[b].neg()));var index=[-3,-1,-5,-7,0,7,5,1,3],jsf=getJSF(coeffs[nafPoints],coeffs[b]);max=Math.max(jsf[0].length,max);naf[nafPoints]=Array(max);naf[b]=Array(max);for(defW=0;defW<max;defW++)naf[nafPoints][defW]=index[3*((jsf[0][defW]|0)+1)+((jsf[1][defW]|0)+1)],naf[b][defW]=0,wnd[nafPoints]=comb}}points=this.jpoint(null,null,null);coeffs=this._wnafT4;for(i=max;0<=i;i--){for(max=0;0<=i;){wndWidth=!0;for(defW=0;defW<len;defW++)coeffs[defW]=naf[defW][i]|
0,0!==coeffs[defW]&&(wndWidth=!1);if(!wndWidth)break;max++;i--}0<=i&&max++;points=points.dblp(max);if(0>i)break;for(defW=0;defW<len;defW++)max=coeffs[defW],0!==max&&(0<max?p=wnd[defW][max-1>>1]:0>max&&(p=wnd[defW][-max-1>>1].neg()),points="affine"===p.type?points.mixedAdd(p):points.add(p))}for(i=0;i<len;i++)wnd[i]=null;return jacobianResult?points:points.toP()};BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw Error("Not implemented");};BasePoint.prototype.validate=function(){return this.curve.validate(this)};
BaseCurve.prototype.decodePoint=function(bytes,enc){bytes=utils.toArray(bytes,enc);enc=this.p.byteLength();if((4===bytes[0]||6===bytes[0]||7===bytes[0])&&bytes.length-1===2*enc)return 6===bytes[0]?assert(0===bytes[bytes.length-1]%2):7===bytes[0]&&assert(1===bytes[bytes.length-1]%2),this.point(bytes.slice(1,1+enc),bytes.slice(1+enc,1+2*enc));if((2===bytes[0]||3===bytes[0])&&bytes.length-1===enc)return this.pointFromX(bytes.slice(1,1+enc),3===bytes[0]);throw Error("Unknown point format");};BasePoint.prototype.encodeCompressed=
function(enc){return this.encode(enc,!0)};BasePoint.prototype._encode=function(compact){var len=this.curve.p.byteLength(),x=this.getX().toArray("be",len);return compact?[this.getY().isEven()?2:3].concat(x):[4].concat(x,this.getY().toArray("be",len))};BasePoint.prototype.encode=function(enc,compact){return utils.encode(this._encode(compact),enc)};BasePoint.prototype.precompute=function(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};precomputed.naf=this._getNAFPoints(8);
precomputed.doubles=this._getDoubles(4,power);precomputed.beta=this._getBeta();this.precomputed=precomputed;return this};BasePoint.prototype._hasDoubles=function(k){if(!this.precomputed)return!1;var doubles=this.precomputed.doubles;return doubles?doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step):!1};BasePoint.prototype._getDoubles=function(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var doubles=[this],acc=this,i=0;i<power;i+=step){for(var j=
0;j<step;j++)acc=acc.dbl();doubles.push(acc)}return{step:step,points:doubles}};BasePoint.prototype._getNAFPoints=function(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var res=[this],max=(1<<wnd)-1,dbl=1===max?null:this.dbl(),i=1;i<max;i++)res[i]=res[i-1].add(dbl);return{wnd:wnd,points:res}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(k){for(var r=this,i=0;i<k;i++)r=r.dbl();return r}},{"../utils":24,"bn.js":9}],14:[function(require,
module,exports){module.exports={}},{}],15:[function(require,module,exports){exports.base=require("./base");exports.short=require("./short");exports.mont=require("./mont");exports.edwards=require("./edwards")},{"./base":13,"./edwards":14,"./mont":16,"./short":17}],16:[function(require,module,exports){arguments[4][14][0].apply(exports,arguments)},{dup:14}],17:[function(require,module,exports){function ShortCurve(conf){Base.call(this,"short",conf);this.a=(new BN(conf.a,16)).toRed(this.red);this.b=(new BN(conf.b,
16)).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=0===this.a.fromRed().cmpn(0);this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3);this.endo=this._getEndomorphism(conf);this._endoWnafT1=Array(4);this._endoWnafT2=Array(4)}function Point(curve,x,y,isRed){Base.BasePoint.call(this,curve,"affine");null===x&&null===y?(this.y=this.x=null,this.inf=!0):(this.x=new BN(x,16),this.y=new BN(y,16),isRed&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),
this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(curve,x,y,z){Base.BasePoint.call(this,curve,"jacobian");null===x&&null===y&&null===z?(this.y=this.x=this.curve.one,this.z=new BN(0)):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=new BN(z,16));this.x.red||(this.x=this.x.toRed(this.curve.red));this.y.red||(this.y=this.y.toRed(this.curve.red));this.z.red||(this.z=this.z.toRed(this.curve.red));this.zOne=this.z===this.curve.one}exports=require("../utils");var BN=require("bn.js"),
inherits=require("inherits"),Base=require("./base"),assert=exports.assert;inherits(ShortCurve,Base);module.exports=ShortCurve;ShortCurve.prototype._getEndomorphism=function(conf){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(conf.beta)var beta=(new BN(conf.beta,16)).toRed(this.red);else beta=this._getEndoRoots(this.p),beta=0>beta[0].cmp(beta[1])?beta[0]:beta[1],beta=beta.toRed(this.red);if(conf.lambda)var lambda=new BN(conf.lambda,16);else lambda=this._getEndoRoots(this.n),0===this.g.mul(lambda[0]).x.cmp(this.g.x.redMul(beta))?
lambda=lambda[0]:(lambda=lambda[1],assert(0===this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))));conf=conf.basis?conf.basis.map(function(vec){return{a:new BN(vec.a,16),b:new BN(vec.b,16)}}):this._getEndoBasis(lambda);return{beta:beta,lambda:lambda,basis:conf}}};ShortCurve.prototype._getEndoRoots=function(num){var red=num===this.p?this.red:BN.mont(num),tinv=(new BN(2)).toRed(red).redInvm();num=tinv.redNeg();tinv=(new BN(3)).toRed(red).redNeg().redSqrt().redMul(tinv);red=num.redAdd(tinv).fromRed();num=
num.redSub(tinv).fromRed();return[red,num]};ShortCurve.prototype._getEndoBasis=function(lambda){for(var aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),v=this.n.clone(),x1=new BN(1),y1=new BN(0),x2=new BN(0),y2=new BN(1),a0,b0,a1,b1,b2,prevR,i=0,r;0!==lambda.cmpn(0);){var q=v.div(lambda);r=v.sub(q.mul(lambda));b2=x2.sub(q.mul(x1));q=y2.sub(q.mul(y1));if(!a1&&0>r.cmp(aprxSqrt))a0=prevR.neg(),b0=x1,a1=r.neg(),b1=b2;else if(a1&&2===++i)break;prevR=r;v=lambda;lambda=r;x2=x1;x1=b2;y2=y1;y1=q}aprxSqrt=
r.neg();prevR=a1.sqr().add(b1.sqr());0<=aprxSqrt.sqr().add(b2.sqr()).cmp(prevR)&&(aprxSqrt=a0,b2=b0);a1.negative&&(a1=a1.neg(),b1=b1.neg());aprxSqrt.negative&&(aprxSqrt=aprxSqrt.neg(),b2=b2.neg());return[{a:a1,b:b1},{a:aprxSqrt,b:b2}]};ShortCurve.prototype._endoSplit=function(k){var basis=this.endo.basis,v1=basis[0],v2=basis[1],c1=v2.b.mul(k).divRound(this.n),c2=v1.b.neg().mul(k).divRound(this.n);basis=c1.mul(v1.a);var p2=c2.mul(v2.a);v1=c1.mul(v1.b);v2=c2.mul(v2.b);k=k.sub(basis).sub(p2);basis=v1.add(v2).neg();
return{k1:k,k2:basis}};ShortCurve.prototype.pointFromX=function(x,odd){x=new BN(x,16);x.red||(x=x.toRed(this.red));var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b),y=y2.redSqrt();if(0!==y.redSqr().redSub(y2).cmp(this.zero))throw Error("invalid point");y2=y.fromRed().isOdd();if(odd&&!y2||!odd&&y2)y=y.redNeg();return this.point(x,y)};ShortCurve.prototype.validate=function(point){if(point.inf)return!0;var x=point.x;point=point.y;var ax=this.a.redMul(x);x=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);
return 0===point.redSqr().redISub(x).cmpn(0)};ShortCurve.prototype._endoWnafMulAdd=function(points,coeffs,jacobianResult){for(var npoints=this._endoWnafT1,ncoeffs=this._endoWnafT2,i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]),p=points[i],beta=p._getBeta();split.k1.negative&&(split.k1.ineg(),p=p.neg(!0));split.k2.negative&&(split.k2.ineg(),beta=beta.neg(!0));npoints[2*i]=p;npoints[2*i+1]=beta;ncoeffs[2*i]=split.k1;ncoeffs[2*i+1]=split.k2}points=this._wnafMulAdd(1,npoints,ncoeffs,2*
i,jacobianResult);for(coeffs=0;coeffs<2*i;coeffs++)npoints[coeffs]=null,ncoeffs[coeffs]=null;return points};inherits(Point,Base.BasePoint);ShortCurve.prototype.point=function(x,y,isRed){return new Point(this,x,y,isRed)};ShortCurve.prototype.pointFromJSON=function(obj,red){return Point.fromJSON(this,obj,red)};Point.prototype._getBeta=function(){if(this.curve.endo){var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=
this.curve,endoMul=function(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)};pre.beta=beta;beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}}return beta}};Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},
naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point.fromJSON=function(curve,obj$jscomp$0,red){function obj2point(obj){return curve.point(obj[0],obj[1],red)}"string"===typeof obj$jscomp$0&&(obj$jscomp$0=JSON.parse(obj$jscomp$0));var res=curve.point(obj$jscomp$0[0],obj$jscomp$0[1],red);if(!obj$jscomp$0[2])return res;obj$jscomp$0=obj$jscomp$0[2];res.precomputed={beta:null,doubles:obj$jscomp$0.doubles&&{step:obj$jscomp$0.doubles.step,
points:[res].concat(obj$jscomp$0.doubles.points.map(obj2point))},naf:obj$jscomp$0.naf&&{wnd:obj$jscomp$0.naf.wnd,points:[res].concat(obj$jscomp$0.naf.points.map(obj2point))}};return res};Point.prototype.inspect=function(){return this.isInfinity()?"\x3cEC Point Infinity\x3e":"\x3cEC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+"\x3e"};Point.prototype.isInfinity=function(){return this.inf};Point.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;
if(this.eq(p))return this.dbl();if(this.neg().eq(p)||0===this.x.cmp(p.x))return this.curve.point(null,null);var c=this.y.redSub(p.y);0!==c.cmpn(0)&&(c=c.redMul(this.x.redSub(p.x).redInvm()));p=c.redSqr().redISub(this.x).redISub(p.x);c=c.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,c)};Point.prototype.dbl=function(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(0===ys1.cmpn(0))return this.curve.point(null,null);var a=this.curve.a,x2=this.x.redSqr();ys1=ys1.redInvm();
x2=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(ys1);a=x2.redSqr().redISub(this.x.redAdd(this.x));x2=x2.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,x2)};Point.prototype.getX=function(){return this.x.fromRed()};Point.prototype.getY=function(){return this.y.fromRed()};Point.prototype.mul=function(k){k=new BN(k,16);return this.isInfinity()?this:this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve.endo?this.curve._endoWnafMulAdd([this],[k]):this.curve._wnafMul(this,k)};
Point.prototype.mulAdd=function(k1,p2,k2){p2=[this,p2];k1=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(p2,k1):this.curve._wnafMulAdd(1,p2,k1,2)};Point.prototype.jmulAdd=function(k1,p2,k2){p2=[this,p2];k1=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(p2,k1,!0):this.curve._wnafMulAdd(1,p2,k1,2,!0)};Point.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||0===this.x.cmp(p.x)&&0===this.y.cmp(p.y))};Point.prototype.neg=function(_precompute){if(this.inf)return this;
var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){_precompute=this.precomputed;var negate=function(p){return p.neg()};res.precomputed={naf:_precompute.naf&&{wnd:_precompute.naf.wnd,points:_precompute.naf.points.map(negate)},doubles:_precompute.doubles&&{step:_precompute.doubles.step,points:_precompute.doubles.points.map(negate)}}}return res};Point.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)};
inherits(JPoint,Base.BasePoint);ShortCurve.prototype.jpoint=function(x,y,z){return new JPoint(this,x,y,z)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm(),zinv2=zinv.redSqr(),ax=this.x.redMul(zinv2);zinv=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,zinv)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;
var pz2=p.z.redSqr(),z2=this.z.redSqr(),u1=this.x.redMul(pz2),u2=p.x.redMul(z2);pz2=this.y.redMul(pz2.redMul(p.z));z2=p.y.redMul(z2.redMul(this.z));u2=u1.redSub(u2);z2=pz2.redSub(z2);if(0===u2.cmpn(0))return 0!==z2.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=u2.redSqr(),h3=h2.redMul(u2);h2=u1.redMul(h2);u1=z2.redSqr().redIAdd(h3).redISub(h2).redISub(h2);pz2=z2.redMul(h2.redISub(u1)).redISub(pz2.redMul(h3));p=this.z.redMul(p.z).redMul(u2);return this.curve.jpoint(u1,pz2,p)};JPoint.prototype.mixedAdd=
function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr(),u1=this.x,u2=p.x.redMul(z2),s1=this.y;p=p.y.redMul(z2).redMul(this.z);u2=u1.redSub(u2);p=s1.redSub(p);if(0===u2.cmpn(0))return 0!==p.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=u2.redSqr();z2=h2.redMul(u2);h2=u1.redMul(h2);u1=p.redSqr().redIAdd(z2).redISub(h2).redISub(h2);s1=p.redMul(h2.redISub(u1)).redISub(s1.redMul(z2));u2=this.z.redMul(u2);return this.curve.jpoint(u1,s1,u2)};JPoint.prototype.dblp=
function(pow){if(0===pow||this.isInfinity())return this;if(!pow)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var r=this,i=0;i<pow;i++)r=r.dbl();return r}r=this.curve.a;var tinv=this.curve.tinv,jx=this.x;i=this.y;var jz=this.z,jz4=jz.redSqr().redSqr(),jyd=i.redAdd(i);for(i=0;i<pow;i++){var jx2=jx.redSqr(),jyd2=jyd.redSqr(),jyd4=jyd2.redSqr();jx2=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(r.redMul(jz4));jyd2=jx.redMul(jyd2);jx=jx2.redSqr().redISub(jyd2.redAdd(jyd2));jyd2=jyd2.redISub(jx);
jx2=jx2.redMul(jyd2);jx2=jx2.redIAdd(jx2).redISub(jyd4);jz=jyd.redMul(jz);i+1<pow&&(jz4=jz4.redMul(jyd4));jyd=jx2}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){if(this.zOne){var nz=this.x.redSqr();var ny=this.y.redSqr();var nx=ny.redSqr();ny=this.x.redAdd(ny).redSqr().redISub(nz).redISub(nx);ny=ny.redIAdd(ny);nz=nz.redAdd(nz).redIAdd(nz);
var t=nz.redSqr().redISub(ny).redISub(ny),yyyy8=nx.redIAdd(nx);yyyy8=yyyy8.redIAdd(yyyy8);yyyy8=yyyy8.redIAdd(yyyy8);nx=t;ny=nz.redMul(ny.redISub(t)).redISub(yyyy8);nz=this.y.redAdd(this.y)}else nz=this.x.redSqr(),ny=this.y.redSqr(),nx=ny.redSqr(),ny=this.x.redAdd(ny).redSqr().redISub(nz).redISub(nx),ny=ny.redIAdd(ny),nz=nz.redAdd(nz).redIAdd(nz),t=nz.redSqr(),yyyy8=nx.redIAdd(nx),yyyy8=yyyy8.redIAdd(yyyy8),yyyy8=yyyy8.redIAdd(yyyy8),nx=t.redISub(ny).redISub(ny),ny=nz.redMul(ny.redISub(nx)).redISub(yyyy8),
nz=this.y.redMul(this.z),nz=nz.redIAdd(nz);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype._threeDbl=function(){var nz;if(this.zOne){var nx=this.x.redSqr();var yy=this.y.redSqr();var ny=yy.redSqr();yy=this.x.redAdd(yy).redSqr().redISub(nx).redISub(ny);yy=yy.redIAdd(yy);var m=nx.redAdd(nx).redIAdd(nx).redIAdd(this.curve.a);nx=nz=m.redSqr().redISub(yy).redISub(yy);ny=ny.redIAdd(ny);ny=ny.redIAdd(ny);ny=ny.redIAdd(ny);ny=m.redMul(yy.redISub(nz)).redISub(ny);nz=this.y.redAdd(this.y)}else nz=this.z.redSqr(),
yy=this.y.redSqr(),nx=this.x.redMul(yy),ny=this.x.redSub(nz).redMul(this.x.redAdd(nz)),ny=ny.redAdd(ny).redIAdd(ny),m=nx.redIAdd(nx),m=m.redIAdd(m),nx=m.redAdd(m),nx=ny.redSqr().redISub(nx),nz=this.y.redAdd(this.z).redSqr().redISub(yy).redISub(nz),yy=yy.redSqr(),yy=yy.redIAdd(yy),yy=yy.redIAdd(yy),yy=yy.redIAdd(yy),ny=ny.redMul(m.redISub(nx)).redISub(yy);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype._dbl=function(){var a=this.curve.a,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jx2=
jx.redSqr(),jy2=jy.redSqr();a=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));jx=jx.redAdd(jx);jx=jx.redIAdd(jx);jz4=jx.redMul(jy2);jx=a.redSqr().redISub(jz4.redAdd(jz4));jz4=jz4.redISub(jx);jy2=jy2.redSqr();jy2=jy2.redIAdd(jy2);jy2=jy2.redIAdd(jy2);jy2=jy2.redIAdd(jy2);jy2=a.redMul(jz4).redISub(jy2);jy=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(jx,jy2,jy)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr(),yy=this.y.redSqr(),zz=this.z.redSqr(),
yyyy=yy.redSqr(),m=xx.redAdd(xx).redIAdd(xx),mm=m.redSqr();xx=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);xx=xx.redIAdd(xx);xx=xx.redAdd(xx).redIAdd(xx);xx=xx.redISub(mm);var ee=xx.redSqr();yyyy=yyyy.redIAdd(yyyy);yyyy=yyyy.redIAdd(yyyy);yyyy=yyyy.redIAdd(yyyy);yyyy=yyyy.redIAdd(yyyy);m=m.redIAdd(xx).redSqr().redISub(mm).redISub(ee).redISub(yyyy);yy=yy.redMul(m);yy=yy.redIAdd(yy);yy=yy.redIAdd(yy);yy=this.x.redMul(ee).redISub(yy);yy=yy.redIAdd(yy);yy=yy.redIAdd(yy);yyyy=this.y.redMul(m.redMul(yyyy.redISub(m)).redISub(xx.redMul(ee)));
yyyy=yyyy.redIAdd(yyyy);yyyy=yyyy.redIAdd(yyyy);yyyy=yyyy.redIAdd(yyyy);zz=this.z.redAdd(xx).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(yy,yyyy,zz)};JPoint.prototype.mul=function(k,kbase){k=new BN(k,kbase);return this.curve._wnafMul(this,k)};JPoint.prototype.eq=function(p){if("affine"===p.type)return this.eq(p.toJ());if(this===p)return!0;var z2=this.z.redSqr(),pz2=p.z.redSqr();if(0!==this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0))return!1;z2=z2.redMul(this.z);pz2=pz2.redMul(p.z);
return 0===this.y.redMul(pz2).redISub(p.y.redMul(z2)).cmpn(0)};JPoint.prototype.eqXToP=function(x){var zs=this.z.redSqr(),rx=x.toRed(this.curve.red).redMul(zs);if(0===this.x.cmp(rx))return!0;x=x.clone();for(zs=this.curve.redN.redMul(zs);;){x.iadd(this.curve.n);if(0<=x.cmp(this.curve.p))return!1;rx.redIAdd(zs);if(0===this.x.cmp(rx))return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"\x3cEC JPoint Infinity\x3e":"\x3cEC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,
2)+" z: "+this.z.toString(16,2)+"\x3e"};JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":24,"./base":13,"bn.js":9,inherits:39}],18:[function(require,module,exports){function PresetCurve(options){this.curve="short"===options.type?new curve$jscomp$0.short(options):"edwards"===options.type?new curve$jscomp$0.edwards(options):new curve$jscomp$0.mont(options);this.g=this.curve.g;this.n=this.curve.n;this.hash=options.hash;assert(this.g.validate(),"Invalid curve");assert(this.g.mul(this.n).isInfinity(),
"Invalid curve, G*N !\x3d O")}function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,get:function(){var curve=new PresetCurve(options);Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,value:curve});return curve}})}var curves=exports;module=require("hash.js");var curve$jscomp$0=require("./curve"),assert=require("./utils").assert;curves.PresetCurve=PresetCurve;defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:module.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:module.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:module.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:module.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});defineCurve("p521",{type:"short",
prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
hash:module.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
hash:module.sha256,gRed:!1,g:["9"]});defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:module.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{var pre=require("./precomputed/secp256k1")}catch(e){pre=
void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:module.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",
b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]})},{"./curve":15,"./precomputed/secp256k1":23,"./utils":24,"hash.js":26}],19:[function(require,module,exports){function EC(options){if(!(this instanceof EC))return new EC(options);"string"===typeof options&&(assert(curves.hasOwnProperty(options),"Unknown curve "+options),options=curves[options]);options instanceof
curves.PresetCurve&&(options={curve:options});this.curve=options.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=options.curve.g;this.g.precompute(options.curve.n.bitLength()+1);this.hash=options.hash||options.curve.hash}var BN=require("bn.js"),HmacDRBG=require("hmac-drbg");exports=require("../utils");var curves=require("../curves"),rand=require("brorand"),assert=exports.assert,KeyPair=require("./key"),Signature=require("./signature");module.exports=EC;EC.prototype.keyPair=
function(options){return new KeyPair(this,options)};EC.prototype.keyFromPrivate=function(priv,enc){return KeyPair.fromPrivate(this,priv,enc)};EC.prototype.keyFromPublic=function(pub,enc){return KeyPair.fromPublic(this,pub,enc)};EC.prototype.genKeyPair=function(options){options||(options={});options=new HmacDRBG({hash:this.hash,pers:options.pers,persEnc:options.persEnc||"utf8",entropy:options.entropy||rand(this.hash.hmacStrength),entropyEnc:options.entropy&&options.entropyEnc||"utf8",nonce:this.n.toArray()});
var bytes=this.n.byteLength(),ns2=this.n.sub(new BN(2));do{var priv=new BN(options.generate(bytes));if(!(0<priv.cmp(ns2)))return priv.iaddn(1),this.keyFromPrivate(priv)}while(1)};EC.prototype._truncateToN=function(msg,truncOnly){var delta=8*msg.byteLength()-this.n.bitLength();0<delta&&(msg=msg.ushrn(delta));return!truncOnly&&0<=msg.cmp(this.n)?msg.sub(this.n):msg};EC.prototype.sign=function(msg,key,enc,options){"object"===typeof enc&&(options=enc,enc=null);options||(options={});key=this.keyFromPrivate(key,
enc);msg=this._truncateToN(new BN(msg,16));var bytes=this.n.byteLength();enc=key.getPrivate().toArray("be",bytes);bytes=msg.toArray("be",bytes);bytes=new HmacDRBG({hash:this.hash,entropy:enc,nonce:bytes,pers:options.pers,persEnc:options.persEnc||"utf8"});for(var ns1=this.n.sub(new BN(1)),iter=0;;iter++){var k=options.k?options.k(iter):new BN(bytes.generate(this.n.byteLength()));k=this._truncateToN(k,!0);if(!(0>=k.cmpn(1)||0<=k.cmp(ns1))){var kp=this.g.mul(k);if(!kp.isInfinity()){var kpX=kp.getX();
enc=kpX.umod(this.n);if(0!==enc.cmpn(0)&&(k=k.invm(this.n).mul(enc.mul(key.getPrivate()).iadd(msg)),k=k.umod(this.n),0!==k.cmpn(0)))return msg=(kp.getY().isOdd()?1:0)|(0!==kpX.cmp(enc)?2:0),options.canonical&&0<k.cmp(this.nh)&&(k=this.n.sub(k),msg^=1),new Signature({r:enc,s:k,recoveryParam:msg})}}}};EC.prototype.verify=function(msg,signature,key,enc){msg=this._truncateToN(new BN(msg,16));key=this.keyFromPublic(key,enc);signature=new Signature(signature,"hex");enc=signature.r;signature=signature.s;
if(0>enc.cmpn(1)||0<=enc.cmp(this.n)||0>signature.cmpn(1)||0<=signature.cmp(this.n))return!1;signature=signature.invm(this.n);msg=signature.mul(msg).umod(this.n);signature=signature.mul(enc).umod(this.n);if(!this.curve._maxwellTrick)return key=this.g.mulAdd(msg,key.getPublic(),signature),key.isInfinity()?!1:0===key.getX().umod(this.n).cmp(enc);key=this.g.jmulAdd(msg,key.getPublic(),signature);return key.isInfinity()?!1:key.eqXToP(enc)};EC.prototype.recoverPubKey=function(msg,signature,j,enc){assert((3&
j)===j,"The recovery param is more than two bits");signature=new Signature(signature,enc);enc=this.n;var e=new BN(msg);msg=signature.r;var s=signature.s,isYOdd=j&1;j>>=1;if(0<=msg.cmp(this.curve.p.umod(this.curve.n))&&j)throw Error("Unable to find sencond key candinate");msg=j?this.curve.pointFromX(msg.add(this.curve.n),isYOdd):this.curve.pointFromX(msg,isYOdd);signature=signature.r.invm(enc);j=enc.sub(e).mul(signature).umod(enc);enc=s.mul(signature).umod(enc);return this.g.mulAdd(j,msg,enc)};EC.prototype.getKeyRecoveryParam=
function(e,signature,Q,enc){signature=new Signature(signature,enc);if(null!==signature.recoveryParam)return signature.recoveryParam;for(enc=0;4>enc;enc++){try{var Qprime=this.recoverPubKey(e,signature,enc)}catch(e$1){continue}if(Qprime.eq(Q))return enc}throw Error("Unable to find valid recovery factor");}},{"../curves":18,"../utils":24,"./key":20,"./signature":21,"bn.js":9,brorand:10,"hmac-drbg":38}],20:[function(require,module,exports){function KeyPair(ec,options){this.ec=ec;this.pub=this.priv=null;
options.priv&&this._importPrivate(options.priv,options.privEnc);options.pub&&this._importPublic(options.pub,options.pubEnc)}var BN=require("bn.js"),assert=require("../utils").assert;module.exports=KeyPair;KeyPair.fromPublic=function(ec,pub,enc){return pub instanceof KeyPair?pub:new KeyPair(ec,{pub:pub,pubEnc:enc})};KeyPair.fromPrivate=function(ec,priv,enc){return priv instanceof KeyPair?priv:new KeyPair(ec,{priv:priv,privEnc:enc})};KeyPair.prototype.validate=function(){var pub=this.getPublic();return pub.isInfinity()?
{result:!1,reason:"Invalid public key"}:pub.validate()?pub.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N !\x3d O"}:{result:!1,reason:"Public key is not a point"}};KeyPair.prototype.getPublic=function(compact,enc){"string"===typeof compact&&(enc=compact,compact=null);this.pub||(this.pub=this.ec.g.mul(this.priv));return enc?this.pub.encode(enc,compact):this.pub};KeyPair.prototype.getPrivate=function(enc){return"hex"===enc?this.priv.toString(16,2):this.priv};
KeyPair.prototype._importPrivate=function(key,enc){this.priv=new BN(key,enc||16);this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function(key,enc){key.x||key.y?("mont"===this.ec.curve.type?assert(key.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&assert(key.x&&key.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(key.x,key.y)):this.pub=this.ec.curve.decodePoint(key,enc)};KeyPair.prototype.derive=function(pub){return pub.mul(this.priv).getX()};
KeyPair.prototype.sign=function(msg,enc,options){return this.ec.sign(msg,this,enc,options)};KeyPair.prototype.verify=function(msg,signature){return this.ec.verify(msg,signature,this)};KeyPair.prototype.inspect=function(){return"\x3cKey priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" \x3e"}},{"../utils":24,"bn.js":9}],21:[function(require,module,exports){function Signature(options,enc){if(options instanceof Signature)return options;this._importDER(options,enc)||
(assert(options.r&&options.s,"Signature without r or s"),this.r=new BN(options.r,16),this.s=new BN(options.s,16),this.recoveryParam=void 0===options.recoveryParam?null:options.recoveryParam)}function Position(){this.place=0}function getLength(buf,p){var initial=buf[p.place++];if(!(initial&128))return initial;initial&=15;for(var val=0,i=0,off=p.place;i<initial;i++,off++)val<<=8,val|=buf[off];p.place=off;return val}function rmPadding(buf){for(var i=0,len=buf.length-1;!(buf[i]||buf[i+1]&128)&&i<len;)i++;
return 0===i?buf:buf.slice(i)}function constructLength(arr,len){if(!(128>len)){var octets=1+(Math.log(len)/Math.LN2>>>3);for(arr.push(octets|128);--octets;)arr.push(len>>>(octets<<3)&255)}arr.push(len)}var BN=require("bn.js"),utils=require("../utils"),assert=utils.assert;module.exports=Signature;Signature.prototype._importDER=function(data,enc){data=utils.toArray(data,enc);var p=new Position;if(48!==data[p.place++]||getLength(data,p)+p.place!==data.length||2!==data[p.place++])return!1;var rlen=getLength(data,
p);enc=data.slice(p.place,rlen+p.place);p.place+=rlen;if(2!==data[p.place++])return!1;rlen=getLength(data,p);if(data.length!==rlen+p.place)return!1;data=data.slice(p.place,rlen+p.place);0===enc[0]&&enc[1]&128&&(enc=enc.slice(1));0===data[0]&&data[1]&128&&(data=data.slice(1));this.r=new BN(enc);this.s=new BN(data);this.recoveryParam=null;return!0};Signature.prototype.toDER=function(enc){var r=this.r.toArray(),s=this.s.toArray();r[0]&128&&(r=[0].concat(r));s[0]&128&&(s=[0].concat(s));r=rmPadding(r);
for(s=rmPadding(s);!(s[0]||s[1]&128);)s=s.slice(1);var arr=[2];constructLength(arr,r.length);arr=arr.concat(r);arr.push(2);constructLength(arr,s.length);r=arr.concat(s);s=[48];constructLength(s,r.length);s=s.concat(r);return utils.encode(s,enc)}},{"../utils":24,"bn.js":9}],22:[function(require,module,exports){arguments[4][14][0].apply(exports,arguments)},{dup:14}],23:[function(require,module,exports){module.exports=void 0},{}],24:[function(require,module,exports){var BN=require("bn.js");module=require("minimalistic-assert");
require=require("minimalistic-crypto-utils");exports.assert=module;exports.toArray=require.toArray;exports.zero2=require.zero2;exports.toHex=require.toHex;exports.encode=require.encode;exports.getNAF=function(num,w,bits){bits=Array(Math.max(num.bitLength(),bits)+1);bits.fill(0);w=1<<w+1;num=num.clone();for(var i=0;i<bits.length;i++){var z=num.andln(w-1);num.isOdd()?(z=z>(w>>1)-1?(w>>1)-z:z,num.isubn(z)):z=0;bits[i]=z;num.iushrn(1)}return bits};exports.getJSF=function(k1,k2){var jsf=[[],[]];k1=k1.clone();
k2=k2.clone();for(var d1=0,d2=0;0<k1.cmpn(-d1)||0<k2.cmpn(-d2);){var m14=k1.andln(3)+d1&3,m24=k2.andln(3)+d2&3;3===m14&&(m14=-1);3===m24&&(m24=-1);if(0===(m14&1))var u1=0;else{var m8=k1.andln(7)+d1&7;u1=3!==m8&&5!==m8||2!==m24?m14:-m14}jsf[0].push(u1);0===(m24&1)?m14=0:(m8=k2.andln(7)+d2&7,m14=3!==m8&&5!==m8||2!==m14?m24:-m24);jsf[1].push(m14);2*d1===u1+1&&(d1=1-d1);2*d2===m14+1&&(d2=1-d2);k1.iushrn(1);k2.iushrn(1)}return jsf};exports.cachedProperty=function(obj,name,computer){var key="_"+name;obj.prototype[name]=
function(){return void 0!==this[key]?this[key]:this[key]=computer.call(this)}};exports.parseBytes=function(bytes){return"string"===typeof bytes?exports.toArray(bytes,"hex"):bytes};exports.intFromLE=function(bytes){return new BN(bytes,"hex","le")}},{"bn.js":9,"minimalistic-assert":41,"minimalistic-crypto-utils":42}],25:[function(require,module,exports){module.exports={version:"6.5.2"}},{}],26:[function(require,module,exports){exports.utils=require("./hash/utils");exports.common=require("./hash/common");
exports.sha=require("./hash/sha");exports.ripemd=require("./hash/ripemd");exports.hmac=require("./hash/hmac");exports.sha1=exports.sha.sha1;exports.sha256=exports.sha.sha256;exports.sha224=exports.sha.sha224;exports.sha384=exports.sha.sha384;exports.sha512=exports.sha.sha512;exports.ripemd160=exports.ripemd.ripemd160},{"./hash/common":27,"./hash/hmac":28,"./hash/ripemd":29,"./hash/sha":30,"./hash/utils":37}],27:[function(require,module,exports){function BlockHash(){this.pending=null;this.pendingTotal=
0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.padLength=this.constructor.padLength/8;this.endian="big";this._delta8=this.blockSize/8;this._delta32=this.blockSize/32}var utils=require("./utils"),assert=require("minimalistic-assert");exports.BlockHash=BlockHash;BlockHash.prototype.update=function(msg,enc){msg=utils.toArray(msg,enc);this.pending=this.pending?this.pending.concat(msg):msg;this.pendingTotal+=msg.length;
if(this.pending.length>=this._delta8)for(msg=this.pending,enc=msg.length%this._delta8,this.pending=msg.slice(msg.length-enc,msg.length),0===this.pending.length&&(this.pending=null),msg=utils.join32(msg,0,msg.length-enc,this.endian),enc=0;enc<msg.length;enc+=this._delta32)this._update(msg,enc,enc+this._delta32);return this};BlockHash.prototype.digest=function(enc){this.update(this._pad());assert(null===this.pending);return this._digest(enc)};BlockHash.prototype._pad=function(){var len=this.pendingTotal,
bytes=this._delta8,k=bytes-(len+this.padLength)%bytes;bytes=Array(k+this.padLength);bytes[0]=128;for(var i=1;i<k;i++)bytes[i]=0;len<<=3;if("big"===this.endian){for(k=8;k<this.padLength;k++)bytes[i++]=0;bytes[i++]=0;bytes[i++]=0;bytes[i++]=0;bytes[i++]=0;bytes[i++]=len>>>24&255;bytes[i++]=len>>>16&255;bytes[i++]=len>>>8&255;bytes[i++]=len&255}else for(bytes[i++]=len&255,bytes[i++]=len>>>8&255,bytes[i++]=len>>>16&255,bytes[i++]=len>>>24&255,bytes[i++]=0,bytes[i++]=0,bytes[i++]=0,bytes[i++]=0,k=8;k<
this.padLength;k++)bytes[i++]=0;return bytes}},{"./utils":37,"minimalistic-assert":41}],28:[function(require,module,exports){function Hmac(hash,key,enc){if(!(this instanceof Hmac))return new Hmac(hash,key,enc);this.Hash=hash;this.blockSize=hash.blockSize/8;this.outSize=hash.outSize/8;this.outer=this.inner=null;this._init(utils.toArray(key,enc))}var utils=require("./utils"),assert=require("minimalistic-assert");module.exports=Hmac;Hmac.prototype._init=function(key){key.length>this.blockSize&&(key=
(new this.Hash).update(key).digest());assert(key.length<=this.blockSize);for(var i=key.length;i<this.blockSize;i++)key.push(0);for(i=0;i<key.length;i++)key[i]^=54;this.inner=(new this.Hash).update(key);for(i=0;i<key.length;i++)key[i]^=106;this.outer=(new this.Hash).update(key)};Hmac.prototype.update=function(msg,enc){this.inner.update(msg,enc);return this};Hmac.prototype.digest=function(enc){this.outer.update(this.inner.digest());return this.outer.digest(enc)}},{"./utils":37,"minimalistic-assert":41}],
29:[function(require,module,exports){function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.endian="little"}function f(j,x,y,z){return 15>=j?x^y^z:31>=j?x&y|~x&z:47>=j?(x|~y)^z:63>=j?x&z|y&~z:x^(y|~z)}var utils=require("./utils");require=require("./common");var rotl32=utils.rotl32,sum32=utils.sum32,sum32_3=utils.sum32_3,sum32_4=utils.sum32_4,BlockHash=require.BlockHash;utils.inherits(RIPEMD160,
BlockHash);exports.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(msg,start){for(var A=this.h[0],B=this.h[1],C=this.h[2],D=this.h[3],E=this.h[4],Ah=A,Bh=B,Ch=C,Dh=D,Eh=E,j=0;80>j;j++){var T=sum32(rotl32(sum32_4(A,f(j,B,C,D),msg[r[j]+start],15>=j?0:31>=j?1518500249:47>=j?1859775393:63>=j?2400959708:2840853838),s[j]),E);A=E;E=D;D=rotl32(C,10);C=B;B=T;T=sum32(rotl32(sum32_4(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+
start],15>=j?1352829926:31>=j?1548603684:47>=j?1836072691:63>=j?2053994217:0),sh[j]),Eh);Ah=Eh;Eh=Dh;Dh=rotl32(Ch,10);Ch=Bh;Bh=T}T=sum32_3(this.h[1],C,Dh);this.h[1]=sum32_3(this.h[2],D,Eh);this.h[2]=sum32_3(this.h[3],E,Ah);this.h[3]=sum32_3(this.h[4],A,Bh);this.h[4]=sum32_3(this.h[0],B,Ch);this.h[0]=T};RIPEMD160.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"little"):utils.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,
14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,
5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":27,"./utils":37}],30:[function(require,module,exports){exports.sha1=require("./sha/1");exports.sha224=require("./sha/224");exports.sha256=require("./sha/256");exports.sha384=require("./sha/384");exports.sha512=require("./sha/512")},{"./sha/1":31,"./sha/224":32,"./sha/256":33,
"./sha/384":34,"./sha/512":35}],31:[function(require,module,exports){arguments[4][14][0].apply(exports,arguments)},{dup:14}],32:[function(require,module,exports){arguments[4][14][0].apply(exports,arguments)},{dup:14}],33:[function(require,module,exports){function SHA256(){if(!(this instanceof SHA256))return new SHA256;BlockHash.call(this);this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.k=sha256_K;this.W=Array(64)}var utils=require("../utils");exports=
require("../common");var shaCommon=require("./common"),assert=require("minimalistic-assert"),sum32=utils.sum32,sum32_4=utils.sum32_4,sum32_5=utils.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash=exports.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,
3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,
3329325298];utils.inherits(SHA256,BlockHash);module.exports=SHA256;SHA256.blockSize=512;SHA256.outSize=256;SHA256.hmacStrength=192;SHA256.padLength=64;SHA256.prototype._update=function(msg,start){for(var W=this.W,i=0;16>i;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=sum32_4(g1_256(W[i-2]),W[i-7],g0_256(W[i-15]),W[i-16]);msg=this.h[0];start=this.h[1];var c=this.h[2],d=this.h[3],e=this.h[4],f=this.h[5],g=this.h[6],h=this.h[7];assert(this.k.length===W.length);for(i=0;i<W.length;i++){var T1=sum32_5(h,
s1_256(e),ch32(e,f,g),this.k[i],W[i]),T2=sum32(s0_256(msg),maj32(msg,start,c));h=g;g=f;f=e;e=sum32(d,T1);d=c;c=start;start=msg;msg=sum32(T1,T2)}this.h[0]=sum32(this.h[0],msg);this.h[1]=sum32(this.h[1],start);this.h[2]=sum32(this.h[2],c);this.h[3]=sum32(this.h[3],d);this.h[4]=sum32(this.h[4],e);this.h[5]=sum32(this.h[5],f);this.h[6]=sum32(this.h[6],g);this.h[7]=sum32(this.h[7],h)};SHA256.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")}},{"../common":27,
"../utils":37,"./common":36,"minimalistic-assert":41}],34:[function(require,module,exports){arguments[4][14][0].apply(exports,arguments)},{dup:14}],35:[function(require,module,exports){function SHA512(){if(!(this instanceof SHA512))return new SHA512;BlockHash.call(this);this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209];this.k=sha512_K;this.W=Array(160)}var utils=require("../utils");
exports=require("../common");var assert=require("minimalistic-assert"),rotr64_hi=utils.rotr64_hi,rotr64_lo=utils.rotr64_lo,shr64_hi=utils.shr64_hi,shr64_lo=utils.shr64_lo,sum64=utils.sum64,sum64_hi=utils.sum64_hi,sum64_lo=utils.sum64_lo,sum64_4_hi=utils.sum64_4_hi,sum64_4_lo=utils.sum64_4_lo,sum64_5_hi=utils.sum64_5_hi,sum64_5_lo=utils.sum64_5_lo,BlockHash=exports.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,
3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,
3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,
3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,
1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];utils.inherits(SHA512,BlockHash);module.exports=SHA512;SHA512.blockSize=1024;SHA512.outSize=512;SHA512.hmacStrength=192;SHA512.padLength=128;SHA512.prototype._prepareBlock=function(msg,start){for(var W=this.W,i=0;32>i;i++)W[i]=msg[start+i];for(;i<W.length;i+=2){var xh=W[i-4],xl=W[i-3];msg=rotr64_hi(xh,xl,19);start=rotr64_hi(xl,xh,29);xh=shr64_hi(xh,xl,6);msg=msg^start^xh;0>msg&&(msg+=4294967296);xl=W[i-4];var xl$jscomp$0=
W[i-3];start=rotr64_lo(xl,xl$jscomp$0,19);xh=rotr64_lo(xl$jscomp$0,xl,29);xl=shr64_lo(xl,xl$jscomp$0,6);start=start^xh^xl;0>start&&(start+=4294967296);xh=W[i-14];xl=W[i-13];var xh$jscomp$0=W[i-30],xl$jscomp$1=W[i-29];xl$jscomp$0=rotr64_hi(xh$jscomp$0,xl$jscomp$1,1);var c1_hi=rotr64_hi(xh$jscomp$0,xl$jscomp$1,8);xh$jscomp$0=shr64_hi(xh$jscomp$0,xl$jscomp$1,7);xl$jscomp$0=xl$jscomp$0^c1_hi^xh$jscomp$0;0>xl$jscomp$0&&(xl$jscomp$0+=4294967296);xl$jscomp$1=W[i-30];var xl$jscomp$2=W[i-29];c1_hi=rotr64_lo(xl$jscomp$1,
xl$jscomp$2,1);xh$jscomp$0=rotr64_lo(xl$jscomp$1,xl$jscomp$2,8);xl$jscomp$1=shr64_lo(xl$jscomp$1,xl$jscomp$2,7);c1_hi=c1_hi^xh$jscomp$0^xl$jscomp$1;0>c1_hi&&(c1_hi+=4294967296);xh$jscomp$0=W[i-32];xl$jscomp$1=W[i-31];W[i]=sum64_4_hi(msg,start,xh,xl,xl$jscomp$0,c1_hi,xh$jscomp$0,xl$jscomp$1);W[i+1]=sum64_4_lo(msg,start,xh,xl,xl$jscomp$0,c1_hi,xh$jscomp$0,xl$jscomp$1)}};SHA512.prototype._update=function(msg,start){this._prepareBlock(msg,start);msg=this.W;start=this.h[0];var al=this.h[1],bh=this.h[2],
bl=this.h[3],ch=this.h[4],cl=this.h[5],dh=this.h[6],dl=this.h[7],eh=this.h[8],el=this.h[9],fh=this.h[10],fl=this.h[11],gh=this.h[12],gl=this.h[13],hh=this.h[14],hl=this.h[15];assert(this.k.length===msg.length);for(var i=0;i<msg.length;i+=2){var c1_hi=eh;var xl=el,c0_hi=rotr64_hi(c1_hi,xl,14),c1_hi$jscomp$0=rotr64_hi(c1_hi,xl,18);c1_hi=rotr64_hi(xl,c1_hi,9);c0_hi=c0_hi^c1_hi$jscomp$0^c1_hi;0>c0_hi&&(c0_hi+=4294967296);c1_hi=c0_hi;xl=eh;var xl$jscomp$0=el;c0_hi=rotr64_lo(xl,xl$jscomp$0,14);c1_hi$jscomp$0=
rotr64_lo(xl,xl$jscomp$0,18);xl=rotr64_lo(xl$jscomp$0,xl,9);c0_hi=c0_hi^c1_hi$jscomp$0^xl;0>c0_hi&&(c0_hi+=4294967296);xl=c0_hi;c0_hi=eh&fh^~eh&gh;0>c0_hi&&(c0_hi+=4294967296);c1_hi$jscomp$0=c0_hi;c0_hi=el&fl^~el&gl;0>c0_hi&&(c0_hi+=4294967296);xl$jscomp$0=c0_hi;var c3_hi=this.k[i],c3_lo=this.k[i+1],c4_hi=msg[i],c4_lo=msg[i+1];c0_hi=sum64_5_hi(hh,hl,c1_hi,xl,c1_hi$jscomp$0,xl$jscomp$0,c3_hi,c3_lo,c4_hi,c4_lo);c1_hi$jscomp$0=sum64_5_lo(hh,hl,c1_hi,xl,c1_hi$jscomp$0,xl$jscomp$0,c3_hi,c3_lo,c4_hi,c4_lo);
c1_hi=start;xl=al;hh=rotr64_hi(c1_hi,xl,28);hl=rotr64_hi(xl,c1_hi,2);c1_hi=rotr64_hi(xl,c1_hi,7);hh=hh^hl^c1_hi;0>hh&&(hh+=4294967296);xl=start;xl$jscomp$0=al;hl=rotr64_lo(xl,xl$jscomp$0,28);c1_hi=rotr64_lo(xl$jscomp$0,xl,2);xl=rotr64_lo(xl$jscomp$0,xl,7);hl=hl^c1_hi^xl;0>hl&&(hl+=4294967296);c1_hi=start&bh^start&ch^bh&ch;0>c1_hi&&(c1_hi+=4294967296);xl=al&bl^al&cl^bl&cl;0>xl&&(xl+=4294967296);xl$jscomp$0=sum64_hi(hh,hl,c1_hi,xl);c1_hi=sum64_lo(hh,hl,c1_hi,xl);hh=gh;hl=gl;gh=fh;gl=fl;fh=eh;fl=el;
eh=sum64_hi(dh,dl,c0_hi,c1_hi$jscomp$0);el=sum64_lo(dl,dl,c0_hi,c1_hi$jscomp$0);dh=ch;dl=cl;ch=bh;cl=bl;bh=start;bl=al;start=sum64_hi(c0_hi,c1_hi$jscomp$0,xl$jscomp$0,c1_hi);al=sum64_lo(c0_hi,c1_hi$jscomp$0,xl$jscomp$0,c1_hi)}sum64(this.h,0,start,al);sum64(this.h,2,bh,bl);sum64(this.h,4,ch,cl);sum64(this.h,6,dh,dl);sum64(this.h,8,eh,el);sum64(this.h,10,fh,fl);sum64(this.h,12,gh,gl);sum64(this.h,14,hh,hl)};SHA512.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,
"big")}},{"../common":27,"../utils":37,"minimalistic-assert":41}],36:[function(require,module,exports){function maj32(x,y,z){return x&y^x&z^y&z}var rotr32=require("../utils").rotr32;exports.ft_1=function(s,x,y,z){if(0===s)return x&y^~x&z;if(1===s||3===s)return x^y^z;if(2===s)return maj32(x,y,z)};exports.ch32=function(x,y,z){return x&y^~x&z};exports.maj32=maj32;exports.p32=function(x,y,z){return x^y^z};exports.s0_256=function(x){return rotr32(x,2)^rotr32(x,13)^rotr32(x,22)};exports.s1_256=function(x){return rotr32(x,
6)^rotr32(x,11)^rotr32(x,25)};exports.g0_256=function(x){return rotr32(x,7)^rotr32(x,18)^x>>>3};exports.g1_256=function(x){return rotr32(x,17)^rotr32(x,19)^x>>>10}},{"../utils":37}],37:[function(require,module,exports){function htonl(w){return(w>>>24|w>>>8&65280|w<<8&16711680|(w&255)<<24)>>>0}function zero2(word){return 1===word.length?"0"+word:word}function zero8(word){return 7===word.length?"0"+word:6===word.length?"00"+word:5===word.length?"000"+word:4===word.length?"0000"+word:3===word.length?
"00000"+word:2===word.length?"000000"+word:1===word.length?"0000000"+word:word}var assert=require("minimalistic-assert");require=require("inherits");exports.inherits=require;exports.toArray=function(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"===typeof msg)if(!enc)for(enc=0;enc<msg.length;enc++){var c=msg.charCodeAt(enc),hi=c>>8;c&=255;hi?res.push(hi,c):res.push(c)}else{if("hex"===enc)for(msg=msg.replace(/[^a-z0-9]+/ig,""),0!==msg.length%2&&(msg="0"+msg),
enc=0;enc<msg.length;enc+=2)res.push(parseInt(msg[enc]+msg[enc+1],16))}else for(enc=0;enc<msg.length;enc++)res[enc]=msg[enc]|0;return res};exports.toHex=function(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res};exports.htonl=htonl;exports.toHex32=function(msg,endian){for(var res="",i=0;i<msg.length;i++){var w=msg[i];"little"===endian&&(w=htonl(w));res+=zero8(w.toString(16))}return res};exports.zero2=zero2;exports.zero8=zero8;exports.join32=function(msg,start,end,
endian){end-=start;assert(0===end%4);end=Array(end/4);for(var i=0;i<end.length;i++,start+=4)end[i]=("big"===endian?msg[start]<<24|msg[start+1]<<16|msg[start+2]<<8|msg[start+3]:msg[start+3]<<24|msg[start+2]<<16|msg[start+1]<<8|msg[start])>>>0;return end};exports.split32=function(msg,endian){for(var res=Array(4*msg.length),i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];"big"===endian?(res[k]=m>>>24,res[k+1]=m>>>16&255,res[k+2]=m>>>8&255,res[k+3]=m&255):(res[k+3]=m>>>24,res[k+2]=m>>>16&255,res[k+1]=m>>>
8&255,res[k]=m&255)}return res};exports.rotr32=function(w,b){return w>>>b|w<<32-b};exports.rotl32=function(w,b){return w<<b|w>>>32-b};exports.sum32=function(a,b){return a+b>>>0};exports.sum32_3=function(a,b,c){return a+b+c>>>0};exports.sum32_4=function(a,b,c,d){return a+b+c+d>>>0};exports.sum32_5=function(a,b,c,d,e){return a+b+c+d+e>>>0};exports.sum64=function(buf,pos,ah,al){var lo=al+buf[pos+1]>>>0;buf[pos]=(lo<al?1:0)+ah+buf[pos]>>>0;buf[pos+1]=lo};exports.sum64_hi=function(ah,al,bh,bl){return(al+
bl>>>0<al?1:0)+ah+bh>>>0};exports.sum64_lo=function(ah,al,bh,bl){return al+bl>>>0};exports.sum64_4_hi=function(ah,al,bh,bl,ch,cl,dh,dl){bl=al+bl>>>0;al=bl<al?1:0;bl=bl+cl>>>0;al+=bl<cl?1:0;return ah+bh+ch+dh+(al+(bl+dl>>>0<dl?1:0))>>>0};exports.sum64_4_lo=function(ah,al,bh,bl,ch,cl,dh,dl){return al+bl+cl+dl>>>0};exports.sum64_5_hi=function(ah,al,bh,bl,ch,cl,dh,dl,eh,el){bl=al+bl>>>0;al=bl<al?1:0;bl=bl+cl>>>0;al+=bl<cl?1:0;bl=bl+dl>>>0;al+=bl<dl?1:0;return ah+bh+ch+dh+eh+(al+(bl+el>>>0<el?1:0))>>>
0};exports.sum64_5_lo=function(ah,al,bh,bl,ch,cl,dh,dl,eh,el){return al+bl+cl+dl+el>>>0};exports.rotr64_hi=function(ah,al,num){return(al<<32-num|ah>>>num)>>>0};exports.rotr64_lo=function(ah,al,num){return(ah<<32-num|al>>>num)>>>0};exports.shr64_hi=function(ah,al,num){return ah>>>num};exports.shr64_lo=function(ah,al,num){return(ah<<32-num|al>>>num)>>>0}},{inherits:39,"minimalistic-assert":41}],38:[function(require,module,exports){function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);
this.hash=options.hash;this.predResist=!!options.predResist;this.outLen=this.hash.outSize;this.minEntropy=options.minEntropy||this.hash.hmacStrength;this.V=this.K=this.reseedInterval=this._reseed=null;var entropy=utils.toArray(options.entropy,options.entropyEnc||"hex"),nonce=utils.toArray(options.nonce,options.nonceEnc||"hex");options=utils.toArray(options.pers,options.persEnc||"hex");assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(entropy,
nonce,options)}var hash=require("hash.js"),utils=require("minimalistic-crypto-utils"),assert=require("minimalistic-assert");module.exports=HmacDRBG;HmacDRBG.prototype._init=function(entropy,nonce,pers){entropy=entropy.concat(nonce).concat(pers);this.K=Array(this.outLen/8);this.V=Array(this.outLen/8);for(nonce=0;nonce<this.V.length;nonce++)this.K[nonce]=0,this.V[nonce]=1;this._update(entropy);this._reseed=1;this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash.hmac(this.hash,
this.K)};HmacDRBG.prototype._update=function(seed){var kmac=this._hmac().update(this.V).update([0]);seed&&(kmac=kmac.update(seed));this.K=kmac.digest();this.V=this._hmac().update(this.V).digest();seed&&(this.K=this._hmac().update(this.V).update([1]).update(seed).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function(entropy,entropyEnc,add,addEnc){"string"!==typeof entropyEnc&&(addEnc=add,add=entropyEnc,entropyEnc=null);entropy=utils.toArray(entropy,entropyEnc);add=
utils.toArray(add,addEnc);assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(entropy.concat(add||[]));this._reseed=1};HmacDRBG.prototype.generate=function(len,enc,add,addEnc){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!==typeof enc&&(addEnc=add,add=enc,enc=null);add&&(add=utils.toArray(add,addEnc||"hex"),this._update(add));for(addEnc=[];addEnc.length<len;)this.V=this._hmac().update(this.V).digest(),addEnc=
addEnc.concat(this.V);len=addEnc.slice(0,len);this._update(add);this._reseed++;return utils.encode(len,enc)}},{"hash.js":26,"minimalistic-assert":41,"minimalistic-crypto-utils":42}],39:[function(require,module,exports){module.exports="function"===typeof Object.create?function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;
var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],40:[function(require,module,exports){(function(process,global){(function(){function Keccak(bits,padding,outputBits){this.blocks=[];this.s=[];this.padding=padding;this.outputBits=outputBits;this.reset=!0;this.start=this.block=0;this.blockCount=1600-(bits<<1)>>5;this.byteCount=this.blockCount<<2;this.outputBlocks=outputBits>>5;this.extraBytes=(outputBits&31)>>3;for(bits=
0;50>bits;++bits)this.s[bits]=0}var root="object"===typeof window?window:{};!root.JS_SHA3_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node&&(root=global);var COMMON_JS=!root.JS_SHA3_NO_COMMON_JS&&"object"===typeof module&&module.exports,HEX_CHARS="0123456789abcdef".split(""),SHIFT=[0,8,16,24],RC=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,
32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],BITS=[224,256,384,512],OUTPUT_TYPES=["hex","buffer","arrayBuffer","array"],createOutputMethod=function(bits,padding,outputType){return function(message){return(new Keccak(bits,padding,bits)).update(message)[outputType]()}},createShakeOutputMethod=function(bits,padding,outputType){return function(message,outputBits){return(new Keccak(bits,
padding,outputBits)).update(message)[outputType]()}},createMethod=function(bits,padding){var method=createOutputMethod(bits,padding,"hex");method.create=function(){return new Keccak(bits,padding,bits)};method.update=function(message){return method.create().update(message)};for(var i=0;i<OUTPUT_TYPES.length;++i){var type=OUTPUT_TYPES[i];method[type]=createOutputMethod(bits,padding,type)}return method};BITS=[{name:"keccak",padding:[1,256,65536,16777216],bits:BITS,createMethod:createMethod},{name:"sha3",
padding:[6,1536,393216,100663296],bits:BITS,createMethod:createMethod},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(bits,padding){var method=createShakeOutputMethod(bits,padding,"hex");method.create=function(outputBits){return new Keccak(bits,padding,outputBits)};method.update=function(message,outputBits){return method.create(outputBits).update(message)};for(var i=0;i<OUTPUT_TYPES.length;++i){var type=OUTPUT_TYPES[i];method[type]=createShakeOutputMethod(bits,
padding,type)}return method}}];createMethod={};for(var methodNames=[],i$jscomp$0=0;i$jscomp$0<BITS.length;++i$jscomp$0)for(var algorithm=BITS[i$jscomp$0],bits$jscomp$0=algorithm.bits,j$jscomp$0=0;j$jscomp$0<bits$jscomp$0.length;++j$jscomp$0){var methodName=algorithm.name+"_"+bits$jscomp$0[j$jscomp$0];methodNames.push(methodName);createMethod[methodName]=algorithm.createMethod(bits$jscomp$0[j$jscomp$0],algorithm.padding)}Keccak.prototype.update=function(message){var notString="string"!==typeof message;
notString&&message.constructor===ArrayBuffer&&(message=new Uint8Array(message));for(var length=message.length,blocks=this.blocks,byteCount=this.byteCount,blockCount=this.blockCount,index=0,s=this.s,i,code;index<length;){if(this.reset)for(this.reset=!1,blocks[0]=this.block,i=1;i<blockCount+1;++i)blocks[i]=0;if(notString)for(i=this.start;index<length&&i<byteCount;++index)blocks[i>>2]|=message[index]<<SHIFT[i++&3];else for(i=this.start;index<length&&i<byteCount;++index)code=message.charCodeAt(index),
128>code?blocks[i>>2]|=code<<SHIFT[i++&3]:(2048>code?blocks[i>>2]|=(192|code>>6)<<SHIFT[i++&3]:(55296>code||57344<=code?blocks[i>>2]|=(224|code>>12)<<SHIFT[i++&3]:(code=65536+((code&1023)<<10|message.charCodeAt(++index)&1023),blocks[i>>2]|=(240|code>>18)<<SHIFT[i++&3],blocks[i>>2]|=(128|code>>12&63)<<SHIFT[i++&3]),blocks[i>>2]|=(128|code>>6&63)<<SHIFT[i++&3]),blocks[i>>2]|=(128|code&63)<<SHIFT[i++&3]);this.lastByteIndex=i;if(i>=byteCount){this.start=i-byteCount;this.block=blocks[blockCount];for(i=
0;i<blockCount;++i)s[i]^=blocks[i];f(s);this.reset=!0}else this.start=i}return this};Keccak.prototype.finalize=function(){var blocks=this.blocks,i=this.lastByteIndex,blockCount=this.blockCount,s=this.s;blocks[i>>2]|=this.padding[i&3];if(this.lastByteIndex===this.byteCount)for(blocks[0]=blocks[blockCount],i=1;i<blockCount+1;++i)blocks[i]=0;blocks[blockCount-1]|=2147483648;for(i=0;i<blockCount;++i)s[i]^=blocks[i];f(s)};Keccak.prototype.toString=Keccak.prototype.hex=function(){this.finalize();for(var blockCount=
this.blockCount,s=this.s,outputBlocks=this.outputBlocks,extraBytes=this.extraBytes,i=0,j=0,hex="",block;j<outputBlocks;){for(i=0;i<blockCount&&j<outputBlocks;++i,++j)block=s[i],hex+=HEX_CHARS[block>>4&15]+HEX_CHARS[block&15]+HEX_CHARS[block>>12&15]+HEX_CHARS[block>>8&15]+HEX_CHARS[block>>20&15]+HEX_CHARS[block>>16&15]+HEX_CHARS[block>>28&15]+HEX_CHARS[block>>24&15];0===j%blockCount&&(f(s),i=0)}extraBytes&&(block=s[i],0<extraBytes&&(hex+=HEX_CHARS[block>>4&15]+HEX_CHARS[block&15]),1<extraBytes&&(hex+=
HEX_CHARS[block>>12&15]+HEX_CHARS[block>>8&15]),2<extraBytes&&(hex+=HEX_CHARS[block>>20&15]+HEX_CHARS[block>>16&15]));return hex};Keccak.prototype.arrayBuffer=function(){this.finalize();var blockCount=this.blockCount,s=this.s,outputBlocks=this.outputBlocks,extraBytes=this.extraBytes,i=0,j=0,bytes=this.outputBits>>3;var buffer=extraBytes?new ArrayBuffer(outputBlocks+1<<2):new ArrayBuffer(bytes);for(var array=new Uint32Array(buffer);j<outputBlocks;){for(i=0;i<blockCount&&j<outputBlocks;++i,++j)array[j]=
s[i];0===j%blockCount&&f(s)}extraBytes&&(array[i]=s[i],buffer=buffer.slice(0,bytes));return buffer};Keccak.prototype.buffer=Keccak.prototype.arrayBuffer;Keccak.prototype.digest=Keccak.prototype.array=function(){this.finalize();for(var blockCount=this.blockCount,s=this.s,outputBlocks=this.outputBlocks,extraBytes=this.extraBytes,i=0,j=0,array=[],offset,block;j<outputBlocks;){for(i=0;i<blockCount&&j<outputBlocks;++i,++j)offset=j<<2,block=s[i],array[offset]=block&255,array[offset+1]=block>>8&255,array[offset+
2]=block>>16&255,array[offset+3]=block>>24&255;0===j%blockCount&&f(s)}extraBytes&&(offset=j<<2,block=s[i],0<extraBytes&&(array[offset]=block&255),1<extraBytes&&(array[offset+1]=block>>8&255),2<extraBytes&&(array[offset+2]=block>>16&255));return array};var f=function(s){var n;for(n=0;48>n;n+=2){var c0=s[0]^s[10]^s[20]^s[30]^s[40];var c1=s[1]^s[11]^s[21]^s[31]^s[41];var c2=s[2]^s[12]^s[22]^s[32]^s[42];var c3=s[3]^s[13]^s[23]^s[33]^s[43];var c4=s[4]^s[14]^s[24]^s[34]^s[44];var c5=s[5]^s[15]^s[25]^s[35]^
s[45];var c6=s[6]^s[16]^s[26]^s[36]^s[46];var c7=s[7]^s[17]^s[27]^s[37]^s[47];var c8=s[8]^s[18]^s[28]^s[38]^s[48];var c9=s[9]^s[19]^s[29]^s[39]^s[49];var h=c8^(c2<<1|c3>>>31);var l=c9^(c3<<1|c2>>>31);s[0]^=h;s[1]^=l;s[10]^=h;s[11]^=l;s[20]^=h;s[21]^=l;s[30]^=h;s[31]^=l;s[40]^=h;s[41]^=l;h=c0^(c4<<1|c5>>>31);l=c1^(c5<<1|c4>>>31);s[2]^=h;s[3]^=l;s[12]^=h;s[13]^=l;s[22]^=h;s[23]^=l;s[32]^=h;s[33]^=l;s[42]^=h;s[43]^=l;h=c2^(c6<<1|c7>>>31);l=c3^(c7<<1|c6>>>31);s[4]^=h;s[5]^=l;s[14]^=h;s[15]^=l;s[24]^=
h;s[25]^=l;s[34]^=h;s[35]^=l;s[44]^=h;s[45]^=l;h=c4^(c8<<1|c9>>>31);l=c5^(c9<<1|c8>>>31);s[6]^=h;s[7]^=l;s[16]^=h;s[17]^=l;s[26]^=h;s[27]^=l;s[36]^=h;s[37]^=l;s[46]^=h;s[47]^=l;h=c6^(c0<<1|c1>>>31);l=c7^(c1<<1|c0>>>31);s[8]^=h;s[9]^=l;s[18]^=h;s[19]^=l;s[28]^=h;s[29]^=l;s[38]^=h;s[39]^=l;s[48]^=h;s[49]^=l;h=s[0];l=s[1];var b32=s[11]<<4|s[10]>>>28;var b33=s[10]<<4|s[11]>>>28;var b14=s[20]<<3|s[21]>>>29;var b15=s[21]<<3|s[20]>>>29;var b46=s[31]<<9|s[30]>>>23;var b47=s[30]<<9|s[31]>>>23;var b28=s[40]<<
18|s[41]>>>14;var b29=s[41]<<18|s[40]>>>14;var b20=s[2]<<1|s[3]>>>31;var b21=s[3]<<1|s[2]>>>31;c0=s[13]<<12|s[12]>>>20;c1=s[12]<<12|s[13]>>>20;var b34=s[22]<<10|s[23]>>>22;var b35=s[23]<<10|s[22]>>>22;var b16=s[33]<<13|s[32]>>>19;var b17=s[32]<<13|s[33]>>>19;var b48=s[42]<<2|s[43]>>>30;var b49=s[43]<<2|s[42]>>>30;var b40=s[5]<<30|s[4]>>>2;var b41=s[4]<<30|s[5]>>>2;var b22=s[14]<<6|s[15]>>>26;var b23=s[15]<<6|s[14]>>>26;c2=s[25]<<11|s[24]>>>21;c3=s[24]<<11|s[25]>>>21;var b36=s[34]<<15|s[35]>>>17;var b37=
s[35]<<15|s[34]>>>17;var b18=s[45]<<29|s[44]>>>3;var b19=s[44]<<29|s[45]>>>3;c8=s[6]<<28|s[7]>>>4;c9=s[7]<<28|s[6]>>>4;var b42=s[17]<<23|s[16]>>>9;var b43=s[16]<<23|s[17]>>>9;var b24=s[26]<<25|s[27]>>>7;var b25=s[27]<<25|s[26]>>>7;c4=s[36]<<21|s[37]>>>11;c5=s[37]<<21|s[36]>>>11;var b38=s[47]<<24|s[46]>>>8;var b39=s[46]<<24|s[47]>>>8;var b30=s[8]<<27|s[9]>>>5;var b31=s[9]<<27|s[8]>>>5;var b12=s[18]<<20|s[19]>>>12;var b13=s[19]<<20|s[18]>>>12;var b44=s[29]<<7|s[28]>>>25;var b45=s[28]<<7|s[29]>>>25;
var b26=s[38]<<8|s[39]>>>24;var b27=s[39]<<8|s[38]>>>24;c6=s[48]<<14|s[49]>>>18;c7=s[49]<<14|s[48]>>>18;s[0]=h^~c0&c2;s[1]=l^~c1&c3;s[10]=c8^~b12&b14;s[11]=c9^~b13&b15;s[20]=b20^~b22&b24;s[21]=b21^~b23&b25;s[30]=b30^~b32&b34;s[31]=b31^~b33&b35;s[40]=b40^~b42&b44;s[41]=b41^~b43&b45;s[2]=c0^~c2&c4;s[3]=c1^~c3&c5;s[12]=b12^~b14&b16;s[13]=b13^~b15&b17;s[22]=b22^~b24&b26;s[23]=b23^~b25&b27;s[32]=b32^~b34&b36;s[33]=b33^~b35&b37;s[42]=b42^~b44&b46;s[43]=b43^~b45&b47;s[4]=c2^~c4&c6;s[5]=c3^~c5&c7;s[14]=b14^
~b16&b18;s[15]=b15^~b17&b19;s[24]=b24^~b26&b28;s[25]=b25^~b27&b29;s[34]=b34^~b36&b38;s[35]=b35^~b37&b39;s[44]=b44^~b46&b48;s[45]=b45^~b47&b49;s[6]=c4^~c6&h;s[7]=c5^~c7&l;s[16]=b16^~b18&c8;s[17]=b17^~b19&c9;s[26]=b26^~b28&b20;s[27]=b27^~b29&b21;s[36]=b36^~b38&b30;s[37]=b37^~b39&b31;s[46]=b46^~b48&b40;s[47]=b47^~b49&b41;s[8]=c6^~h&c0;s[9]=c7^~l&c1;s[18]=b18^~c8&b12;s[19]=b19^~c9&b13;s[28]=b28^~b20&b22;s[29]=b29^~b21&b23;s[38]=b38^~b30&b32;s[39]=b39^~b31&b33;s[48]=b48^~b40&b42;s[49]=b49^~b41&b43;s[0]^=
RC[n];s[1]^=RC[n+1]}};if(COMMON_JS)module.exports=createMethod;else for(i$jscomp$0=0;i$jscomp$0<methodNames.length;++i$jscomp$0)root[methodNames[i$jscomp$0]]=createMethod[methodNames[i$jscomp$0]]})()}).call(this,require("_process"),"undefined"!==typeof global$jscomp$2?global$jscomp$2:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{_process:43}],41:[function(require,module,exports){function assert(val,msg){if(!val)throw Error(msg||"Assertion failed");}module.exports=assert;
assert.equal=function(l,r,msg){if(l!=r)throw Error(msg||"Assertion failed: "+l+" !\x3d "+r);}},{}],42:[function(require,module,exports){function zero2(word){return 1===word.length?"0"+word:word}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}exports.toArray=function(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"!==typeof msg){for(enc=0;enc<msg.length;enc++)res[enc]=msg[enc]|0;return res}if("hex"===enc)for(msg=
msg.replace(/[^a-z0-9]+/ig,""),0!==msg.length%2&&(msg="0"+msg),enc=0;enc<msg.length;enc+=2)res.push(parseInt(msg[enc]+msg[enc+1],16));else for(enc=0;enc<msg.length;enc++){var c=msg.charCodeAt(enc),hi=c>>8;c&=255;hi?res.push(hi,c):res.push(c)}return res};exports.zero2=zero2;exports.toHex=toHex;exports.encode=function(arr,enc){return"hex"===enc?toHex(arr):arr}},{}],43:[function(require,module,exports){module.exports={browser:!0}},{}],44:[function(require,module,exports){(function(setImmediate){(function(root){function SHA256(m){function blocks(p){for(var off=
0,len=p.length;64<=len;){var a=h0,b=h1,c=h2,d=h3,e=h4,f=h5,g=h6,h=h7,i;for(i=0;16>i;i++){var j=off+4*i;w[i]=(p[j]&255)<<24|(p[j+1]&255)<<16|(p[j+2]&255)<<8|p[j+3]&255}for(i=16;64>i;i++){var u=w[i-2];j=(u>>>17|u<<15)^(u>>>19|u<<13)^u>>>10;u=w[i-15];u=(u>>>7|u<<25)^(u>>>18|u<<14)^u>>>3;w[i]=(j+w[i-7]|0)+(u+w[i-16]|0)|0}for(i=0;64>i;i++)j=(((e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7))+(e&f^~e&g)|0)+(h+(K[i]+w[i]|0)|0)|0,u=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&b^a&c^b&c)|0,h=g,g=f,f=e,e=d+j|
0,d=c,c=b,b=a,a=j+u|0;h0=h0+a|0;h1=h1+b|0;h2=h2+c|0;h3=h3+d|0;h4=h4+e|0;h5=h5+f|0;h6=h6+g|0;h7=h7+h|0;off+=64;len-=64}}var K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,
1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h0=1779033703,h1=3144134277,h2=1013904242,h3=2773480762,h4=1359893119,h5=2600822924,h6=528734635,h7=1541459225,w=Array(64);blocks(m);var i$jscomp$0=m.length%64;var bitLenHi=m.length/536870912|
0,bitLenLo=m.length<<3,numZeros=56>i$jscomp$0?56:120;m=m.slice(m.length-i$jscomp$0,m.length);m.push(128);for(i$jscomp$0+=1;i$jscomp$0<numZeros;i$jscomp$0++)m.push(0);m.push(bitLenHi>>>24&255);m.push(bitLenHi>>>16&255);m.push(bitLenHi>>>8&255);m.push(bitLenHi>>>0&255);m.push(bitLenLo>>>24&255);m.push(bitLenLo>>>16&255);m.push(bitLenLo>>>8&255);m.push(bitLenLo>>>0&255);blocks(m);return[h0>>>24&255,h0>>>16&255,h0>>>8&255,h0>>>0&255,h1>>>24&255,h1>>>16&255,h1>>>8&255,h1>>>0&255,h2>>>24&255,h2>>>16&255,
h2>>>8&255,h2>>>0&255,h3>>>24&255,h3>>>16&255,h3>>>8&255,h3>>>0&255,h4>>>24&255,h4>>>16&255,h4>>>8&255,h4>>>0&255,h5>>>24&255,h5>>>16&255,h5>>>8&255,h5>>>0&255,h6>>>24&255,h6>>>16&255,h6>>>8&255,h6>>>0&255,h7>>>24&255,h7>>>16&255,h7>>>8&255,h7>>>0&255]}function PBKDF2_HMAC_SHA256_OneIter(password,salt,dkLen){function incrementCounter(){for(var i=innerLen-1;i>=innerLen-4;i--){inner[i]++;if(255>=inner[i])break;inner[i]=0}}password=64>=password.length?password:SHA256(password);var i$jscomp$0,innerLen=
64+salt.length+4,inner=Array(innerLen),outerKey=Array(64),dk=[];for(i$jscomp$0=0;64>i$jscomp$0;i$jscomp$0++)inner[i$jscomp$0]=54;for(i$jscomp$0=0;i$jscomp$0<password.length;i$jscomp$0++)inner[i$jscomp$0]^=password[i$jscomp$0];for(i$jscomp$0=0;i$jscomp$0<salt.length;i$jscomp$0++)inner[64+i$jscomp$0]=salt[i$jscomp$0];for(i$jscomp$0=innerLen-4;i$jscomp$0<innerLen;i$jscomp$0++)inner[i$jscomp$0]=0;for(i$jscomp$0=0;64>i$jscomp$0;i$jscomp$0++)outerKey[i$jscomp$0]=92;for(i$jscomp$0=0;i$jscomp$0<password.length;i$jscomp$0++)outerKey[i$jscomp$0]^=
password[i$jscomp$0];for(;32<=dkLen;)incrementCounter(),dk=dk.concat(SHA256(outerKey.concat(SHA256(inner)))),dkLen-=32;0<dkLen&&(incrementCounter(),dk=dk.concat(SHA256(outerKey.concat(SHA256(inner))).slice(0,dkLen)));return dk}function blockmix_salsa8(BY,Yi,r,x,_X){var i;arraycopy(BY,16*(2*r-1),_X,0,16);for(i=0;i<2*r;i++){for(var S=BY,Si=16*i,D=_X,i$jscomp$0=0;16>i$jscomp$0;i$jscomp$0++)D[i$jscomp$0]^=S[Si+i$jscomp$0];S=_X;Si=x;arraycopy(S,0,Si,0,16);for(D=8;0<D;D-=2)Si[4]^=R(Si[0]+Si[12],7),Si[8]^=
R(Si[4]+Si[0],9),Si[12]^=R(Si[8]+Si[4],13),Si[0]^=R(Si[12]+Si[8],18),Si[9]^=R(Si[5]+Si[1],7),Si[13]^=R(Si[9]+Si[5],9),Si[1]^=R(Si[13]+Si[9],13),Si[5]^=R(Si[1]+Si[13],18),Si[14]^=R(Si[10]+Si[6],7),Si[2]^=R(Si[14]+Si[10],9),Si[6]^=R(Si[2]+Si[14],13),Si[10]^=R(Si[6]+Si[2],18),Si[3]^=R(Si[15]+Si[11],7),Si[7]^=R(Si[3]+Si[15],9),Si[11]^=R(Si[7]+Si[3],13),Si[15]^=R(Si[11]+Si[7],18),Si[1]^=R(Si[0]+Si[3],7),Si[2]^=R(Si[1]+Si[0],9),Si[3]^=R(Si[2]+Si[1],13),Si[0]^=R(Si[3]+Si[2],18),Si[6]^=R(Si[5]+Si[4],7),Si[7]^=
R(Si[6]+Si[5],9),Si[4]^=R(Si[7]+Si[6],13),Si[5]^=R(Si[4]+Si[7],18),Si[11]^=R(Si[10]+Si[9],7),Si[8]^=R(Si[11]+Si[10],9),Si[9]^=R(Si[8]+Si[11],13),Si[10]^=R(Si[9]+Si[8],18),Si[12]^=R(Si[15]+Si[14],7),Si[13]^=R(Si[12]+Si[15],9),Si[14]^=R(Si[13]+Si[12],13),Si[15]^=R(Si[14]+Si[13],18);for(D=0;16>D;++D)S[D]+=Si[D];arraycopy(_X,0,BY,Yi+16*i,16)}for(i=0;i<r;i++)arraycopy(BY,Yi+32*i,BY,16*i,16);for(i=0;i<r;i++)arraycopy(BY,Yi+16*(2*i+1),BY,16*(i+r),16)}function R(a,b){return a<<b|a>>>32-b}function arraycopy(src,
srcPos,dest,destPos,length){for(;length--;)dest[destPos++]=src[srcPos++]}function checkBufferish(o){if(!o||"number"!==typeof o.length)return!1;for(var i=0;i<o.length;i++){if("number"!==typeof o[i])return!1;var v=parseInt(o[i]);if(v!=o[i]||0>v||256<=v)return!1}return!0}function ensureInteger(value,name){var intValue=parseInt(value);if(value!=intValue)throw Error("invalid "+name);return intValue}function scrypt(password,salt,N,r,p,dkLen,callback){if(!callback)throw Error("missing callback");N=ensureInteger(N,
"N");r=ensureInteger(r,"r");p=ensureInteger(p,"p");dkLen=ensureInteger(dkLen,"dkLen");if(0===N||0!==(N&N-1))throw Error("N must be power of 2");if(N>1.67772159921875E7/r)throw Error("N too large");if(r>1.67772159921875E7/p)throw Error("r too large");if(!checkBufferish(password))throw Error("password must be an array or buffer");password=Array.prototype.slice.call(password);if(!checkBufferish(salt))throw Error("salt must be an array or buffer");salt=Array.prototype.slice.call(salt);var b=PBKDF2_HMAC_SHA256_OneIter(password,
salt,128*p*r),B=new Uint32Array(32*p*r);for(salt=0;salt<B.length;salt++){var j=4*salt;B[salt]=(b[j+3]&255)<<24|(b[j+2]&255)<<16|(b[j+1]&255)<<8|(b[j+0]&255)<<0}var XY=new Uint32Array(64*r),V=new Uint32Array(32*r*N),Yi=32*r,x=new Uint32Array(16),_X=new Uint32Array(16),totalOps=p*N*2,currentOp=0,lastPercent10=null,stop=!1,state=0,i0=0,i1,Bi,limit=parseInt(1E3/r),nextTick="undefined"!==typeof setImmediate?setImmediate:setTimeout,incrementalSMix=function(){if(stop)return callback(Error("cancelled"),currentOp/
totalOps);switch(state){case 0:Bi=32*i0*r,arraycopy(B,Bi,XY,0,Yi),state=1,i1=0;case 1:var steps=N-i1;steps>limit&&(steps=limit);for(var i=0;i<steps;i++)arraycopy(XY,0,V,(i1+i)*Yi,Yi),blockmix_salsa8(XY,Yi,r,x,_X);i1+=steps;currentOp+=steps;steps=parseInt(1E3*currentOp/totalOps);if(steps!==lastPercent10){if(stop=callback(null,currentOp/totalOps))break;lastPercent10=steps}if(i1<N)break;i1=0;state=2;case 2:steps=N-i1;steps>limit&&(steps=limit);for(i=0;i<steps;i++){for(var S=V,Si=(XY[16*(2*r-1)]&N-1)*
Yi,D=XY,len=Yi,i$jscomp$0=0;i$jscomp$0<len;i$jscomp$0++)D[i$jscomp$0]^=S[Si+i$jscomp$0];blockmix_salsa8(XY,Yi,r,x,_X)}i1+=steps;currentOp+=steps;steps=parseInt(1E3*currentOp/totalOps);if(steps!==lastPercent10){if(stop=callback(null,currentOp/totalOps))break;lastPercent10=steps}if(!(i1<N))if(arraycopy(XY,0,B,Bi,Yi),i0++,i0<p)state=0;else{b=[];for(i=0;i<B.length;i++)b.push(B[i]>>0&255),b.push(B[i]>>8&255),b.push(B[i]>>16&255),b.push(B[i]>>24&255);steps=PBKDF2_HMAC_SHA256_OneIter(password,b,dkLen);return callback(null,
1,steps)}}nextTick(incrementalSMix)};incrementalSMix()}"undefined"!==typeof exports?module.exports=scrypt:root&&(root.scrypt&&(root._scrypt=root.scrypt),root.scrypt=scrypt)})(this)}).call(this,require("timers").setImmediate)},{timers:46}],45:[function(require,module,exports){(function(process,global$jscomp$0,clearImmediate$jscomp$0){(function(global,undefined){function addFromSetImmediateArguments(args){tasksByHandle[nextHandle]=partiallyApplied.apply(undefined,args);return nextHandle++}function partiallyApplied(handler){var args=
[].slice.call(arguments,1);return function(){"function"===typeof handler?handler.apply(undefined,args):(new Function(""+handler))()}}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(partiallyApplied(runIfPresent,handle),0);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{task()}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}function clearImmediate(handle){delete tasksByHandle[handle]}function installNextTickImplementation(){setImmediate=function(){var handle=
addFromSetImmediateArguments(arguments);process.nextTick(partiallyApplied(runIfPresent,handle));return handle}}function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;global.onmessage=function(){postMessageIsAsynchronous=!1};global.postMessage("","*");global.onmessage=oldOnMessage;return postMessageIsAsynchronous}}function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=
function(event){event.source===global&&"string"===typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage);setImmediate=function(){var handle=addFromSetImmediateArguments(arguments);global.postMessage(messagePrefix+handle,"*");return handle}}function installMessageChannelImplementation(){var channel=new MessageChannel;
channel.port1.onmessage=function(event){runIfPresent(event.data)};setImmediate=function(){var handle=addFromSetImmediateArguments(arguments);channel.port2.postMessage(handle);return handle}}function installReadyStateChangeImplementation(){var html=doc.documentElement;setImmediate=function(){var handle=addFromSetImmediateArguments(arguments),script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle);script.onreadystatechange=null;html.removeChild(script);script=null};
html.appendChild(script);return handle}}function installSetTimeoutImplementation(){setImmediate=function(){var handle=addFromSetImmediateArguments(arguments);setTimeout(partiallyApplied(runIfPresent,handle),0);return handle}}if(!global.setImmediate){var nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,setImmediate,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global;"[object process]"==={}.toString.call(global.process)?
installNextTickImplementation():canUsePostMessage()?installPostMessageImplementation():global.MessageChannel?installMessageChannelImplementation():doc&&"onreadystatechange"in doc.createElement("script")?installReadyStateChangeImplementation():installSetTimeoutImplementation();attachTo.setImmediate=setImmediate;attachTo.clearImmediate=clearImmediate}})("undefined"===typeof self?"undefined"===typeof global$jscomp$0?this:global$jscomp$0:self)}).call(this,require("_process"),"undefined"!==typeof global$jscomp$2?
global$jscomp$2:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},require("timers").clearImmediate)},{_process:43,timers:46}],46:[function(require,module,exports){module.exports={setImmediate:("undefined"!==typeof global$jscomp$2?global$jscomp$2:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{}).setImmediate}},{}],47:[function(require,module,exports){(function(global){if(global.crypto&&crypto.getRandomValues){var _rnds8=new Uint8Array(16);var rng=function(){crypto.getRandomValues(_rnds8);
return _rnds8}}if(!rng){var _rnds=Array(16);rng=function(){for(var i=0,r;16>i;i++)0===(i&3)&&(r=4294967296*Math.random()),_rnds[i]=r>>>((i&3)<<3)&255;return _rnds}}module.exports=rng}).call(this,"undefined"!==typeof global$jscomp$2?global$jscomp$2:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],48:[function(require,module,exports){function unparse(buf,offset){offset=offset||0;var bth=_byteToHex;return bth[buf[offset++]]+bth[buf[offset++]]+bth[buf[offset++]]+bth[buf[offset++]]+
"-"+bth[buf[offset++]]+bth[buf[offset++]]+"-"+bth[buf[offset++]]+bth[buf[offset++]]+"-"+bth[buf[offset++]]+bth[buf[offset++]]+"-"+bth[buf[offset++]]+bth[buf[offset++]]+bth[buf[offset++]]+bth[buf[offset++]]+bth[buf[offset++]]+bth[buf[offset++]]}function v4(options,buf,offset){offset=buf&&offset||0;"string"==typeof options&&(buf="binary"==options?Array(16):null,options=null);options=options||{};options=options.random||(options.rng||_rng)();options[6]=options[6]&15|64;options[8]=options[8]&63|128;if(buf)for(var ii=
0;16>ii;ii++)buf[offset+ii]=options[ii];return buf||unparse(options)}var _rng=require("./rng"),_byteToHex=[],_hexToByte={};for(require=0;256>require;require++)_byteToHex[require]=(require+256).toString(16).substr(1),_hexToByte[_byteToHex[require]]=require;require=_rng();var _nodeId=[require[0]|1,require[1],require[2],require[3],require[4],require[5]],_clockseq=(require[6]<<8|require[7])&16383,_lastMSecs=0,_lastNSecs=0;v4.v1=function(options,buf,offset){offset=buf&&offset||0;var b=buf||[];options=
options||{};var clockseq=void 0!==options.clockseq?options.clockseq:_clockseq,msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1E4;0>dt&&void 0===options.clockseq&&(clockseq=clockseq+1&16383);(0>dt||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0);if(1E4<=nsecs)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs;_lastNSecs=nsecs;_clockseq=clockseq;msecs+=122192928E5;
nsecs=(1E4*(msecs&268435455)+nsecs)%4294967296;b[offset++]=nsecs>>>24&255;b[offset++]=nsecs>>>16&255;b[offset++]=nsecs>>>8&255;b[offset++]=nsecs&255;msecs=msecs/4294967296*1E4&268435455;b[offset++]=msecs>>>8&255;b[offset++]=msecs&255;b[offset++]=msecs>>>24&15|16;b[offset++]=msecs>>>16&255;b[offset++]=clockseq>>>8|128;b[offset++]=clockseq&255;options=options.node||_nodeId;for(clockseq=0;6>clockseq;clockseq++)b[offset+clockseq]=options[clockseq];return buf?buf:unparse(b)};v4.v4=v4;v4.parse=function(s,
buf,offset){var i=buf&&offset||0,ii=0;buf=buf||[];for(s.toLowerCase().replace(/[0-9a-f]{2}/g,function(oct){16>ii&&(buf[i+ii++]=_hexToByte[oct])});16>ii;)buf[i+ii++]=0;return buf};v4.unparse=unparse;module.exports=v4},{"./rng":47}],49:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});try{module.exports.XMLHttpRequest=XMLHttpRequest}catch(error){console.log("Warning: XMLHttpRequest is not defined"),module.exports.XMLHttpRequest=null}},{}],50:[function(require,
module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var properties_1=require("../utils/properties");require=function(){function Provider(){properties_1.setType(this,"Provider")}Provider.isProvider=function(value){return properties_1.isType(value,"Provider")};return Provider}();exports.Provider=require},{"../utils/properties":74}],51:[function(require,module,exports){function check(format,object){var result={},key;for(key in format)try{var value=format[key](object[key]);void 0!==
value&&(result[key]=value)}catch(error){throw error.checkKey=key,error.checkValue=object[key],error;}return result}function allowNull(check,nullValue){return function(value){return null==value?nullValue:check(value)}}function arrayOf(check){return function(array){if(!Array.isArray(array))throw Error("not an array");var result=[];array.forEach(function(value){result.push(check(value))});return result}}function checkHash(hash,requirePrefix){if("string"===typeof hash&&(requirePrefix||"0x"===hash.substring(0,
2)||(hash="0x"+hash),32===bytes_1.hexDataLength(hash)))return hash.toLowerCase();errors.throwError("invalid hash",errors.INVALID_ARGUMENT,{arg:"hash",value:hash});return null}function checkNumber(number){return bignumber_1.bigNumberify(number).toNumber()}function checkUint256(uint256){if(!bytes_1.isHexString(uint256))throw Error("invalid uint256");for(;66>uint256.length;)uint256="0x0"+uint256.substring(2);return uint256}function checkBlockTag(blockTag){if(null==blockTag)return"latest";if("earliest"===
blockTag)return"0x0";if("latest"===blockTag||"pending"===blockTag)return blockTag;if("number"===typeof blockTag)return bytes_1.hexStripZeros(bytes_1.hexlify(blockTag));if(bytes_1.isHexString(blockTag))return bytes_1.hexStripZeros(blockTag);throw Error("invalid blockTag");}function checkTransactionResponse(transaction){null!=transaction.gas&&null==transaction.gasLimit&&(transaction.gasLimit=transaction.gas);transaction.to&&bignumber_1.bigNumberify(transaction.to).isZero()&&(transaction.to="0x0000000000000000000000000000000000000000");
null!=transaction.input&&null==transaction.data&&(transaction.data=transaction.input);null==transaction.to&&null==transaction.creates&&(transaction.creates=address_1.getContractAddress(transaction));if(!transaction.raw&&transaction.v&&transaction.r&&transaction.s){var raw=[bytes_1.stripZeros(bytes_1.hexlify(transaction.nonce)),bytes_1.stripZeros(bytes_1.hexlify(transaction.gasPrice)),bytes_1.stripZeros(bytes_1.hexlify(transaction.gasLimit)),transaction.to||"0x",bytes_1.stripZeros(bytes_1.hexlify(transaction.value||
"0x")),bytes_1.hexlify(transaction.data||"0x"),bytes_1.stripZeros(bytes_1.hexlify(transaction.v||"0x")),bytes_1.stripZeros(bytes_1.hexlify(transaction.r)),bytes_1.stripZeros(bytes_1.hexlify(transaction.s))];transaction.raw=rlp_1.encode(raw)}raw=check(formatTransaction,transaction);var networkId=transaction.networkId;null!=transaction.chainId&&null==networkId&&null==raw.v&&(networkId=transaction.chainId);bytes_1.isHexString(networkId)&&(networkId=bignumber_1.bigNumberify(networkId).toNumber());"number"!==
typeof networkId&&null!=raw.v&&(networkId=(raw.v-35)/2,0>networkId&&(networkId=0),networkId=parseInt(networkId));"number"!==typeof networkId&&(networkId=0);raw.networkId=networkId;null==raw.chainId&&null!=networkId&&(raw.chainId=networkId);raw.blockHash&&"x"===raw.blockHash.replace(/0/g,"")&&(raw.blockHash=null);return raw}function checkBlock(block,includeTransactions){null!=block.author&&null==block.miner&&(block.miner=block.author);return check(includeTransactions?formatBlockWithTransactions:formatBlock,
block)}function checkTransactionReceipt(transactionReceipt){var result=check(formatTransactionReceipt,transactionReceipt);result.logs.forEach(function(entry,index){null==entry.transactionLogIndex&&(entry.transactionLogIndex=index)});null!=transactionReceipt.status&&(result.byzantium=!0);return result}function checkTopics(topics){Array.isArray(topics)?topics.forEach(function(topic){checkTopics(topic)}):null!=topics&&checkHash(topics);return topics}function checkFilter(filter){return filter&&filter.blockHash?
check(formatFilterByBlock,filter):check(formatFilter,filter)}function checkLog(log){return check(formatLog,log)}function serializeTopics(topics){return topics.map(function(topic$jscomp$0){return"string"===typeof topic$jscomp$0?topic$jscomp$0:Array.isArray(topic$jscomp$0)?(topic$jscomp$0.forEach(function(topic){null!==topic&&32!==bytes_1.hexDataLength(topic)&&errors.throwError("invalid topic",errors.INVALID_ARGUMENT,{argument:"topic",value:topic})}),topic$jscomp$0.join(",")):null===topic$jscomp$0?
"":errors.throwError("invalid topic value",errors.INVALID_ARGUMENT,{argument:"topic",value:topic$jscomp$0})}).join("\x26")}function deserializeTopics(data){return data.split(/&/g).map(function(topic$jscomp$0){var comps=topic$jscomp$0.split(",");return 1===comps.length?""===comps[0]?null:topic$jscomp$0:comps.map(function(topic){return""===topic?null:topic})})}function getEventTag(eventName){if("string"===typeof eventName){if(20===bytes_1.hexDataLength(eventName))return"address:"+address_1.getAddress(eventName);
eventName=eventName.toLowerCase();if(32===bytes_1.hexDataLength(eventName))return"tx:"+eventName;if(-1===eventName.indexOf(":"))return eventName}else{if(Array.isArray(eventName))return"filter::"+serializeTopics(eventName);if(eventName&&"object"===typeof eventName)return"filter:"+(eventName.address||"")+":"+serializeTopics(eventName.topics||[])}throw Error("invalid event - "+eventName);}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",
{value:!0});var address_1=require("../utils/address"),bignumber_1=require("../utils/bignumber"),bytes_1=require("../utils/bytes"),constants_1=require("../constants"),hash_1=require("../utils/hash"),networks_1=require("../utils/networks"),properties_1=require("../utils/properties"),rlp_1=require("../utils/rlp"),transaction_1=require("../utils/transaction"),utf8_1=require("../utils/utf8"),web_1=require("../utils/web"),errors=module(require("../errors")),abstract_provider_1=require("./abstract-provider"),
formatTransaction={hash:checkHash,blockHash:allowNull(checkHash,null),blockNumber:allowNull(checkNumber,null),transactionIndex:allowNull(checkNumber,null),confirmations:allowNull(checkNumber,null),from:address_1.getAddress,gasPrice:bignumber_1.bigNumberify,gasLimit:bignumber_1.bigNumberify,to:allowNull(address_1.getAddress,null),value:bignumber_1.bigNumberify,nonce:checkNumber,data:bytes_1.hexlify,r:allowNull(checkUint256),s:allowNull(checkUint256),v:allowNull(checkNumber),creates:allowNull(address_1.getAddress,
null),raw:allowNull(bytes_1.hexlify)},formatBlock={hash:checkHash,parentHash:checkHash,number:checkNumber,timestamp:checkNumber,nonce:allowNull(bytes_1.hexlify),difficulty:function(value){value=bignumber_1.bigNumberify(value);try{return value.toNumber()}catch(error){}return null},gasLimit:bignumber_1.bigNumberify,gasUsed:bignumber_1.bigNumberify,miner:address_1.getAddress,extraData:bytes_1.hexlify,transactions:allowNull(arrayOf(checkHash))},formatBlockWithTransactions=properties_1.shallowCopy(formatBlock);
formatBlockWithTransactions.transactions=allowNull(arrayOf(checkTransactionResponse));var formatTransactionRequest={from:allowNull(address_1.getAddress),nonce:allowNull(checkNumber),gasLimit:allowNull(bignumber_1.bigNumberify),gasPrice:allowNull(bignumber_1.bigNumberify),to:allowNull(address_1.getAddress),value:allowNull(bignumber_1.bigNumberify),data:allowNull(bytes_1.hexlify)},formatTransactionReceiptLog={transactionLogIndex:allowNull(checkNumber),transactionIndex:checkNumber,blockNumber:checkNumber,
transactionHash:checkHash,address:address_1.getAddress,topics:arrayOf(checkHash),data:bytes_1.hexlify,logIndex:checkNumber,blockHash:checkHash},formatTransactionReceipt={to:allowNull(address_1.getAddress,null),from:allowNull(address_1.getAddress,null),contractAddress:allowNull(address_1.getAddress,null),transactionIndex:checkNumber,root:allowNull(checkHash),gasUsed:bignumber_1.bigNumberify,logsBloom:allowNull(bytes_1.hexlify),blockHash:checkHash,transactionHash:checkHash,logs:arrayOf(function(log){return check(formatTransactionReceiptLog,
log)}),blockNumber:checkNumber,confirmations:allowNull(checkNumber,null),cumulativeGasUsed:bignumber_1.bigNumberify,status:allowNull(checkNumber)},formatFilter={fromBlock:allowNull(checkBlockTag,void 0),toBlock:allowNull(checkBlockTag,void 0),address:allowNull(address_1.getAddress,void 0),topics:allowNull(checkTopics,void 0)},formatFilterByBlock={blockHash:allowNull(checkHash,void 0),address:allowNull(address_1.getAddress,void 0),topics:allowNull(checkTopics,void 0)},formatLog={blockNumber:allowNull(checkNumber),
blockHash:allowNull(checkHash),transactionIndex:checkNumber,removed:allowNull(function(value){if("boolean"===typeof value)return value;if("string"===typeof value){if("true"===value)return!0;if("false"===value)return!1}throw Error("invaid boolean - "+value);}),address:address_1.getAddress,data:function(check,replaceValue){return function(value){return value?check(value):replaceValue}}(bytes_1.hexlify,"0x"),topics:arrayOf(checkHash),transactionHash:checkHash,logIndex:checkNumber};require=function(_super){function BaseProvider(network$jscomp$0){var _this=
_super.call(this)||this;errors.checkNew(_this,abstract_provider_1.Provider);if(network$jscomp$0 instanceof Promise)properties_1.defineReadOnly(_this,"ready",network$jscomp$0.then(function(network){properties_1.defineReadOnly(_this,"_network",network);return network})),_this.ready.catch(function(error){});else{var knownNetwork=networks_1.getNetwork(null==network$jscomp$0?"homestead":network$jscomp$0);knownNetwork?(properties_1.defineReadOnly(_this,"_network",knownNetwork),properties_1.defineReadOnly(_this,
"ready",Promise.resolve(_this._network))):errors.throwError("invalid network",errors.INVALID_ARGUMENT,{arg:"network",value:network$jscomp$0})}_this._lastBlockNumber=-2;_this._balances={};_this._events=[];_this._pollingInterval=4E3;_this._emitted={block:-2};_this._fastQueryDate=0;return _this}__extends(BaseProvider,_super);BaseProvider.prototype._doPoll=function(){var _this=this;this.getBlockNumber().then(function(blockNumber){if(_this.polling&&(_this._setFastBlockNumber(blockNumber),blockNumber!==
_this._lastBlockNumber)){-2===_this._emitted.block&&(_this._emitted.block=blockNumber-1);for(var i=_this._emitted.block+1;i<=blockNumber;i++)_this.emit("block",i);_this._emitted.block!==blockNumber&&(_this._emitted.block=blockNumber,Object.keys(_this._emitted).forEach(function(key){if("block"!==key){var eventBlockNumber=_this._emitted[key];"pending"!==eventBlockNumber&&12<blockNumber-eventBlockNumber&&delete _this._emitted[key]}}));-2===_this._lastBlockNumber&&(_this._lastBlockNumber=blockNumber-
1);var newBalances={},uniqueEventTags={};_this._events.forEach(function(event){uniqueEventTags[event.tag]=!0});Object.keys(uniqueEventTags).forEach(function(tag){tag=tag.split(":");switch(tag[0]){case "tx":var hash_2=tag[1];_this.getTransactionReceipt(hash_2).then(function(receipt){if(!receipt||null==receipt.blockNumber)return null;_this._emitted["t:"+hash_2]=receipt.blockNumber;_this.emit(hash_2,receipt);return null}).catch(function(error){_this.emit("error",error)});break;case "address":var address_2=
tag[1];_this._balances[address_2]&&(newBalances[address_2]=_this._balances[address_2]);_this.getBalance(address_2,"latest").then(function(balance){var lastBalance=_this._balances[address_2];if(!lastBalance||!balance.eq(lastBalance))return _this._balances[address_2]=balance,_this.emit(address_2,balance),null}).catch(function(error){_this.emit("error",error)});break;case "filter":var topics=deserializeTopics(tag[2]),filter_1={address:tag[1],fromBlock:_this._lastBlockNumber+1,toBlock:blockNumber,topics:topics};
filter_1.address||delete filter_1.address;_this.getLogs(filter_1).then(function(logs){if(0!==logs.length)return logs.forEach(function(log){_this._emitted["b:"+log.blockHash]=log.blockNumber;_this._emitted["t:"+log.transactionHash]=log.blockNumber;_this.emit(filter_1,log)}),null}).catch(function(error){_this.emit("error",error)})}});_this._lastBlockNumber=blockNumber;_this._balances=newBalances;return null}}).catch(function(error){});this.doPoll()};BaseProvider.prototype.resetEventsBlock=function(blockNumber){this._lastBlockNumber=
blockNumber-1;this.polling&&this._doPoll()};Object.defineProperty(BaseProvider.prototype,"network",{get:function(){return this._network},enumerable:!0,configurable:!0});BaseProvider.prototype.getNetwork=function(){return this.ready};Object.defineProperty(BaseProvider.prototype,"blockNumber",{get:function(){return this._fastBlockNumber},enumerable:!0,configurable:!0});Object.defineProperty(BaseProvider.prototype,"polling",{get:function(){return null!=this._poller},set:function(value){var _this=this;
setTimeout(function(){value&&!_this._poller?(_this._poller=setInterval(_this._doPoll.bind(_this),_this.pollingInterval),_this._doPoll()):!value&&_this._poller&&(clearInterval(_this._poller),_this._poller=null)},0)},enumerable:!0,configurable:!0});Object.defineProperty(BaseProvider.prototype,"pollingInterval",{get:function(){return this._pollingInterval},set:function(value){var _this=this;if("number"!==typeof value||0>=value||parseInt(String(value))!=value)throw Error("invalid polling interval");this._pollingInterval=
value;this._poller&&(clearInterval(this._poller),this._poller=setInterval(function(){_this._doPoll()},this._pollingInterval))},enumerable:!0,configurable:!0});BaseProvider.prototype._getFastBlockNumber=function(){var _this=this,now=(new Date).getTime();now-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=now,this._fastBlockNumberPromise=this.getBlockNumber().then(function(blockNumber){if(null==_this._fastBlockNumber||blockNumber>_this._fastBlockNumber)_this._fastBlockNumber=blockNumber;
return _this._fastBlockNumber}));return this._fastBlockNumberPromise};BaseProvider.prototype._setFastBlockNumber=function(blockNumber){!(null!=this._fastBlockNumber&&blockNumber<this._fastBlockNumber)&&(this._fastQueryDate=(new Date).getTime(),null==this._fastBlockNumber||blockNumber>this._fastBlockNumber)&&(this._fastBlockNumber=blockNumber,this._fastBlockNumberPromise=Promise.resolve(blockNumber))};BaseProvider.prototype.waitForTransaction=function(transactionHash,confirmations){var _this=this;
null==confirmations&&(confirmations=1);return this.getTransactionReceipt(transactionHash).then(function(receipt$jscomp$0){return 0===confirmations||receipt$jscomp$0&&receipt$jscomp$0.confirmations>=confirmations?receipt$jscomp$0:new Promise(function(resolve){var handler=function(receipt){receipt.confirmations<confirmations||(_this.removeListener(transactionHash,handler),resolve(receipt))};_this.on(transactionHash,handler)})})};BaseProvider.prototype.getBlockNumber=function(){var _this=this;return this.ready.then(function(){return _this.perform("getBlockNumber",
{}).then(function(result){var value=parseInt(result);if(value!=result)throw Error("invalid response - getBlockNumber");_this._setFastBlockNumber(value);return value})})};BaseProvider.prototype.getGasPrice=function(){var _this=this;return this.ready.then(function(){return _this.perform("getGasPrice",{}).then(function(result){return bignumber_1.bigNumberify(result)})})};BaseProvider.prototype.getBalance=function(addressOrName,blockTag$jscomp$0){var _this=this;return this.ready.then(function(){return properties_1.resolveProperties({addressOrName:addressOrName,
blockTag:blockTag$jscomp$0}).then(function(_a){var blockTag=_a.blockTag;return _this._getAddress(_a.addressOrName).then(function(address){address={address:address,blockTag:checkBlockTag(blockTag)};return _this.perform("getBalance",address).then(function(result){return bignumber_1.bigNumberify(result)})})})})};BaseProvider.prototype.getTransactionCount=function(addressOrName,blockTag$jscomp$0){var _this=this;return this.ready.then(function(){return properties_1.resolveProperties({addressOrName:addressOrName,
blockTag:blockTag$jscomp$0}).then(function(_a){var blockTag=_a.blockTag;return _this._getAddress(_a.addressOrName).then(function(address){address={address:address,blockTag:checkBlockTag(blockTag)};return _this.perform("getTransactionCount",address).then(function(result){return bignumber_1.bigNumberify(result).toNumber()})})})})};BaseProvider.prototype.getCode=function(addressOrName,blockTag$jscomp$0){var _this=this;return this.ready.then(function(){return properties_1.resolveProperties({addressOrName:addressOrName,
blockTag:blockTag$jscomp$0}).then(function(_a){var blockTag=_a.blockTag;return _this._getAddress(_a.addressOrName).then(function(address){address={address:address,blockTag:checkBlockTag(blockTag)};return _this.perform("getCode",address).then(function(result){return bytes_1.hexlify(result)})})})})};BaseProvider.prototype.getStorageAt=function(addressOrName,position,blockTag$jscomp$0){var _this=this;return this.ready.then(function(){return properties_1.resolveProperties({addressOrName:addressOrName,
position:position,blockTag:blockTag$jscomp$0}).then(function(_a){var position=_a.position,blockTag=_a.blockTag;return _this._getAddress(_a.addressOrName).then(function(address){address={address:address,blockTag:checkBlockTag(blockTag),position:bytes_1.hexStripZeros(bytes_1.hexlify(position))};return _this.perform("getStorageAt",address).then(function(result){return bytes_1.hexlify(result)})})})})};BaseProvider.prototype.sendTransaction=function(signedTransaction){var _this=this;return this.ready.then(function(){return properties_1.resolveProperties({signedTransaction:signedTransaction}).then(function(_a){var signedTransaction=
_a.signedTransaction;_a={signedTransaction:bytes_1.hexlify(signedTransaction)};return _this.perform("sendTransaction",_a).then(function(hash){return _this._wrapTransaction(transaction_1.parse(signedTransaction),hash)},function(error){error.transaction=transaction_1.parse(signedTransaction);error.transaction.hash&&(error.transactionHash=error.transaction.hash);throw error;})})})};BaseProvider.prototype._wrapTransaction=function(tx,hash){var _this=this;if(null!=hash&&32!==bytes_1.hexDataLength(hash))throw Error("invalid response - sendTransaction");
null!=hash&&tx.hash!==hash&&errors.throwError("Transaction hash mismatch from Provider.sendTransaction.",errors.UNKNOWN_ERROR,{expectedHash:tx.hash,returnedHash:hash});tx.wait=function(confirmations){0!==confirmations&&(_this._emitted["t:"+tx.hash]="pending");return _this.waitForTransaction(tx.hash,confirmations).then(function(receipt){if(null==receipt&&0===confirmations)return null;_this._emitted["t:"+tx.hash]=receipt.blockNumber;0===receipt.status&&errors.throwError("transaction failed",errors.CALL_EXCEPTION,
{transactionHash:tx.hash,transaction:tx});return receipt})};return tx};BaseProvider.prototype.call=function(transaction,blockTag$jscomp$0){var _this=this,tx$jscomp$0=properties_1.shallowCopy(transaction);return this.ready.then(function(){return properties_1.resolveProperties({blockTag:blockTag$jscomp$0,tx:tx$jscomp$0}).then(function(_a){var blockTag=_a.blockTag;return _this._resolveNames(_a.tx,["to","from"]).then(function(tx){tx={blockTag:checkBlockTag(blockTag),transaction:check(formatTransactionRequest,
tx)};return _this.perform("call",tx).then(function(result){return bytes_1.hexlify(result)})})})})};BaseProvider.prototype.estimateGas=function(transaction){var _this=this,tx$jscomp$1={to:transaction.to,from:transaction.from,data:transaction.data,gasPrice:transaction.gasPrice,value:transaction.value};return this.ready.then(function(){return properties_1.resolveProperties(tx$jscomp$1).then(function(tx$jscomp$0){return _this._resolveNames(tx$jscomp$0,["to","from"]).then(function(tx){tx={transaction:check(formatTransactionRequest,
tx)};return _this.perform("estimateGas",tx).then(function(result){return bignumber_1.bigNumberify(result)})})})})};BaseProvider.prototype.getBlock=function(blockHashOrBlockTag,includeTransactions){var _this=this;return this.ready.then(function(){return properties_1.resolveProperties({blockHashOrBlockTag:blockHashOrBlockTag}).then(function(_a){_a=_a.blockHashOrBlockTag;try{var blockHash_1=bytes_1.hexlify(_a);if(32===bytes_1.hexDataLength(blockHash_1))return web_1.poll(function(){return _this.perform("getBlock",
{blockHash:blockHash_1,includeTransactions:!!includeTransactions}).then(function(block){if(null==block){if(null==_this._emitted["b:"+blockHash_1])return null}else return checkBlock(block,includeTransactions)})},{onceBlock:_this})}catch(error){}try{var blockNumber_1=-128,blockTag_1=checkBlockTag(_a);bytes_1.isHexString(blockTag_1)&&(blockNumber_1=parseInt(blockTag_1.substring(2),16));return web_1.poll(function(){return _this.perform("getBlock",{blockTag:blockTag_1,includeTransactions:!!includeTransactions}).then(function(block){return null==
block?blockNumber_1<=_this._emitted.block?void 0:null:checkBlock(block,includeTransactions)})},{onceBlock:_this})}catch(error$2){}throw Error("invalid block hash or block tag");})})};BaseProvider.prototype.getTransaction=function(transactionHash$jscomp$0){var _this=this;return this.ready.then(function(){return properties_1.resolveProperties({transactionHash:transactionHash$jscomp$0}).then(function(_a){var transactionHash=_a.transactionHash,params={transactionHash:checkHash(transactionHash,!0)};return web_1.poll(function(){return _this.perform("getTransaction",
params).then(function(result){if(null==result){if(null==_this._emitted["t:"+transactionHash])return null}else{var tx=BaseProvider.checkTransactionResponse(result);if(null==tx.blockNumber)tx.confirmations=0;else if(null==tx.confirmations)return _this._getFastBlockNumber().then(function(blockNumber){blockNumber=blockNumber-tx.blockNumber+1;0>=blockNumber&&(blockNumber=1);tx.confirmations=blockNumber;return _this._wrapTransaction(tx)});return _this._wrapTransaction(tx)}})},{onceBlock:_this})})})};BaseProvider.prototype.getTransactionReceipt=
function(transactionHash$jscomp$0){var _this=this;return this.ready.then(function(){return properties_1.resolveProperties({transactionHash:transactionHash$jscomp$0}).then(function(_a){var transactionHash=_a.transactionHash,params={transactionHash:checkHash(transactionHash,!0)};return web_1.poll(function(){return _this.perform("getTransactionReceipt",params).then(function(result){if(null==result){if(null==_this._emitted["t:"+transactionHash])return null}else if(null!=result.blockHash){var receipt=
checkTransactionReceipt(result);if(null==receipt.blockNumber)receipt.confirmations=0;else if(null==receipt.confirmations)return _this._getFastBlockNumber().then(function(blockNumber){blockNumber=blockNumber-receipt.blockNumber+1;0>=blockNumber&&(blockNumber=1);receipt.confirmations=blockNumber;return receipt});return receipt}})},{onceBlock:_this})})})};BaseProvider.prototype.getLogs=function(filter$jscomp$1){var _this=this;return this.ready.then(function(){return properties_1.resolveProperties(filter$jscomp$1).then(function(filter$jscomp$0){return _this._resolveNames(filter$jscomp$0,
["address"]).then(function(filter){filter={filter:checkFilter(filter)};return _this.perform("getLogs",filter).then(function(result){return arrayOf(checkLog)(result)})})})})};BaseProvider.prototype.getEtherPrice=function(){var _this=this;return this.ready.then(function(){return _this.perform("getEtherPrice",{}).then(function(result){return result})})};BaseProvider.prototype._getAddress=function(addressOrName){return this.resolveName(addressOrName).then(function(address){null==address&&errors.throwError("ENS name not configured",
errors.UNSUPPORTED_OPERATION,{operation:"resolveName("+JSON.stringify(addressOrName)+")"});return address})};BaseProvider.prototype._resolveNames=function(object,keys){var promises=[],result=properties_1.shallowCopy(object);keys.forEach(function(key){null!=result[key]&&promises.push(this._getAddress(result[key]).then(function(address){result[key]=address}))},this);return Promise.all(promises).then(function(){return result})};BaseProvider.prototype._getResolver=function(name){var _this=this;return this.getNetwork().then(function(network){network.ensAddress||
errors.throwError("network does not support ENS",errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:network.name});var data$jscomp$0="0x0178b8bf"+hash_1.namehash(name).substring(2);return _this.call({to:network.ensAddress,data:data$jscomp$0}).then(function(data){if(32!==bytes_1.hexDataLength(data))return null;data=address_1.getAddress(bytes_1.hexDataSlice(data,12));return data===constants_1.AddressZero?null:data})})};BaseProvider.prototype.resolveName=function(name){var _this=this;if(name instanceof
Promise)return name.then(function(addressOrName){return _this.resolveName(addressOrName)});try{return Promise.resolve(address_1.getAddress(name))}catch(error){if(bytes_1.isHexString(name))throw error;}var self=this,nodeHash=hash_1.namehash(name);return this._getResolver(name).then(function(resolverAddress){if(null==resolverAddress)return null;var data="0x3b3b57de"+nodeHash.substring(2);return self.call({to:resolverAddress,data:data})}).then(function(data){if(32!==bytes_1.hexDataLength(data))return null;
data=address_1.getAddress(bytes_1.hexDataSlice(data,12));return data===constants_1.AddressZero?null:data})};BaseProvider.prototype.lookupAddress=function(address$jscomp$0){var _this=this;if(address$jscomp$0 instanceof Promise)return address$jscomp$0.then(function(address){return _this.lookupAddress(address)});address$jscomp$0=address_1.getAddress(address$jscomp$0);var name$jscomp$0=address$jscomp$0.substring(2)+".addr.reverse",nodehash=hash_1.namehash(name$jscomp$0),self=this;return this._getResolver(name$jscomp$0).then(function(resolverAddress){if(!resolverAddress)return null;
var data="0x691f3431"+nodehash.substring(2);return self.call({to:resolverAddress,data:data})}).then(function(data){if(null==data)return null;data=data.substring(2);if(64>data.length)return null;data=data.substring(64);if(64>data.length)return null;var length=bignumber_1.bigNumberify("0x"+data.substring(0,64)).toNumber();data=data.substring(64);if(2*length>data.length)return null;var name=utf8_1.toUtf8String("0x"+data.substring(0,2*length));return self.resolveName(name).then(function(addr){return addr!=
address$jscomp$0?null:name})})};BaseProvider.checkTransactionResponse=function(transaction){return checkTransactionResponse(transaction)};BaseProvider.prototype.doPoll=function(){};BaseProvider.prototype.perform=function(method,params){errors.throwError(method+" not implemented",errors.NOT_IMPLEMENTED,{operation:method});return null};BaseProvider.prototype._startPending=function(){errors.warn("WARNING: this provider does not support pending events")};BaseProvider.prototype._stopPending=function(){};
BaseProvider.prototype._addEventListener=function(eventName,listener,once){this._events.push({tag:getEventTag(eventName),listener:listener,once:once});"pending"===eventName&&this._startPending();this.polling=!0};BaseProvider.prototype.on=function(eventName,listener){this._addEventListener(eventName,listener,!1);return this};BaseProvider.prototype.once=function(eventName,listener){this._addEventListener(eventName,listener,!0);return this};BaseProvider.prototype.addEventListener=function(eventName,
listener){return this.on(eventName,listener)};BaseProvider.prototype.emit=function(eventName){for(var _this=this,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var result=!1,eventTag=getEventTag(eventName);this._events=this._events.filter(function(event){if(event.tag!==eventTag)return!0;setTimeout(function(){event.listener.apply(_this,args)},0);result=!0;return!event.once});0===this.listenerCount()&&(this.polling=!1);return result};BaseProvider.prototype.listenerCount=function(eventName){if(!eventName)return this._events.length;
var eventTag=getEventTag(eventName);return this._events.filter(function(event){return event.tag===eventTag}).length};BaseProvider.prototype.listeners=function(eventName){var eventTag=getEventTag(eventName);return this._events.filter(function(event){return event.tag===eventTag}).map(function(event){return event.listener})};BaseProvider.prototype.removeAllListeners=function(eventName){if(null==eventName)this._events=[],this._stopPending();else{var eventTag_1=getEventTag(eventName);this._events=this._events.filter(function(event){return event.tag!==
eventTag_1});"pending"===eventName&&this._stopPending()}0===this._events.length&&(this.polling=!1);return this};BaseProvider.prototype.removeListener=function(eventName,listener){var found=!1,eventTag=getEventTag(eventName);this._events=this._events.filter(function(event){if(event.tag!==eventTag||event.listener!=listener||found)return!0;found=!0;return!1});"pending"===eventName&&0===this.listenerCount("pending")&&this._stopPending();0===this.listenerCount()&&(this.polling=!1);return this};return BaseProvider}(abstract_provider_1.Provider);
exports.BaseProvider=require;properties_1.defineReadOnly(abstract_provider_1.Provider,"inherits",properties_1.inheritable(abstract_provider_1.Provider))},{"../constants":3,"../errors":5,"../utils/address":60,"../utils/bignumber":63,"../utils/bytes":64,"../utils/hash":65,"../utils/networks":72,"../utils/properties":74,"../utils/rlp":76,"../utils/transaction":83,"../utils/utf8":85,"../utils/web":86,"./abstract-provider":50}],52:[function(require,module,exports){function getTransactionString(transaction){var result=
[],key;for(key in transaction)if(null!=transaction[key]){var value=bytes_1.hexlify(transaction[key]);({gasLimit:!0,gasPrice:!0,nonce:!0,value:!0})[key]&&(value=bytes_1.hexStripZeros(value));result.push(key+"\x3d"+value)}return result.join("\x26")}function getResult(result){if(0==result.status&&("No records found"===result.message||"No transactions found"===result.message))return result.result;if(1!=result.status||"OK"!=result.message){var error=Error("invalid response");error.result=JSON.stringify(result);
throw error;}return result.result}function getJsonResult(result){if("2.0"!=result.jsonrpc){var error=Error("invalid response");error.result=JSON.stringify(result);throw error;}if(result.error)throw error=Error(result.error.message||"unknown error"),result.error.code&&(error.code=result.error.code),result.error.data&&(error.data=result.error.data),error;return result.result}function checkLogTag(blockTag){if("pending"===blockTag)throw Error("pending not supported");return"latest"===blockTag?blockTag:
parseInt(blockTag.substring(2),16)}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,
k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var base_provider_1=require("./base-provider"),bytes_1=require("../utils/bytes"),properties_1=require("../utils/properties"),web_1=require("../utils/web"),errors=module(require("../errors"));require=function(_super){function EtherscanProvider(network,apiKey){network=_super.call(this,network)||this;errors.checkNew(network,EtherscanProvider);var name="invalid";network.network&&(name=network.network.name);
switch(name){case "homestead":name="https://api.etherscan.io";break;case "ropsten":name="https://api-ropsten.etherscan.io";break;case "rinkeby":name="https://api-rinkeby.etherscan.io";break;case "kovan":name="https://api-kovan.etherscan.io";break;case "goerli":name="https://api-goerli.etherscan.io";break;default:throw Error("unsupported network");}properties_1.defineReadOnly(network,"baseUrl",name);properties_1.defineReadOnly(network,"apiKey",apiKey||"8FG3JMZ9USS4NTA6YKEKHINU56SEPPVBJR");return network}
__extends(EtherscanProvider,_super);EtherscanProvider.prototype.perform=function(method,params){var _this=this,url$jscomp$0=this.baseUrl,apiKey="";this.apiKey&&(apiKey+="\x26apikey\x3d"+this.apiKey);var get=function(url,procFunc){return web_1.fetchJson(url,null,procFunc||getJsonResult).then(function(result){_this.emit("debug",{action:"perform",request:url,response:result,provider:_this});return result})};switch(method){case "getBlockNumber":return get(url$jscomp$0+("/api?module\x3dproxy\x26action\x3deth_blockNumber"+
apiKey));case "getGasPrice":return get(url$jscomp$0+("/api?module\x3dproxy\x26action\x3deth_gasPrice"+apiKey));case "getBalance":return url$jscomp$0+="/api?module\x3daccount\x26action\x3dbalance\x26address\x3d"+params.address,url$jscomp$0+="\x26tag\x3d"+params.blockTag+apiKey,get(url$jscomp$0,getResult);case "getTransactionCount":return url$jscomp$0+="/api?module\x3dproxy\x26action\x3deth_getTransactionCount\x26address\x3d"+params.address,url$jscomp$0+="\x26tag\x3d"+params.blockTag+apiKey,get(url$jscomp$0);
case "getCode":return url$jscomp$0+="/api?module\x3dproxy\x26action\x3deth_getCode\x26address\x3d"+params.address,url$jscomp$0+="\x26tag\x3d"+params.blockTag+apiKey,get(url$jscomp$0,getJsonResult);case "getStorageAt":return url$jscomp$0+="/api?module\x3dproxy\x26action\x3deth_getStorageAt\x26address\x3d"+params.address,url$jscomp$0+="\x26position\x3d"+params.position,url$jscomp$0+="\x26tag\x3d"+params.blockTag+apiKey,get(url$jscomp$0,getJsonResult);case "sendTransaction":return url$jscomp$0+="/api?module\x3dproxy\x26action\x3deth_sendRawTransaction\x26hex\x3d"+
params.signedTransaction,get(url$jscomp$0+apiKey).catch(function(error){error.responseText&&(0<=error.responseText.toLowerCase().indexOf("insufficient funds")&&errors.throwError("insufficient funds",errors.INSUFFICIENT_FUNDS,{}),0<=error.responseText.indexOf("same hash was already imported")&&errors.throwError("nonce has already been used",errors.NONCE_EXPIRED,{}),0<=error.responseText.indexOf("another transaction with same nonce")&&errors.throwError("replacement fee too low",errors.REPLACEMENT_UNDERPRICED,
{}));throw error;});case "getBlock":if(params.blockTag)return url$jscomp$0+="/api?module\x3dproxy\x26action\x3deth_getBlockByNumber\x26tag\x3d"+params.blockTag,url$jscomp$0=params.includeTransactions?url$jscomp$0+"\x26boolean\x3dtrue":url$jscomp$0+"\x26boolean\x3dfalse",get(url$jscomp$0+apiKey);throw Error("getBlock by blockHash not implmeneted");case "getTransaction":return url$jscomp$0+="/api?module\x3dproxy\x26action\x3deth_getTransactionByHash\x26txhash\x3d"+params.transactionHash,get(url$jscomp$0+
apiKey);case "getTransactionReceipt":return url$jscomp$0+="/api?module\x3dproxy\x26action\x3deth_getTransactionReceipt\x26txhash\x3d"+params.transactionHash,get(url$jscomp$0+apiKey);case "call":(method=getTransactionString(params.transaction))&&(method="\x26"+method);if("latest"!==params.blockTag)throw Error("EtherscanProvider does not support blockTag for call");return get(url$jscomp$0+("/api?module\x3dproxy\x26action\x3deth_call"+method)+apiKey);case "estimateGas":return(method=getTransactionString(params.transaction))&&
(method="\x26"+method),get(url$jscomp$0+("/api?module\x3dproxy\x26action\x3deth_estimateGas\x26"+method)+apiKey);case "getLogs":url$jscomp$0+="/api?module\x3dlogs\x26action\x3dgetLogs";try{params.filter.fromBlock&&(url$jscomp$0+="\x26fromBlock\x3d"+checkLogTag(params.filter.fromBlock));params.filter.toBlock&&(url$jscomp$0+="\x26toBlock\x3d"+checkLogTag(params.filter.toBlock));if(params.filter.blockHash)try{errors.throwError("Etherscan does not support blockHash filters",errors.UNSUPPORTED_OPERATION,
{operation:"getLogs(blockHash)"})}catch(error){return Promise.reject(error)}params.filter.address&&(url$jscomp$0+="\x26address\x3d"+params.filter.address);if(params.filter.topics&&0<params.filter.topics.length){if(1<params.filter.topics.length)throw Error("unsupported topic format");var topic0=params.filter.topics[0];if("string"!==typeof topic0||66!==topic0.length)throw Error("unsupported topic0 format");url$jscomp$0+="\x26topic0\x3d"+topic0}}catch(error$3){return Promise.reject(error$3)}var self=
this;return get(url$jscomp$0+apiKey,getResult).then(function(logs){var txs={},seq=Promise.resolve();logs.forEach(function(log){seq=seq.then(function(){if(null!=log.blockHash)return null;log.blockHash=txs[log.transactionHash];return null==log.blockHash?self.getTransaction(log.transactionHash).then(function(tx){txs[log.transactionHash]=tx.blockHash;log.blockHash=tx.blockHash;return null}):null})});return seq.then(function(){return logs})});case "getEtherPrice":if("homestead"!==this.network.name)return Promise.resolve(0);
url$jscomp$0+="/api?module\x3dstats\x26action\x3dethprice";return get(url$jscomp$0+apiKey,getResult).then(function(result){return parseFloat(result.ethusd)})}return _super.prototype.perform.call(this,method,params)};EtherscanProvider.prototype.getHistory=function(addressOrName,startBlock,endBlock){var _this=this,url=this.baseUrl,apiKey="";this.apiKey&&(apiKey+="\x26apikey\x3d"+this.apiKey);null==startBlock&&(startBlock=0);null==endBlock&&(endBlock=99999999);return this.resolveName(addressOrName).then(function(address){url+=
"/api?module\x3daccount\x26action\x3dtxlist\x26address\x3d"+address;url+="\x26startblock\x3d"+startBlock;url+="\x26endblock\x3d"+endBlock;url+="\x26sort\x3dasc"+apiKey;return web_1.fetchJson(url,null,getResult).then(function(result){_this.emit("debug",{action:"getHistory",request:url,response:result,provider:_this});var output=[];result.forEach(function(tx){["contractAddress","to"].forEach(function(key){""==tx[key]&&delete tx[key]});null==tx.creates&&null!=tx.contractAddress&&(tx.creates=tx.contractAddress);
var item=base_provider_1.BaseProvider.checkTransactionResponse(tx);tx.timeStamp&&(item.timestamp=parseInt(tx.timeStamp));output.push(item)});return output})})};return EtherscanProvider}(base_provider_1.BaseProvider);exports.EtherscanProvider=require},{"../errors":5,"../utils/bytes":64,"../utils/properties":74,"../utils/web":86,"./base-provider":51}],53:[function(require,module,exports){function checkNetworks(networks){var result=!0,check=null;networks.forEach(function(network){null==network?result=
!1:null==check?check=network:(check.name!==network.name||check.chainId!==network.chainId||check.ensAddress!==network.ensAddress&&(null!=check.ensAddress||null!=network.ensAddress))&&errors.throwError("provider mismatch",errors.INVALID_ARGUMENT,{arg:"networks",value:networks})});return result}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};
return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var base_provider_1=require("./base-provider"),errors=module(require("../errors"));
require=function(_super){function FallbackProvider(providers){var _this=this;if(0===providers.length)throw Error("no providers");checkNetworks(providers.map(function(p){return p.network}))?_this=_super.call(this,providers[0].network)||this:(_this=Promise.all(providers.map(function(p){return p.getNetwork()})).then(function(networks){checkNetworks(networks)||errors.throwError("getNetwork returned null",errors.UNKNOWN_ERROR,{});return networks[0]}),_this=_super.call(this,_this)||this);errors.checkNew(_this,
FallbackProvider);_this._providers=providers.slice(0);return _this}__extends(FallbackProvider,_super);Object.defineProperty(FallbackProvider.prototype,"providers",{get:function(){return this._providers.slice(0)},enumerable:!0,configurable:!0});FallbackProvider.prototype.perform=function(method,params){var providers=this.providers;return new Promise(function(resolve,reject){function next(){providers.length?providers.shift().perform(method,params).then(function(result){return resolve(result)}).catch(function(error){firstError||
(firstError=error);setTimeout(next,0)}):reject(firstError)}var firstError=null;next()})};return FallbackProvider}(base_provider_1.BaseProvider);exports.FallbackProvider=require},{"../errors":5,"./base-provider":51}],54:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});module=require("./abstract-provider");exports.Provider=module.Provider;module=require("./base-provider");exports.BaseProvider=module.BaseProvider;module=require("./etherscan-provider");exports.EtherscanProvider=
module.EtherscanProvider;module=require("./fallback-provider");exports.FallbackProvider=module.FallbackProvider;module=require("./ipc-provider");exports.IpcProvider=module.IpcProvider;module=require("./infura-provider");exports.InfuraProvider=module.InfuraProvider;module=require("./json-rpc-provider");exports.JsonRpcProvider=module.JsonRpcProvider;exports.JsonRpcSigner=module.JsonRpcSigner;require=require("./web3-provider");exports.Web3Provider=require.Web3Provider},{"./abstract-provider":50,"./base-provider":51,
"./etherscan-provider":52,"./fallback-provider":53,"./infura-provider":55,"./ipc-provider":56,"./json-rpc-provider":57,"./web3-provider":58}],55:[function(require,module,exports){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):
(__.prototype=b.prototype,new __)}}();module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var json_rpc_provider_1=require("./json-rpc-provider"),bytes_1=require("../utils/bytes"),networks_1=require("../utils/networks"),properties_1=require("../utils/properties"),errors=module(require("../errors"));
require=function(_super){function InfuraProvider(network,projectId){var standard=networks_1.getNetwork(null==network?"homestead":network);null==projectId&&(projectId="7d0d81d0919f4f05b9ab6634be01ee73");var host=null;switch(standard.name){case "homestead":host="mainnet.infura.io";break;case "ropsten":host="ropsten.infura.io";break;case "rinkeby":host="rinkeby.infura.io";break;case "goerli":host="goerli.infura.io";break;case "kovan":host="kovan.infura.io";break;default:errors.throwError("unsupported network",
errors.INVALID_ARGUMENT,{argument:"network",value:network})}bytes_1.isHexString("0x"+projectId,16)?(network=_super.call(this,"https://"+host+"/v3/"+projectId,standard)||this,properties_1.defineReadOnly(network,"apiAccessToken",null),properties_1.defineReadOnly(network,"projectId",projectId)):(errors.warn("The legacy INFURA apiAccesToken API is deprecated; please upgrade to a Project ID instead (see INFURA dshboard; https://infura.io)"),network=_super.call(this,"https://"+host+"/"+projectId,standard)||
this,properties_1.defineReadOnly(network,"apiAccessToken",projectId),properties_1.defineReadOnly(network,"projectId",null));errors.checkNew(network,InfuraProvider);return network}__extends(InfuraProvider,_super);InfuraProvider.prototype._startPending=function(){errors.warn("WARNING: INFURA does not support pending filters")};InfuraProvider.prototype.getSigner=function(address){return errors.throwError("INFURA does not support signing",errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})};InfuraProvider.prototype.listAccounts=
function(){return Promise.resolve([])};return InfuraProvider}(json_rpc_provider_1.JsonRpcProvider);exports.InfuraProvider=require},{"../errors":5,"../utils/bytes":64,"../utils/networks":72,"../utils/properties":74,"./json-rpc-provider":57}],56:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0})},{}],57:[function(require,module,exports){function timer(timeout){return new Promise(function(resolve){setTimeout(function(){resolve()},timeout)})}function getResult(payload){if(payload.error){var error=
Error(payload.error.message);error.code=payload.error.code;error.data=payload.error.data;throw error;}return payload.result}function getLowerCase(value){return value?value.toLowerCase():value}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):
(__.prototype=b.prototype,new __)}}();module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var base_provider_1=require("./base-provider"),abstract_signer_1=require("../abstract-signer"),errors=module(require("../errors")),address_1=require("../utils/address"),bytes_1=require("../utils/bytes"),
networks_1=require("../utils/networks"),properties_1=require("../utils/properties"),utf8_1=require("../utils/utf8"),web_1=require("../utils/web"),_constructorGuard={},_nextId=42,JsonRpcSigner=function(_super){function JsonRpcSigner(constructorGuard,provider,addressOrIndex){var _this=_super.call(this)||this;errors.checkNew(_this,JsonRpcSigner);if(constructorGuard!==_constructorGuard)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");properties_1.defineReadOnly(_this,
"provider",provider);addressOrIndex?"string"===typeof addressOrIndex?properties_1.defineReadOnly(_this,"_address",address_1.getAddress(addressOrIndex)):"number"===typeof addressOrIndex?properties_1.defineReadOnly(_this,"_index",addressOrIndex):errors.throwError("invalid address or index",errors.INVALID_ARGUMENT,{argument:"addressOrIndex",value:addressOrIndex}):properties_1.defineReadOnly(_this,"_index",0);return _this}__extends(JsonRpcSigner,_super);JsonRpcSigner.prototype.getAddress=function(){var _this=
this;return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(function(accounts){accounts.length<=_this._index&&errors.throwError("unknown account #"+_this._index,errors.UNSUPPORTED_OPERATION,{operation:"getAddress"});_this._address=address_1.getAddress(accounts[_this._index]);return _this._address})};JsonRpcSigner.prototype.getBalance=function(blockTag){return this.provider.getBalance(this.getAddress(),blockTag)};JsonRpcSigner.prototype.getTransactionCount=function(blockTag){return this.provider.getTransactionCount(this.getAddress(),
blockTag)};JsonRpcSigner.prototype.sendUncheckedTransaction=function(transaction){var _this=this;transaction=properties_1.shallowCopy(transaction);var fromAddress=this.getAddress().then(function(address){address&&(address=address.toLowerCase());return address});if(null==transaction.gasLimit){var estimate=properties_1.shallowCopy(transaction);estimate.from=fromAddress;transaction.gasLimit=this.provider.estimateGas(estimate)}return Promise.all([properties_1.resolveProperties(transaction),fromAddress]).then(function(results){var tx=
results[0],hexTx=JsonRpcProvider.hexlifyTransaction(tx);hexTx.from=results[1];return _this.provider.send("eth_sendTransaction",[hexTx]).then(function(hash){return hash},function(error){error.responseText&&(0<=error.responseText.indexOf("insufficient funds")&&errors.throwError("insufficient funds",errors.INSUFFICIENT_FUNDS,{transaction:tx}),0<=error.responseText.indexOf("nonce too low")&&errors.throwError("nonce has already been used",errors.NONCE_EXPIRED,{transaction:tx}),0<=error.responseText.indexOf("replacement transaction underpriced")&&
errors.throwError("replacement fee too low",errors.REPLACEMENT_UNDERPRICED,{transaction:tx}));throw error;})})};JsonRpcSigner.prototype.sendTransaction=function(transaction){var _this=this;return this.sendUncheckedTransaction(transaction).then(function(hash){return web_1.poll(function(){return _this.provider.getTransaction(hash).then(function(tx){if(null!==tx)return _this.provider._wrapTransaction(tx,hash)})},{fastRetry:250,onceBlock:_this.provider}).catch(function(error){error.transactionHash=hash;
throw error;})})};JsonRpcSigner.prototype.signMessage=function(message){var _this=this,data="string"===typeof message?utf8_1.toUtf8Bytes(message):message;return this.getAddress().then(function(address){return _this.provider.send("eth_sign",[address.toLowerCase(),bytes_1.hexlify(data)])})};JsonRpcSigner.prototype.unlock=function(password){var provider=this.provider;return this.getAddress().then(function(address){return provider.send("personal_unlockAccount",[address.toLowerCase(),password,null])})};
return JsonRpcSigner}(abstract_signer_1.Signer);exports.JsonRpcSigner=JsonRpcSigner;var allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0},JsonRpcProvider=function(_super){function JsonRpcProvider(url,network){var _this=this;"string"===typeof url&&null===network&&networks_1.getNetwork(url)&&(network=url,url=null);network?_this=_super.call(this,network)||this:(network=new Promise(function(resolve,reject){setTimeout(function(){_this.send("net_version",[]).then(function(result){return resolve(networks_1.getNetwork(parseInt(result)))}).catch(function(error){reject(error)})})}),
_this=_super.call(this,network)||this);errors.checkNew(_this,JsonRpcProvider);url||(url="http://localhost:8545");_this.connection="string"===typeof url?{url:url}:url;return _this}__extends(JsonRpcProvider,_super);JsonRpcProvider.prototype.getSigner=function(addressOrIndex){return new JsonRpcSigner(_constructorGuard,this,addressOrIndex)};JsonRpcProvider.prototype.listAccounts=function(){return this.send("eth_accounts",[]).then(function(accounts){return accounts.map(function(a){return address_1.getAddress(a)})})};
JsonRpcProvider.prototype.send=function(method,params){var _this=this,request={method:method,params:params,id:_nextId++,jsonrpc:"2.0"};return web_1.fetchJson(this.connection,JSON.stringify(request),getResult).then(function(result){_this.emit("debug",{action:"send",request:request,response:result,provider:_this});return result})};JsonRpcProvider.prototype.perform=function(method,params){switch(method){case "getBlockNumber":return this.send("eth_blockNumber",[]);case "getGasPrice":return this.send("eth_gasPrice",
[]);case "getBalance":return this.send("eth_getBalance",[getLowerCase(params.address),params.blockTag]);case "getTransactionCount":return this.send("eth_getTransactionCount",[getLowerCase(params.address),params.blockTag]);case "getCode":return this.send("eth_getCode",[getLowerCase(params.address),params.blockTag]);case "getStorageAt":return this.send("eth_getStorageAt",[getLowerCase(params.address),params.position,params.blockTag]);case "sendTransaction":return this.send("eth_sendRawTransaction",
[params.signedTransaction]).catch(function(error){error.responseText&&(0<error.responseText.indexOf("insufficient funds")&&errors.throwError("insufficient funds",errors.INSUFFICIENT_FUNDS,{}),0<error.responseText.indexOf("nonce too low")&&errors.throwError("nonce has already been used",errors.NONCE_EXPIRED,{}),0<error.responseText.indexOf("replacement transaction underpriced")&&errors.throwError("replacement fee too low",errors.REPLACEMENT_UNDERPRICED,{}));throw error;});case "getBlock":return params.blockTag?
this.send("eth_getBlockByNumber",[params.blockTag,!!params.includeTransactions]):params.blockHash?this.send("eth_getBlockByHash",[params.blockHash,!!params.includeTransactions]):Promise.reject(Error("invalid block tag or block hash"));case "getTransaction":return this.send("eth_getTransactionByHash",[params.transactionHash]);case "getTransactionReceipt":return this.send("eth_getTransactionReceipt",[params.transactionHash]);case "call":return this.send("eth_call",[JsonRpcProvider.hexlifyTransaction(params.transaction,
{from:!0}),params.blockTag]);case "estimateGas":return this.send("eth_estimateGas",[JsonRpcProvider.hexlifyTransaction(params.transaction,{from:!0})]);case "getLogs":return params.filter&&null!=params.filter.address&&(params.filter.address=getLowerCase(params.filter.address)),this.send("eth_getLogs",[params.filter])}errors.throwError(method+" not implemented",errors.NOT_IMPLEMENTED,{operation:method});return null};JsonRpcProvider.prototype._startPending=function(){if(null==this._pendingFilter){var self=
this,pendingFilter=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=pendingFilter;pendingFilter.then(function(filterId){function poll(){self.send("eth_getFilterChanges",[filterId]).then(function(hashes){if(self._pendingFilter!=pendingFilter)return null;var seq=Promise.resolve();hashes.forEach(function(hash){self._emitted["t:"+hash.toLowerCase()]="pending";seq=seq.then(function(){return self.getTransaction(hash).then(function(tx){self.emit("pending",tx);return null})})});return seq.then(function(){return timer(1E3)})}).then(function(){if(self._pendingFilter!=
pendingFilter)self.send("eth_uninstallFilter",[filterId]);else return setTimeout(function(){poll()},0),null}).catch(function(error){})}poll();return filterId}).catch(function(error){})}};JsonRpcProvider.prototype._stopPending=function(){this._pendingFilter=null};JsonRpcProvider.hexlifyTransaction=function(transaction,allowExtra){var allowed=properties_1.shallowCopy(allowedTransactionKeys);if(allowExtra)for(var key$jscomp$0 in allowExtra)allowExtra[key$jscomp$0]&&(allowed[key$jscomp$0]=!0);properties_1.checkProperties(transaction,
allowed);var result={};["gasLimit","gasPrice","nonce","value"].forEach(function(key){if(null!=transaction[key]){var value=bytes_1.hexStripZeros(bytes_1.hexlify(transaction[key]));"gasLimit"===key&&(key="gas");result[key]=value}});["from","to","data"].forEach(function(key){null!=transaction[key]&&(result[key]=bytes_1.hexlify(transaction[key]))});return result};return JsonRpcProvider}(base_provider_1.BaseProvider);exports.JsonRpcProvider=JsonRpcProvider},{"../abstract-signer":2,"../errors":5,"../utils/address":60,
"../utils/bytes":64,"../utils/networks":72,"../utils/properties":74,"../utils/utf8":85,"../utils/web":86,"./base-provider":51}],58:[function(require,module,exports){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=
b.prototype,new __)}}();module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var json_rpc_provider_1=require("./json-rpc-provider"),properties_1=require("../utils/properties"),errors=module(require("../errors")),_nextId=42;require=function(_super){function Web3Provider(web3Provider,network){network=
_super.call(this,web3Provider.host||web3Provider.path||"",network)||this;errors.checkNew(network,Web3Provider);web3Provider&&(web3Provider.sendAsync?network._sendAsync=web3Provider.sendAsync.bind(web3Provider):web3Provider.send&&(network._sendAsync=web3Provider.send.bind(web3Provider)));web3Provider&&network._sendAsync||errors.throwError("invalid web3Provider",errors.INVALID_ARGUMENT,{arg:"web3Provider",value:web3Provider});properties_1.defineReadOnly(network,"_web3Provider",web3Provider);properties_1.defineReadOnly(network,
"provider",web3Provider);return network}__extends(Web3Provider,_super);Web3Provider.prototype.send=function(method,params){var _this=this;"eth_sign"==method&&this._web3Provider.isMetaMask&&(method="personal_sign",params=[params[1],params[0]]);return new Promise(function(resolve,reject){var request={method:method,params:params,id:_nextId++,jsonrpc:"2.0"};_this._sendAsync(request,function(error,result){error?reject(error):result.error?(error=Error(result.error.message),error.code=result.error.code,
error.data=result.error.data,reject(error)):resolve(result.result)})})};return Web3Provider}(json_rpc_provider_1.JsonRpcProvider);exports.Web3Provider=require},{"../errors":5,"../utils/properties":74,"./json-rpc-provider":57}],59:[function(require,module,exports){function verifyType(type){type.match(/^uint($|[^1-9])/)?type="uint256"+type.substring(4):type.match(/^int($|[^1-9])/)&&(type="int256"+type.substring(3));return type}function parseParam(param,allowIndexed){function throwError(i){throw Error('unexpected character "'+
originalParam[i]+'" at position '+i+' in "'+originalParam+'"');}var originalParam=param;param=param.replace(/\s/g," ");for(var parent={type:"",name:"",state:{allowType:!0}},node=parent,i$jscomp$0=0;i$jscomp$0<param.length;i$jscomp$0++){var c=param[i$jscomp$0];switch(c){case "(":node.state.allowParams||throwError(i$jscomp$0);node.state.allowType=!1;node.type=verifyType(node.type);node.components=[{type:"",name:"",parent:node,state:{allowType:!0}}];node=node.components[0];break;case ")":delete node.state;
allowIndexed&&"indexed"===node.name&&(node.indexed=!0,node.name="");node.type=verifyType(node.type);c=node;(node=node.parent)||throwError(i$jscomp$0);delete c.parent;node.state.allowParams=!1;node.state.allowName=!0;node.state.allowArray=!0;break;case ",":delete node.state;allowIndexed&&"indexed"===node.name&&(node.indexed=!0,node.name="");node.type=verifyType(node.type);c={type:"",name:"",parent:node.parent,state:{allowType:!0}};node.parent.components.push(c);delete node.parent;node=c;break;case " ":node.state.allowType&&
""!==node.type&&(node.type=verifyType(node.type),delete node.state.allowType,node.state.allowName=!0,node.state.allowParams=!0);node.state.allowName&&""!==node.name&&(allowIndexed&&"indexed"===node.name?(node.indexed=!0,node.name=""):node.state.allowName=!1);break;case "[":node.state.allowArray||throwError(i$jscomp$0);node.type+=c;node.state.allowArray=!1;node.state.allowName=!1;node.state.readArray=!0;break;case "]":node.state.readArray||throwError(i$jscomp$0);node.type+=c;node.state.readArray=!1;
node.state.allowArray=!0;node.state.allowName=!0;break;default:node.state.allowType?(node.type+=c,node.state.allowParams=!0,node.state.allowArray=!0):node.state.allowName?(node.name+=c,delete node.state.allowArray):node.state.readArray?node.type+=c:throwError(i$jscomp$0)}}if(node.parent)throw Error("unexpected eof");delete parent.state;allowIndexed&&"indexed"===node.name&&(node.indexed=!0,node.name="");parent.type=verifyType(parent.type);return parent}function parseSignatureEvent(fragment){var abi=
{anonymous:!1,inputs:[],name:"",type:"event"},match=fragment.match(regexParen);if(!match)throw Error("invalid event: "+fragment);abi.name=match[1].trim();splitNesting(match[2]).forEach(function(param){param=parseParam(param,!0);param.indexed=!!param.indexed;abi.inputs.push(param)});match[3].split(" ").forEach(function(modifier){switch(modifier){case "anonymous":abi.anonymous=!0;break;case "":break;default:errors.info("unknown modifier: "+modifier)}});if(abi.name&&!abi.name.match(regexIdentifier))throw Error('invalid identifier: "'+
abi.name+'"');return abi}function parseSignatureFunction(fragment){var abi={constant:!1,gas:null,inputs:[],name:"",outputs:[],payable:!1,stateMutability:null,type:"function"},comps=fragment.split("@");if(1!==comps.length){if(2<comps.length)throw Error("invalid signature");if(!comps[1].match(/^[0-9]+$/))throw Error("invalid signature gas");abi.gas=bignumber_1.bigNumberify(comps[1]);fragment=comps[0]}comps=fragment.split(" returns ");fragment=comps[0].match(regexParen);if(!fragment)throw Error("invalid signature");
abi.name=fragment[1].trim();if(!abi.name.match(regexIdentifier))throw Error('invalid identifier: "'+fragment[1]+'"');splitNesting(fragment[2]).forEach(function(param){abi.inputs.push(parseParam(param))});fragment[3].split(" ").forEach(function(modifier){switch(modifier){case "constant":abi.constant=!0;break;case "payable":abi.payable=!0;abi.stateMutability="payable";break;case "pure":abi.constant=!0;abi.stateMutability="pure";break;case "view":abi.constant=!0;abi.stateMutability="view";break;case "external":case "public":case "":break;
default:errors.info("unknown modifier: "+modifier)}});if(1<comps.length){comps=comps[1].match(regexParen);if(""!=comps[1].trim()||""!=comps[3].trim())throw Error("unexpected tokens");splitNesting(comps[2]).forEach(function(param){abi.outputs.push(parseParam(param))})}if("constructor"===abi.name){abi.type="constructor";if(abi.outputs.length)throw Error("constructor may not have outputs");delete abi.name;delete abi.outputs}return abi}function formatParamType(paramType){return getParamCoder(exports.defaultCoerceFunc,
paramType).type}function _encodeDynamicBytes(value){var padding=new Uint8Array(32*Math.ceil(value.length/32)-value.length);return bytes_1.concat([uint256Coder.encode(value.length),value,padding])}function _decodeDynamicBytes(data,offset,localName){data.length<offset+32&&errors.throwError("insufficient data for dynamicBytes length",errors.INVALID_ARGUMENT,{arg:localName,coderType:"dynamicBytes",value:bytes_1.hexlify(data.slice(offset,offset+32))});var length=uint256Coder.decode(data,offset).value;
try{length=length.toNumber()}catch(error){errors.throwError("dynamic bytes count too large",errors.INVALID_ARGUMENT,{arg:localName,coderType:"dynamicBytes",value:length.toString()})}data.length<offset+32+length&&errors.throwError("insufficient data for dynamicBytes type",errors.INVALID_ARGUMENT,{arg:localName,coderType:"dynamicBytes",value:bytes_1.hexlify(data.slice(offset,offset+32+length))});return{consumed:32+32*Math.ceil(length/32),value:data.slice(offset+32,offset+32+length)}}function pack(coders,
values){if(!Array.isArray(values))if(values&&"object"===typeof values){var arrayValues=[];coders.forEach(function(coder){arrayValues.push(values[coder.localName])});values=arrayValues}else errors.throwError("invalid tuple value",errors.INVALID_ARGUMENT,{coderType:"tuple",value:values});coders.length!==values.length&&errors.throwError("types/value length mismatch",errors.INVALID_ARGUMENT,{coderType:"tuple",value:values});var parts=[];coders.forEach(function(coder,index){parts.push({dynamic:coder.dynamic,
value:coder.encode(values[index])})});var staticSize=0,dynamicSize=0;parts.forEach(function(part){part.dynamic?(staticSize+=32,dynamicSize+=32*Math.ceil(part.value.length/32)):staticSize+=32*Math.ceil(part.value.length/32)});var offset=0,dynamicOffset=staticSize,data=new Uint8Array(staticSize+dynamicSize);parts.forEach(function(part){part.dynamic?(data.set(uint256Coder.encode(dynamicOffset),offset),offset+=32,data.set(part.value,dynamicOffset),dynamicOffset+=32*Math.ceil(part.value.length/32)):(data.set(part.value,
offset),offset+=32*Math.ceil(part.value.length/32))});return data}function unpack(coders,data,offset){var baseOffset=offset,consumed=0,value=[];coders.forEach(function(coder){if(coder.dynamic){var dynamicOffset=uint256Coder.decode(data,offset);coder=coder.decode(data,baseOffset+dynamicOffset.value.toNumber());coder.consumed=dynamicOffset.consumed}else coder=coder.decode(data,offset);void 0!=coder.value&&value.push(coder.value);offset+=coder.consumed;consumed+=coder.consumed});coders.forEach(function(coder,
index){if(coder=coder.localName)"length"===coder&&(coder="_length"),null==value[coder]&&(value[coder]=value[index])});return{value:value,consumed:consumed}}function splitNesting(value){value=value.trim();for(var result=[],accum="",depth=0,offset=0;offset<value.length;offset++){var c=value[offset];if(","===c&&0===depth)result.push(accum),accum="";else if(accum+=c,"("===c)depth++;else if(")"===c&&(depth--,-1===depth))throw Error("unbalanced parenthsis");}accum&&result.push(accum);return result}function getTupleParamCoder(coerceFunc,
components,localName){components||(components=[]);var coders=[];components.forEach(function(component){coders.push(getParamCoder(coerceFunc,component))});return new CoderTuple(coerceFunc,coders,localName)}function getParamCoder(coerceFunc,param){var coder=paramTypeSimple[param.type];if(coder)return new coder(coerceFunc,param.name);if(coder=param.type.match(paramTypeNumber)){var size=parseInt(coder[2]||"256");(0===size||256<size||0!==size%8)&&errors.throwError("invalid "+coder[1]+" bit length",errors.INVALID_ARGUMENT,
{arg:"param",value:param});return new CoderNumber(coerceFunc,size/8,"int"===coder[1],param.name)}if(coder=param.type.match(paramTypeBytes))return size=parseInt(coder[1]),(0===size||32<size)&&errors.throwError("invalid bytes length",errors.INVALID_ARGUMENT,{arg:"param",value:param}),new CoderFixedBytes(coerceFunc,size,param.name);if(coder=param.type.match(paramTypeArray))return size=parseInt(coder[2]||"-1"),param=properties_1.shallowCopy(param),param.type=coder[1],param=properties_1.deepCopy(param),
new CoderArray(coerceFunc,getParamCoder(coerceFunc,param),size,param.name);if("tuple"===param.type.substring(0,5))return getTupleParamCoder(coerceFunc,param.components,param.name);if(""===param.type)return new CoderNull(coerceFunc,param.name);errors.throwError("invalid type",errors.INVALID_ARGUMENT,{arg:"type",value:param.type});return null}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,
b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var constants_1=require("../constants"),
errors=module(require("../errors")),address_1=require("./address"),bignumber_1=require("./bignumber"),bytes_1=require("./bytes"),utf8_1=require("./utf8"),properties_1=require("./properties"),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);exports.defaultCoerceFunc=function(type,value){return(type=type.match(paramTypeNumber))&&48>=parseInt(type[2])?value.toNumber():value};var regexParen=/^([^)(]*)\((.*)\)([^)(]*)$/,
regexIdentifier=/^[A-Za-z_][A-Za-z0-9_]*$/;exports.parseParamType=function(type){return parseParam(type,!0)};exports.formatParamType=formatParamType;exports.formatSignature=function(fragment){return fragment.name+"("+fragment.inputs.map(function(i){return formatParamType(i)}).join(",")+")"};exports.parseSignature=function(fragment){if("string"===typeof fragment){fragment=fragment.replace(/\s/g," ");fragment=fragment.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ");fragment=fragment.trim();
if("event "===fragment.substring(0,6))return parseSignatureEvent(fragment.substring(6).trim());"function "===fragment.substring(0,9)&&(fragment=fragment.substring(9));return parseSignatureFunction(fragment.trim())}throw Error("unknown signature");};require=function(){return function(coerceFunc,name,type,localName,dynamic){this.coerceFunc=coerceFunc;this.name=name;this.type=type;this.localName=localName;this.dynamic=dynamic}}();var CoderAnonymous=function(_super){function CoderAnonymous(coder){var _this=
_super.call(this,coder.coerceFunc,coder.name,coder.type,void 0,coder.dynamic)||this;properties_1.defineReadOnly(_this,"coder",coder);return _this}__extends(CoderAnonymous,_super);CoderAnonymous.prototype.encode=function(value){return this.coder.encode(value)};CoderAnonymous.prototype.decode=function(data,offset){return this.coder.decode(data,offset)};return CoderAnonymous}(require),CoderNull=function(_super){function CoderNull(coerceFunc,localName){return _super.call(this,coerceFunc,"null","",localName,
!1)||this}__extends(CoderNull,_super);CoderNull.prototype.encode=function(value){return bytes_1.arrayify([])};CoderNull.prototype.decode=function(data,offset){if(offset>data.length)throw Error("invalid null");return{consumed:0,value:this.coerceFunc("null",void 0)}};return CoderNull}(require),CoderNumber=function(_super){function CoderNumber(coerceFunc,size,signed,localName){var name=(signed?"int":"uint")+8*size;coerceFunc=_super.call(this,coerceFunc,name,name,localName,!1)||this;coerceFunc.size=size;
coerceFunc.signed=signed;return coerceFunc}__extends(CoderNumber,_super);CoderNumber.prototype.encode=function(value){try{var v=bignumber_1.bigNumberify(value);if(this.signed){var bounds=constants_1.MaxUint256.maskn(8*this.size-1);if(v.gt(bounds))throw Error("out-of-bounds");bounds=bounds.add(constants_1.One).mul(constants_1.NegativeOne);if(v.lt(bounds))throw Error("out-of-bounds");}else if(v.lt(constants_1.Zero)||v.gt(constants_1.MaxUint256.maskn(8*this.size)))throw Error("out-of-bounds");v=v.toTwos(8*
this.size).maskn(8*this.size);this.signed&&(v=v.fromTwos(8*this.size).toTwos(256));return bytes_1.padZeros(bytes_1.arrayify(v),32)}catch(error){errors.throwError("invalid number value",errors.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:value})}return null};CoderNumber.prototype.decode=function(data,offset){data.length<offset+32&&errors.throwError("insufficient data for "+this.name+" type",errors.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:bytes_1.hexlify(data.slice(offset,
offset+32))});data=bignumber_1.bigNumberify(data.slice(offset+(32-this.size),offset+32));data=this.signed?data.fromTwos(8*this.size):data.maskn(8*this.size);return{consumed:32,value:this.coerceFunc(this.name,data)}};return CoderNumber}(require),uint256Coder=new CoderNumber(function(type,value){return value},32,!1,"none");module=function(_super){function CoderBoolean(coerceFunc,localName){return _super.call(this,coerceFunc,"bool","bool",localName,!1)||this}__extends(CoderBoolean,_super);CoderBoolean.prototype.encode=
function(value){return uint256Coder.encode(value?1:0)};CoderBoolean.prototype.decode=function(data,offset){try{var result=uint256Coder.decode(data,offset)}catch(error){throw"insufficient data for uint256 type"===error.reason&&errors.throwError("insufficient data for boolean type",errors.INVALID_ARGUMENT,{arg:this.localName,coderType:"boolean",value:error.value}),error;}return{consumed:result.consumed,value:this.coerceFunc("bool",!result.value.isZero())}};return CoderBoolean}(require);var CoderFixedBytes=
function(_super){function CoderFixedBytes(coerceFunc,length,localName){var name="bytes"+length;coerceFunc=_super.call(this,coerceFunc,name,name,localName,!1)||this;coerceFunc.length=length;return coerceFunc}__extends(CoderFixedBytes,_super);CoderFixedBytes.prototype.encode=function(value){var result=new Uint8Array(32);try{var data=bytes_1.arrayify(value);if(data.length!==this.length)throw Error("incorrect data length");result.set(data)}catch(error){errors.throwError("invalid "+this.name+" value",
errors.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:error.value||value})}return result};CoderFixedBytes.prototype.decode=function(data,offset){data.length<offset+32&&errors.throwError("insufficient data for "+this.name+" type",errors.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:bytes_1.hexlify(data.slice(offset,offset+32))});return{consumed:32,value:this.coerceFunc(this.name,bytes_1.hexlify(data.slice(offset,offset+this.length)))}};return CoderFixedBytes}(require),
CoderAddress=function(_super){function CoderAddress(coerceFunc,localName){return _super.call(this,coerceFunc,"address","address",localName,!1)||this}__extends(CoderAddress,_super);CoderAddress.prototype.encode=function(value){var result=new Uint8Array(32);try{result.set(bytes_1.arrayify(address_1.getAddress(value)),12)}catch(error){errors.throwError("invalid address",errors.INVALID_ARGUMENT,{arg:this.localName,coderType:"address",value:value})}return result};CoderAddress.prototype.decode=function(data,
offset){data.length<offset+32&&errors.throwError("insufficuent data for address type",errors.INVALID_ARGUMENT,{arg:this.localName,coderType:"address",value:bytes_1.hexlify(data.slice(offset,offset+32))});return{consumed:32,value:this.coerceFunc("address",address_1.getAddress(bytes_1.hexlify(data.slice(offset+12,offset+32))))}};return CoderAddress}(require),CoderDynamicBytes=function(_super){function CoderDynamicBytes(coerceFunc,localName){return _super.call(this,coerceFunc,"bytes","bytes",localName,
!0)||this}__extends(CoderDynamicBytes,_super);CoderDynamicBytes.prototype.encode=function(value){try{return _encodeDynamicBytes(bytes_1.arrayify(value))}catch(error){errors.throwError("invalid bytes value",errors.INVALID_ARGUMENT,{arg:this.localName,coderType:"bytes",value:error.value})}return null};CoderDynamicBytes.prototype.decode=function(data,offset){data=_decodeDynamicBytes(data,offset,this.localName);data.value=this.coerceFunc("bytes",bytes_1.hexlify(data.value));return data};return CoderDynamicBytes}(require),
CoderString=function(_super){function CoderString(coerceFunc,localName){return _super.call(this,coerceFunc,"string","string",localName,!0)||this}__extends(CoderString,_super);CoderString.prototype.encode=function(value){"string"!==typeof value&&errors.throwError("invalid string value",errors.INVALID_ARGUMENT,{arg:this.localName,coderType:"string",value:value});return _encodeDynamicBytes(utf8_1.toUtf8Bytes(value))};CoderString.prototype.decode=function(data,offset){data=_decodeDynamicBytes(data,offset,
this.localName);data.value=this.coerceFunc("string",utf8_1.toUtf8String(data.value));return data};return CoderString}(require),CoderArray=function(_super){function CoderArray(coerceFunc,coder,length,localName){coerceFunc=_super.call(this,coerceFunc,"array",coder.type+"["+(0<=length?length:"")+"]",localName,-1===length||coder.dynamic)||this;coerceFunc.coder=coder;coerceFunc.length=length;return coerceFunc}__extends(CoderArray,_super);CoderArray.prototype.encode=function(value){Array.isArray(value)||
errors.throwError("expected array value",errors.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:value});var count=this.length,result=new Uint8Array(0);-1===count&&(count=value.length,result=uint256Coder.encode(count));errors.checkArgumentCount(count,value.length," in coder array"+(this.localName?" "+this.localName:""));count=[];for(var i=0;i<value.length;i++)count.push(this.coder);return bytes_1.concat([result,pack(count,value)])};CoderArray.prototype.decode=function(data,offset){var consumed=
0,count=this.length;if(-1===count){try{var decodedLength=uint256Coder.decode(data,offset)}catch(error){errors.throwError("insufficient data for dynamic array length",errors.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:error.value})}try{count=decodedLength.value.toNumber()}catch(error$4){errors.throwError("array count too large",errors.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:decodedLength.value.toString()})}consumed+=decodedLength.consumed;offset+=decodedLength.consumed}decodedLength=
[];for(var i=0;i<count;i++)decodedLength.push(new CoderAnonymous(this.coder));data=unpack(decodedLength,data,offset);data.consumed+=consumed;data.value=this.coerceFunc(this.type,data.value);return data};return CoderArray}(require),CoderTuple=function(_super){function CoderTuple(coerceFunc,coders,localName){var _this=this,dynamic=!1,types=[];coders.forEach(function(coder){coder.dynamic&&(dynamic=!0);types.push(coder.type)});_this="tuple("+types.join(",")+")";_this=_super.call(this,coerceFunc,"tuple",
_this,localName,dynamic)||this;_this.coders=coders;return _this}__extends(CoderTuple,_super);CoderTuple.prototype.encode=function(value){return pack(this.coders,value)};CoderTuple.prototype.decode=function(data,offset){data=unpack(this.coders,data,offset);data.value=this.coerceFunc(this.type,data.value);return data};return CoderTuple}(require),paramTypeSimple={address:CoderAddress,bool:module,string:CoderString,bytes:CoderDynamicBytes};require=function(){function AbiCoder(coerceFunc){errors.checkNew(this,
AbiCoder);coerceFunc||(coerceFunc=exports.defaultCoerceFunc);properties_1.defineReadOnly(this,"coerceFunc",coerceFunc)}AbiCoder.prototype.encode=function(types,values){types.length!==values.length&&errors.throwError("types/values length mismatch",errors.INVALID_ARGUMENT,{count:{types:types.length,values:values.length},value:{types:types,values:values}});var coders=[];types.forEach(function(type){type="string"===typeof type?parseParam(type):type;coders.push(getParamCoder(this.coerceFunc,type))},this);
return bytes_1.hexlify((new CoderTuple(this.coerceFunc,coders,"_")).encode(values))};AbiCoder.prototype.decode=function(types,data){var coders=[];types.forEach(function(type){type="string"===typeof type?parseParam(type):properties_1.deepCopy(type);coders.push(getParamCoder(this.coerceFunc,type))},this);return(new CoderTuple(this.coerceFunc,coders,"_")).decode(bytes_1.arrayify(data),0).value};return AbiCoder}();exports.AbiCoder=require;exports.defaultAbiCoder=new require},{"../constants":3,"../errors":5,
"./address":60,"./bignumber":63,"./bytes":64,"./properties":74,"./utf8":85}],60:[function(require,module,exports){function getChecksumAddress(address){"string"===typeof address&&address.match(/^0x[0-9A-Fa-f]{40}$/)||errors.throwError("invalid address",errors.INVALID_ARGUMENT,{arg:"address",value:address});address=address.toLowerCase();address=address.substring(2).split("");for(var hashed=new Uint8Array(40),i_1=0;40>i_1;i_1++)hashed[i_1]=address[i_1].charCodeAt(0);hashed=bytes_1.arrayify(keccak256_1.keccak256(hashed));
for(i_1=0;40>i_1;i_1+=2)8<=hashed[i_1>>1]>>4&&(address[i_1]=address[i_1].toUpperCase()),8<=(hashed[i_1>>1]&15)&&(address[i_1+1]=address[i_1+1].toUpperCase());return"0x"+address.join("")}function ibanChecksum(address){address=address.toUpperCase();address=address.substring(4)+address.substring(0,2)+"00";var expanded="";for(address.split("").forEach(function(c){expanded+=ibanLookup[c]});expanded.length>=safeDigits;)address=expanded.substring(0,safeDigits),expanded=parseInt(address,10)%97+expanded.substring(address.length);
for(address=String(98-parseInt(expanded,10)%97);2>address.length;)address="0"+address;return address}function getAddress(address){var result=null;"string"!==typeof address&&errors.throwError("invalid address",errors.INVALID_ARGUMENT,{arg:"address",value:address});if(address.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==address.substring(0,2)&&(address="0x"+address),result=getChecksumAddress(address),address.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&result!==address&&errors.throwError("bad address checksum",
errors.INVALID_ARGUMENT,{arg:"address",value:address});else if(address.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){address.substring(2,4)!==ibanChecksum(address)&&errors.throwError("bad icap checksum",errors.INVALID_ARGUMENT,{arg:"address",value:address});for(result=(new bn_js_1.default.BN(address.substring(4),36)).toString(16);40>result.length;)result="0"+result;result=getChecksumAddress("0x"+result)}else errors.throwError("invalid address",errors.INVALID_ARGUMENT,{arg:"address",value:address});return result}
module=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});var bn_js_1=module(require("bn.js")),bytes_1=require("./bytes"),keccak256_1=require("./keccak256"),rlp_1=require("./rlp"),errors=require("../errors"),ibanLookup={};for(require=0;10>require;require++)ibanLookup[String(require)]=String(require);for(require=0;26>require;require++)ibanLookup[String.fromCharCode(65+require)]=String(10+require);var safeDigits=
Math.floor(Math.log10?Math.log10(9007199254740991):Math.log(9007199254740991)/Math.LN10);exports.getAddress=getAddress;exports.getIcapAddress=function(address){for(address=(new bn_js_1.default.BN(getAddress(address).substring(2),16)).toString(36).toUpperCase();30>address.length;)address="0"+address;return"XE"+ibanChecksum("XE00"+address)+address};exports.getContractAddress=function(transaction){if(!transaction.from)throw Error("missing from address");var nonce=transaction.nonce;return getAddress("0x"+
keccak256_1.keccak256(rlp_1.encode([getAddress(transaction.from),bytes_1.stripZeros(bytes_1.hexlify(nonce))])).substring(26))};exports.getCreate2Address=function(options){var initCodeHash=options.initCodeHash;options.initCode&&(initCodeHash?keccak256_1.keccak256(options.initCode)!==initCodeHash&&errors.throwError("initCode/initCodeHash mismatch",errors.INVALID_ARGUMENT,{arg:"options",value:options}):initCodeHash=keccak256_1.keccak256(options.initCode));initCodeHash||errors.throwError("missing initCode or initCodeHash",
errors.INVALID_ARGUMENT,{arg:"options",value:options});var from=getAddress(options.from),salt=bytes_1.arrayify(options.salt);32!==salt.length&&errors.throwError("invalid salt",errors.INVALID_ARGUMENT,{arg:"options",value:options});return getAddress("0x"+keccak256_1.keccak256(bytes_1.concat(["0xff",from,salt,initCodeHash])).substring(26))}},{"../errors":5,"./bytes":64,"./keccak256":71,"./rlp":76,"bn.js":9}],61:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});
var bytes_1=require("../utils/bytes");module.exports={decode:function(textData){textData=atob(textData);for(var data=[],i=0;i<textData.length;i++)data.push(textData.charCodeAt(i));return bytes_1.arrayify(data)},encode:function(data){data=bytes_1.arrayify(data);for(var textData="",i=0;i<data.length;i++)textData+=String.fromCharCode(data[i]);return btoa(textData)}}},{"../utils/bytes":64}],62:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var bytes_1=require("./bytes"),
properties_1=require("./properties");require=function(){function BaseX(alphabet){properties_1.defineReadOnly(this,"alphabet",alphabet);properties_1.defineReadOnly(this,"base",alphabet.length);properties_1.defineReadOnly(this,"_alphabetMap",{});properties_1.defineReadOnly(this,"_leader",alphabet.charAt(0));for(var i=0;i<alphabet.length;i++)this._alphabetMap[alphabet.charAt(i)]=i}BaseX.prototype.encode=function(value){var source=bytes_1.arrayify(value);if(0===source.length)return"";value=[0];for(var i=
0;i<source.length;++i){for(var carry=source[i],j=0;j<value.length;++j)carry+=value[j]<<8,value[j]=carry%this.base,carry=carry/this.base|0;for(;0<carry;)value.push(carry%this.base),carry=carry/this.base|0}i="";for(carry=0;0===source[carry]&&carry<source.length-1;++carry)i+=this._leader;for(source=value.length-1;0<=source;--source)i+=this.alphabet[value[source]];return i};BaseX.prototype.decode=function(value){if("string"!==typeof value)throw new TypeError("Expected String");var bytes=[];if(0===value.length)return new Uint8Array(bytes);
bytes.push(0);for(var i=0;i<value.length;i++){var byte=this._alphabetMap[value[i]];if(void 0===byte)throw Error("Non-base"+this.base+" character");for(var j=0;j<bytes.length;++j)byte+=bytes[j]*this.base,bytes[j]=byte&255,byte>>=8;for(;0<byte;)bytes.push(byte&255),byte>>=8}for(i=0;value[i]===this._leader&&i<value.length-1;++i)bytes.push(0);return bytes_1.arrayify(new Uint8Array(bytes.reverse()))};return BaseX}();exports.BaseX=require;module=new require("abcdefghijklmnopqrstuvwxyz234567");exports.Base32=
module;require=new require("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");exports.Base58=require},{"./bytes":64,"./properties":74}],63:[function(require,module,exports){function toHex(bn){bn=bn.toString(16);return"-"===bn[0]?0===bn.length%2?"-0x0"+bn.substring(1):"-0x"+bn.substring(1):1===bn.length%2?"0x0"+bn:"0x"+bn}function toBN(value){return _bnify(bigNumberify(value))}function toBigNumber(bn){return new BigNumber(toHex(bn))}function _bnify(value){value=value._hex;return"-"===value[0]?
(new bn_js_1.default.BN(value.substring(3),16)).mul(BN_1):new bn_js_1.default.BN(value.substring(2),16)}function bigNumberify(value){return BigNumber.isBigNumber(value)?value:new BigNumber(value)}module=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;
return result};Object.defineProperty(exports,"__esModule",{value:!0});var bn_js_1=module(require("bn.js")),bytes_1=require("./bytes"),properties_1=require("./properties"),errors=__importStar(require("../errors")),BN_1=new bn_js_1.default.BN(-1),BigNumber=function(){function BigNumber(value){errors.checkNew(this,BigNumber);properties_1.setType(this,"BigNumber");if("string"===typeof value)bytes_1.isHexString(value)?("0x"==value&&(value="0x0"),properties_1.defineReadOnly(this,"_hex",value)):"-"===value[0]&&
bytes_1.isHexString(value.substring(1))?properties_1.defineReadOnly(this,"_hex",value):value.match(/^-?[0-9]*$/)?(""==value&&(value="0"),properties_1.defineReadOnly(this,"_hex",toHex(new bn_js_1.default.BN(value)))):errors.throwError("invalid BigNumber string value",errors.INVALID_ARGUMENT,{arg:"value",value:value});else if("number"===typeof value){parseInt(String(value))!==value&&errors.throwError("underflow",errors.NUMERIC_FAULT,{operation:"setValue",fault:"underflow",value:value,outputValue:parseInt(String(value))});
try{properties_1.defineReadOnly(this,"_hex",toHex(new bn_js_1.default.BN(value)))}catch(error){errors.throwError("overflow",errors.NUMERIC_FAULT,{operation:"setValue",fault:"overflow",details:error.message})}}else value instanceof BigNumber?properties_1.defineReadOnly(this,"_hex",value._hex):value.toHexString?properties_1.defineReadOnly(this,"_hex",toHex(toBN(value.toHexString()))):value._hex&&bytes_1.isHexString(value._hex)?properties_1.defineReadOnly(this,"_hex",value._hex):bytes_1.isArrayish(value)?
properties_1.defineReadOnly(this,"_hex",toHex(new bn_js_1.default.BN(bytes_1.hexlify(value).substring(2),16))):errors.throwError("invalid BigNumber value",errors.INVALID_ARGUMENT,{arg:"value",value:value})}BigNumber.prototype.fromTwos=function(value){return toBigNumber(_bnify(this).fromTwos(value))};BigNumber.prototype.toTwos=function(value){return toBigNumber(_bnify(this).toTwos(value))};BigNumber.prototype.abs=function(){return"-"===this._hex[0]?toBigNumber(_bnify(this).mul(BN_1)):this};BigNumber.prototype.add=
function(other){return toBigNumber(_bnify(this).add(toBN(other)))};BigNumber.prototype.sub=function(other){return toBigNumber(_bnify(this).sub(toBN(other)))};BigNumber.prototype.div=function(other){bigNumberify(other).isZero()&&errors.throwError("division by zero",errors.NUMERIC_FAULT,{operation:"divide",fault:"division by zero"});return toBigNumber(_bnify(this).div(toBN(other)))};BigNumber.prototype.mul=function(other){return toBigNumber(_bnify(this).mul(toBN(other)))};BigNumber.prototype.mod=function(other){return toBigNumber(_bnify(this).mod(toBN(other)))};
BigNumber.prototype.pow=function(other){return toBigNumber(_bnify(this).pow(toBN(other)))};BigNumber.prototype.maskn=function(value){return toBigNumber(_bnify(this).maskn(value))};BigNumber.prototype.eq=function(other){return _bnify(this).eq(toBN(other))};BigNumber.prototype.lt=function(other){return _bnify(this).lt(toBN(other))};BigNumber.prototype.lte=function(other){return _bnify(this).lte(toBN(other))};BigNumber.prototype.gt=function(other){return _bnify(this).gt(toBN(other))};BigNumber.prototype.gte=
function(other){return _bnify(this).gte(toBN(other))};BigNumber.prototype.isZero=function(){return _bnify(this).isZero()};BigNumber.prototype.toNumber=function(){try{return _bnify(this).toNumber()}catch(error){errors.throwError("overflow",errors.NUMERIC_FAULT,{operation:"setValue",fault:"overflow",details:error.message})}return null};BigNumber.prototype.toString=function(){return _bnify(this).toString(10)};BigNumber.prototype.toHexString=function(){return this._hex};BigNumber.isBigNumber=function(value){return properties_1.isType(value,
"BigNumber")};return BigNumber}();exports.BigNumber=BigNumber;exports.bigNumberify=bigNumberify},{"../errors":5,"./bytes":64,"./properties":74,"bn.js":9}],64:[function(require,module,exports){function addSlice(array){if(array.slice)return array;array.slice=function(){var args=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(array,args)))};return array}function isArrayish(value){if(!value||parseInt(String(value.length))!=value.length||"string"===typeof value)return!1;
for(var i=0;i<value.length;i++){var v=value[i];if(0>v||256<=v||parseInt(String(v))!=v)return!1}return!0}function arrayify(value){null==value&&errors.throwError("cannot convert null value to array",errors.INVALID_ARGUMENT,{arg:"value",value:value});value.toHexString&&(value=value.toHexString());if("string"===typeof value){var match=value.match(/^(0x)?[0-9a-fA-F]*$/);match||errors.throwError("invalid hexidecimal string",errors.INVALID_ARGUMENT,{arg:"value",value:value});"0x"!==match[1]&&errors.throwError("hex string must have 0x prefix",
errors.INVALID_ARGUMENT,{arg:"value",value:value});value=value.substring(2);value.length%2&&(value="0"+value);match=[];for(var i=0;i<value.length;i+=2)match.push(parseInt(value.substr(i,2),16));return addSlice(new Uint8Array(match))}if(isArrayish(value))return addSlice(new Uint8Array(value));errors.throwError("invalid arrayify value",null,{arg:"value",value:value,type:typeof value});return null}function concat(objects){for(var arrays=[],length=0,i=0;i<objects.length;i++){var object=arrayify(objects[i]);
arrays.push(object);length+=object.length}objects=new Uint8Array(length);for(i=length=0;i<arrays.length;i++)objects.set(arrays[i],length),length+=arrays[i].length;return addSlice(objects)}function isHexString(value,length){return"string"!==typeof value||!value.match(/^0x[0-9A-Fa-f]*$/)||length&&value.length!==2+2*length?!1:!0}function hexlify(value){if(value.toHexString)return value.toHexString();if("number"===typeof value){0>value&&errors.throwError("cannot hexlify negative value",errors.INVALID_ARGUMENT,
{arg:"value",value:value});9007199254740991<=value&&errors.throwError("out-of-range",errors.NUMERIC_FAULT,{operartion:"hexlify",fault:"out-of-safe-range"});for(var hex="";value;)hex="0123456789abcdef"[value&15]+hex,value=Math.floor(value/16);return hex.length?(hex.length%2&&(hex="0"+hex),"0x"+hex):"0x00"}if("string"===typeof value)return(hex=value.match(/^(0x)?[0-9a-fA-F]*$/))||errors.throwError("invalid hexidecimal string",errors.INVALID_ARGUMENT,{arg:"value",value:value}),"0x"!==hex[1]&&errors.throwError("hex string must have 0x prefix",
errors.INVALID_ARGUMENT,{arg:"value",value:value}),value.length%2&&(value="0x0"+value.substring(2)),value;if(isArrayish(value)){hex=[];for(var i=0;i<value.length;i++){var v=value[i];hex.push("0123456789abcdef"[(v&240)>>4]+"0123456789abcdef"[v&15])}return"0x"+hex.join("")}errors.throwError("invalid hexlify value",null,{arg:"value",value:value});return"never"}function hexZeroPad(value,length){for(isHexString(value)||errors.throwError("invalid hex string",errors.INVALID_ARGUMENT,{arg:"value",value:value});value.length<
2*length+2;)value="0x0"+value.substring(2);return value}function splitSignature(signature){if(signature&&null!=signature.r&&null!=signature.s){null==signature.v&&null==signature.recoveryParam&&errors.throwError("at least on of recoveryParam or v must be specified",errors.INVALID_ARGUMENT,{argument:"signature",value:signature});var r=hexZeroPad(signature.r,32);var s=hexZeroPad(signature.s,32);var v=signature.v;"string"===typeof v&&(v=parseInt(v,16));var recoveryParam=signature.recoveryParam;null==
recoveryParam&&null!=signature.v&&(recoveryParam=1-v%2);v=27+recoveryParam}else{signature=arrayify(signature);if(65!==signature.length)throw Error("invalid signature");r=hexlify(signature.slice(0,32));s=hexlify(signature.slice(32,64));v=signature[64];27!==v&&28!==v&&(v=27+v%2)}return{r:r,s:s,recoveryParam:v-27,v:v}}module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=
mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var errors=module(require("../errors"));exports.isHexable=function(value){return!!value.toHexString};exports.isArrayish=isArrayish;exports.arrayify=arrayify;exports.concat=concat;exports.stripZeros=function(value){value=arrayify(value);if(0===value.length)return value;for(var start=0;0===value[start];)start++;start&&(value=value.slice(start));return value};exports.padZeros=function(value,length){value=arrayify(value);if(length<
value.length)throw Error("cannot pad");var result=new Uint8Array(length);result.set(value,length-value.length);return addSlice(result)};exports.isHexString=isHexString;exports.hexlify=hexlify;exports.hexDataLength=function(data){return isHexString(data)&&0===data.length%2?(data.length-2)/2:null};exports.hexDataSlice=function(data,offset,endOffset){isHexString(data)||errors.throwError("invalid hex data",errors.INVALID_ARGUMENT,{arg:"value",value:data});0!==data.length%2&&errors.throwError("hex data length must be even",
errors.INVALID_ARGUMENT,{arg:"value",value:data});offset=2+2*offset;return null!=endOffset?"0x"+data.substring(offset,2+2*endOffset):"0x"+data.substring(offset)};exports.hexStripZeros=function(value){for(isHexString(value)||errors.throwError("invalid hex string",errors.INVALID_ARGUMENT,{arg:"value",value:value});3<value.length&&"0x0"===value.substring(0,3);)value="0x"+value.substring(3);return value};exports.hexZeroPad=hexZeroPad;exports.splitSignature=splitSignature;exports.joinSignature=function(signature){signature=
splitSignature(signature);return hexlify(concat([signature.r,signature.s,signature.recoveryParam?"0x1c":"0x1b"]))}},{"../errors":5}],65:[function(require,module,exports){module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var errors=module(require("../errors")),bytes_1=require("./bytes"),
utf8_1=require("./utf8"),keccak256_1=require("./keccak256"),Zeros=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Partition=/^((.*)\.)?([^.]+)$/,UseSTD3ASCIIRules=/^[a-z0-9.-]*$/;exports.namehash=function(name){"string"!==typeof name&&errors.throwError("invalid address - "+String(name),errors.INVALID_ARGUMENT,{argument:"name",value:name});name=name.toLowerCase();name.match(UseSTD3ASCIIRules)||errors.throwError("contains invalid UseSTD3ASCIIRules characters",errors.INVALID_ARGUMENT,
{argument:"name",value:name});for(var result=Zeros;name.length;){name=name.match(Partition);var label=utf8_1.toUtf8Bytes(name[3]);result=keccak256_1.keccak256(bytes_1.concat([result,keccak256_1.keccak256(label)]));name=name[2]||""}return bytes_1.hexlify(result)};exports.id=function(text){return keccak256_1.keccak256(utf8_1.toUtf8Bytes(text))};exports.hashMessage=function(message){return keccak256_1.keccak256(bytes_1.concat([utf8_1.toUtf8Bytes("Ethereum Signed Message:\n"),utf8_1.toUtf8Bytes(String(message.length)),
"string"===typeof message?utf8_1.toUtf8Bytes(message):message]))}},{"../errors":5,"./bytes":64,"./keccak256":71,"./utf8":85}],66:[function(require,module,exports){function bytes32(value){return bytes_1.hexZeroPad(bytes_1.hexlify(value),32)}function base58check(data){var checksum=bytes_1.hexDataSlice(sha2_1.sha256(sha2_1.sha256(data)),0,4);return basex_1.Base58.encode(bytes_1.concat([data,checksum]))}function _fromSeed(seed,mnemonic){seed=bytes_1.arrayify(seed);if(16>seed.length||64<seed.length)throw Error("invalid seed");
seed=bytes_1.arrayify(hmac_1.computeHmac(hmac_1.SupportedAlgorithms.sha512,MasterSecret,seed));return new HDNode(_constructorGuard,bytes32(seed.slice(0,32)),null,"0x00000000",bytes32(seed.slice(32)),0,0,mnemonic,"m")}function mnemonicToSeed(mnemonic,password){password||(password="");password=utf8_1.toUtf8Bytes("mnemonic"+password,utf8_1.UnicodeNormalizationForm.NFKD);return bytes_1.hexlify(pbkdf2_1.pbkdf2(utf8_1.toUtf8Bytes(mnemonic,utf8_1.UnicodeNormalizationForm.NFKD),password,2048,64,"sha512"))}
function mnemonicToEntropy(mnemonic,wordlist){wordlist||(wordlist=lang_en_1.langEn);errors.checkNormalize();var words=wordlist.split(mnemonic);if(0!==words.length%3)throw Error("invalid mnemonic");mnemonic=bytes_1.arrayify(new Uint8Array(Math.ceil(11*words.length/8)));for(var offset=0,i=0;i<words.length;i++){var index=wordlist.getWordIndex(words[i].normalize("NFKD"));if(-1===index)throw Error("invalid mnemonic");for(var bit=0;11>bit;bit++)index&1<<10-bit&&(mnemonic[offset>>3]|=1<<7-offset%8),offset++}wordlist=
32*words.length/3;words=words.length/3;words=(1<<words)-1<<8-words;if((bytes_1.arrayify(sha2_1.sha256(mnemonic.slice(0,wordlist/8)))[0]&words)!==(mnemonic[mnemonic.length-1]&words))throw Error("invalid checksum");return bytes_1.hexlify(mnemonic.slice(0,wordlist/8))}function entropyToMnemonic(entropy,wordlist){entropy=bytes_1.arrayify(entropy);if(0!==entropy.length%4||16>entropy.length||32<entropy.length)throw Error("invalid entropy");for(var indices=[0],remainingBits=11,i=0;i<entropy.length;i++)8<
remainingBits?(indices[indices.length-1]<<=8,indices[indices.length-1]|=entropy[i],remainingBits-=8):(indices[indices.length-1]<<=remainingBits,indices[indices.length-1]|=entropy[i]>>8-remainingBits,indices.push(entropy[i]&(1<<8-remainingBits)-1),remainingBits+=3);remainingBits=bytes_1.arrayify(sha2_1.sha256(entropy))[0];entropy=entropy.length/4;indices[indices.length-1]<<=entropy;indices[indices.length-1]|=(remainingBits&(1<<entropy)-1<<8-entropy)>>8-entropy;wordlist||(wordlist=lang_en_1.langEn);
return wordlist.join(indices.map(function(index){return wordlist.getWord(index)}))}module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var errors=module(require("../errors")),lang_en_1=require("../wordlists/lang-en"),basex_1=require("./basex"),bytes_1=require("./bytes"),bignumber_1=
require("./bignumber"),utf8_1=require("./utf8"),pbkdf2_1=require("./pbkdf2"),hmac_1=require("./hmac"),properties_1=require("./properties"),secp256k1_1=require("./secp256k1"),sha2_1=require("./sha2"),N=bignumber_1.bigNumberify("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=utf8_1.toUtf8Bytes("Bitcoin seed"),_constructorGuard={};exports.defaultPath="m/44'/60'/0'/0/0";var HDNode=function(){function HDNode(constructorGuard,privateKey,publicKey,parentFingerprint,chainCode,
index,depth,mnemonic,path){errors.checkNew(this,HDNode);if(constructorGuard!==_constructorGuard)throw Error("HDNode constructor cannot be called directly");privateKey?(constructorGuard=new secp256k1_1.KeyPair(privateKey),properties_1.defineReadOnly(this,"privateKey",constructorGuard.privateKey),properties_1.defineReadOnly(this,"publicKey",constructorGuard.compressedPublicKey)):(properties_1.defineReadOnly(this,"privateKey",null),properties_1.defineReadOnly(this,"publicKey",bytes_1.hexlify(publicKey)));
properties_1.defineReadOnly(this,"parentFingerprint",parentFingerprint);properties_1.defineReadOnly(this,"fingerprint",bytes_1.hexDataSlice(sha2_1.ripemd160(sha2_1.sha256(this.publicKey)),0,4));properties_1.defineReadOnly(this,"address",secp256k1_1.computeAddress(this.publicKey));properties_1.defineReadOnly(this,"chainCode",chainCode);properties_1.defineReadOnly(this,"index",index);properties_1.defineReadOnly(this,"depth",depth);properties_1.defineReadOnly(this,"mnemonic",mnemonic);properties_1.defineReadOnly(this,
"path",path);properties_1.setType(this,"HDNode")}Object.defineProperty(HDNode.prototype,"extendedKey",{get:function(){if(256<=this.depth)throw Error("Depth too large!");return base58check(bytes_1.concat([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",bytes_1.hexlify(this.depth),this.parentFingerprint,bytes_1.hexZeroPad(bytes_1.hexlify(this.index),4),this.chainCode,null!=this.privateKey?bytes_1.concat(["0x00",this.privateKey]):this.publicKey]))},enumerable:!0,configurable:!0});HDNode.prototype.neuter=
function(){return new HDNode(_constructorGuard,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,null,this.path)};HDNode.prototype._derive=function(index){if(4294967295<index)throw Error("invalid index - "+String(index));var path=this.path;path&&(path+="/"+(index&2147483647));var data=new Uint8Array(37);if(index&2147483648){if(!this.privateKey)throw Error("cannot derive child of neutered node");data.set(bytes_1.arrayify(this.privateKey),1);path&&(path+="'")}else data.set(bytes_1.arrayify(this.publicKey));
for(var i=24;0<=i;i-=8)data[33+(i>>3)]=index>>24-i&255;i=hmac_1.computeHmac(hmac_1.SupportedAlgorithms.sha512,this.chainCode,data);data=i.slice(0,32);i=i.slice(32);var ki=null,Ki=null;this.privateKey?ki=bytes32(bignumber_1.bigNumberify(data).add(this.privateKey).mod(N)):Ki=(new secp256k1_1.KeyPair(bytes_1.hexlify(data)))._addPoint(this.publicKey);return new HDNode(_constructorGuard,ki,Ki,this.fingerprint,bytes32(i),index,this.depth+1,this.mnemonic,path)};HDNode.prototype.derivePath=function(path){var components=
path.split("/");if(0===components.length||"m"===components[0]&&0!==this.depth)throw Error("invalid path - "+path);"m"===components[0]&&components.shift();path=this;for(var i=0;i<components.length;i++){var component=components[i];if(component.match(/^[0-9]+'$/)){var index=parseInt(component.substring(0,component.length-1));if(2147483648<=index)throw Error("invalid path index - "+component);path=path._derive(2147483648+index)}else if(component.match(/^[0-9]+$/)){index=parseInt(component);if(2147483648<=
index)throw Error("invalid path index - "+component);path=path._derive(index)}else throw Error("invalid path component - "+component);}return path};HDNode.isHDNode=function(value){return properties_1.isType(value,"HDNode")};return HDNode}();exports.HDNode=HDNode;exports.fromExtendedKey=function(extendedKey){var bytes=basex_1.Base58.decode(extendedKey);82===bytes.length&&base58check(bytes.slice(0,78))===extendedKey||errors.throwError("invalid extended key",errors.INVALID_ARGUMENT,{argument:"extendedKey",
value:"[REDACTED]"});extendedKey=bytes[4];var parentFingerprint=bytes_1.hexlify(bytes.slice(5,9)),index=parseInt(bytes_1.hexlify(bytes.slice(9,13)).substring(2),16),chainCode=bytes_1.hexlify(bytes.slice(13,45)),key=bytes.slice(45,78);switch(bytes_1.hexlify(bytes.slice(0,4))){case "0x0488b21e":case "0x043587cf":return new HDNode(_constructorGuard,null,bytes_1.hexlify(key),parentFingerprint,chainCode,index,extendedKey,null,null);case "0x0488ade4":case "0x04358394":if(0===key[0])return new HDNode(_constructorGuard,
bytes_1.hexlify(key.slice(1)),null,parentFingerprint,chainCode,index,extendedKey,null,null)}return errors.throwError("invalid extended key",errors.INVALID_ARGUMENT,{argument:"extendedKey",value:"[REDACTED]"})};exports.fromMnemonic=function(mnemonic,wordlist,password){mnemonic=entropyToMnemonic(mnemonicToEntropy(mnemonic,wordlist),wordlist);return _fromSeed(mnemonicToSeed(mnemonic,password),mnemonic)};exports.fromSeed=function(seed){return _fromSeed(seed,null)};exports.mnemonicToSeed=mnemonicToSeed;
exports.mnemonicToEntropy=mnemonicToEntropy;exports.entropyToMnemonic=entropyToMnemonic;exports.isValidMnemonic=function(mnemonic,wordlist){try{return mnemonicToEntropy(mnemonic,wordlist),!0}catch(error){}return!1}},{"../errors":5,"../wordlists/lang-en":90,"./basex":62,"./bignumber":63,"./bytes":64,"./hmac":67,"./pbkdf2":73,"./properties":74,"./secp256k1":77,"./sha2":79,"./utf8":85}],67:[function(require,module,exports){module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;
var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var hash=module(require("hash.js")),bytes_1=require("../utils/bytes"),errors=module(require("../errors")),SupportedAlgorithms;(function(SupportedAlgorithms){SupportedAlgorithms.sha256="sha256";SupportedAlgorithms.sha512="sha512"})(SupportedAlgorithms=exports.SupportedAlgorithms||(exports.SupportedAlgorithms={}));
exports.computeHmac=function(algorithm,key,data){SupportedAlgorithms[algorithm]||errors.throwError("unsupported algorithm "+algorithm,errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:algorithm});return bytes_1.arrayify(hash.hmac(hash[algorithm],bytes_1.arrayify(key)).update(bytes_1.arrayify(data)).digest())}},{"../errors":5,"../utils/bytes":64,"hash.js":26}],68:[function(require,module,exports){module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=
mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var abi_coder_1=require("./abi-coder");exports.AbiCoder=abi_coder_1.AbiCoder;exports.defaultAbiCoder=abi_coder_1.defaultAbiCoder;exports.formatSignature=abi_coder_1.formatSignature;exports.formatParamType=abi_coder_1.formatParamType;exports.parseSignature=abi_coder_1.parseSignature;exports.parseParamType=abi_coder_1.parseParamType;abi_coder_1=
require("./address");exports.getAddress=abi_coder_1.getAddress;exports.getContractAddress=abi_coder_1.getContractAddress;exports.getCreate2Address=abi_coder_1.getCreate2Address;exports.getIcapAddress=abi_coder_1.getIcapAddress;abi_coder_1=module(require("./base64"));exports.base64=abi_coder_1;abi_coder_1=require("./bignumber");exports.BigNumber=abi_coder_1.BigNumber;exports.bigNumberify=abi_coder_1.bigNumberify;abi_coder_1=require("./bytes");exports.arrayify=abi_coder_1.arrayify;exports.concat=abi_coder_1.concat;
exports.hexDataSlice=abi_coder_1.hexDataSlice;exports.hexDataLength=abi_coder_1.hexDataLength;exports.hexlify=abi_coder_1.hexlify;exports.hexStripZeros=abi_coder_1.hexStripZeros;exports.hexZeroPad=abi_coder_1.hexZeroPad;exports.isHexString=abi_coder_1.isHexString;exports.joinSignature=abi_coder_1.joinSignature;exports.padZeros=abi_coder_1.padZeros;exports.splitSignature=abi_coder_1.splitSignature;exports.stripZeros=abi_coder_1.stripZeros;abi_coder_1=require("./hash");exports.hashMessage=abi_coder_1.hashMessage;
exports.id=abi_coder_1.id;exports.namehash=abi_coder_1.namehash;abi_coder_1=module(require("./hdnode"));exports.HDNode=abi_coder_1;abi_coder_1=require("./interface");exports.Interface=abi_coder_1.Interface;abi_coder_1=require("./json-wallet");exports.getJsonWalletAddress=abi_coder_1.getJsonWalletAddress;abi_coder_1=require("./keccak256");exports.keccak256=abi_coder_1.keccak256;abi_coder_1=require("./sha2");exports.sha256=abi_coder_1.sha256;abi_coder_1=require("./solidity");exports.solidityKeccak256=
abi_coder_1.keccak256;exports.solidityPack=abi_coder_1.pack;exports.soliditySha256=abi_coder_1.sha256;abi_coder_1=require("./random-bytes");exports.randomBytes=abi_coder_1.randomBytes;abi_coder_1=require("./networks");exports.getNetwork=abi_coder_1.getNetwork;abi_coder_1=require("./properties");exports.checkProperties=abi_coder_1.checkProperties;exports.deepCopy=abi_coder_1.deepCopy;exports.defineReadOnly=abi_coder_1.defineReadOnly;exports.resolveProperties=abi_coder_1.resolveProperties;exports.shallowCopy=
abi_coder_1.shallowCopy;module=module(require("./rlp"));exports.RLP=module;module=require("./secp256k1");exports.computeAddress=module.computeAddress;exports.computePublicKey=module.computePublicKey;exports.recoverAddress=module.recoverAddress;exports.recoverPublicKey=module.recoverPublicKey;exports.verifyMessage=module.verifyMessage;module=require("./signing-key");exports.SigningKey=module.SigningKey;module=require("./transaction");exports.populateTransaction=module.populateTransaction;module=require("./transaction");
exports.parseTransaction=module.parse;exports.serializeTransaction=module.serialize;module=require("./utf8");exports.formatBytes32String=module.formatBytes32String;exports.parseBytes32String=module.parseBytes32String;exports.toUtf8Bytes=module.toUtf8Bytes;exports.toUtf8String=module.toUtf8String;module=require("./units");exports.commify=module.commify;exports.formatEther=module.formatEther;exports.parseEther=module.parseEther;exports.formatUnits=module.formatUnits;exports.parseUnits=module.parseUnits;
module=require("./web");exports.fetchJson=module.fetchJson;exports.poll=module.poll;module=require("./hmac");exports.SupportedAlgorithms=module.SupportedAlgorithms;module=require("./utf8");exports.UnicodeNormalizationForm=module.UnicodeNormalizationForm;require=require("./wordlist");exports.Wordlist=require.Wordlist},{"./abi-coder":59,"./address":60,"./base64":61,"./bignumber":63,"./bytes":64,"./hash":65,"./hdnode":66,"./hmac":67,"./interface":69,"./json-wallet":70,"./keccak256":71,"./networks":72,
"./properties":74,"./random-bytes":75,"./rlp":76,"./secp256k1":77,"./sha2":79,"./signing-key":81,"./solidity":82,"./transaction":83,"./units":84,"./utf8":85,"./web":86,"./wordlist":87}],69:[function(require,module,exports){function addMethod(method){switch(method.type){case "constructor":var description=new _DeployDescription({inputs:method.inputs,payable:null==method.payable||!!method.payable});this.deployFunction||(this.deployFunction=description);break;case "function":description=abi_coder_1.formatSignature(method).replace(/tuple/g,
"");var sighash=hash_1.id(description).substring(0,10),isConst=!1;null!=method.constant?isConst=method.constant:null!=method.stateMutability&&(isConst="view"==method.stateMutability||"pure"==method.stateMutability);description=new _FunctionDescription({inputs:method.inputs,outputs:method.outputs,gas:method.gas,payable:null==method.payable||!!method.payable,type:isConst?"call":"transaction",name:method.name,signature:description,sighash:sighash});method.name&&(null==this.functions[method.name]?properties_1.defineReadOnly(this.functions,
method.name,description):errors.warn("WARNING: Multiple definitions for "+method.name));null==this.functions[description.signature]&&properties_1.defineReadOnly(this.functions,description.signature,description);break;case "event":description=abi_coder_1.formatSignature(method).replace(/tuple/g,"");description=new _EventDescription({name:method.name,signature:description,inputs:method.inputs,topic:hash_1.id(description),anonymous:!!method.anonymous});method.name&&null==this.events[method.name]&&properties_1.defineReadOnly(this.events,
method.name,description);null==this.events[description.signature]&&properties_1.defineReadOnly(this.events,description.signature,description);break;case "fallback":break;default:errors.warn("WARNING: unsupported ABI type - "+method.type)}}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=
d}extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var address_1=require("./address"),abi_coder_1=require("./abi-coder"),bignumber_1=require("./bignumber"),bytes_1=require("./bytes"),hash_1=
require("./hash"),keccak256_1=require("./keccak256"),properties_1=require("./properties"),errors=module(require("../errors")),_Indexed=function(){return function(hash){properties_1.setType(this,"Indexed");properties_1.defineReadOnly(this,"hash",hash)}}();require=function(){return function(info){properties_1.setType(this,"Description");for(var key in info)properties_1.defineReadOnly(this,key,properties_1.deepCopy(info[key],!0));Object.freeze(this)}}();var _DeployDescription=function(_super){function _DeployDescription(){return null!==
_super&&_super.apply(this,arguments)||this}__extends(_DeployDescription,_super);_DeployDescription.prototype.encode=function(bytecode,params){bytes_1.isHexString(bytecode)||errors.throwError("invalid contract bytecode",errors.INVALID_ARGUMENT,{arg:"bytecode",value:bytecode});errors.checkArgumentCount(params.length,this.inputs.length," in Interface constructor");try{return bytecode+abi_coder_1.defaultAbiCoder.encode(this.inputs,params).substring(2)}catch(error){errors.throwError("invalid constructor argument",
errors.INVALID_ARGUMENT,{arg:error.arg,reason:error.reason,value:error.value})}return null};return _DeployDescription}(require),_FunctionDescription=function(_super){function _FunctionDescription(){return null!==_super&&_super.apply(this,arguments)||this}__extends(_FunctionDescription,_super);_FunctionDescription.prototype.encode=function(params){errors.checkArgumentCount(params.length,this.inputs.length," in interface function "+this.name);try{return this.sighash+abi_coder_1.defaultAbiCoder.encode(this.inputs,
params).substring(2)}catch(error){errors.throwError("invalid input argument",errors.INVALID_ARGUMENT,{arg:error.arg,reason:error.reason,value:error.value})}return null};_FunctionDescription.prototype.decode=function(data){try{return abi_coder_1.defaultAbiCoder.decode(this.outputs,bytes_1.arrayify(data))}catch(error){errors.throwError("invalid data for function output",errors.INVALID_ARGUMENT,{arg:"data",errorArg:error.arg,errorValue:error.value,value:data,reason:error.reason})}};return _FunctionDescription}(require),
Result=function(_super){function Result(){return null!==_super&&_super.apply(this,arguments)||this}__extends(Result,_super);return Result}(require),_EventDescription=function(_super){function _EventDescription(){return null!==_super&&_super.apply(this,arguments)||this}__extends(_EventDescription,_super);_EventDescription.prototype.encodeTopics=function(params){var _this=this;params.length>this.inputs.length&&errors.throwError("too many arguments for "+this.name,errors.UNEXPECTED_ARGUMENT,{maxCount:params.length,
expectedCount:this.inputs.length});var topics=[];this.anonymous||topics.push(this.topic);for(params.forEach(function(arg,index){var param=_this.inputs[index];param.indexed?null==arg?topics.push(null):"string"===param.type?topics.push(hash_1.id(arg)):"bytes"===param.type?topics.push(keccak256_1.keccak256(arg)):-1!==param.type.indexOf("[")||"tuple"===param.type.substring(0,5)?errors.throwError("filtering with tuples or arrays not implemented yet; bug us on GitHub",errors.NOT_IMPLEMENTED,{operation:"filter(array|tuple)"}):
("address"===param.type&&address_1.getAddress(arg),topics.push(bytes_1.hexZeroPad(bytes_1.hexlify(arg),32).toLowerCase())):null!=arg&&errors.throwError("cannot filter non-indexed parameters; must be null",errors.INVALID_ARGUMENT,{argument:param.name||index,value:arg})});topics.length&&null===topics[topics.length-1];)topics.pop();return topics};_EventDescription.prototype.decode=function(data,topics){null==topics||this.anonymous||(topics=topics.slice(1));var inputIndexed=[],inputNonIndexed=[],inputDynamic=
[];this.inputs.forEach(function(param,index){param.indexed?"string"===param.type||"bytes"===param.type||0<=param.type.indexOf("[")||"tuple"===param.type.substring(0,5)?(inputIndexed.push({type:"bytes32",name:param.name||""}),inputDynamic.push(!0)):(inputIndexed.push(param),inputDynamic.push(!1)):(inputNonIndexed.push(param),inputDynamic.push(!1))});if(null!=topics)var resultIndexed=abi_coder_1.defaultAbiCoder.decode(inputIndexed,bytes_1.concat(topics));var resultNonIndexed=abi_coder_1.defaultAbiCoder.decode(inputNonIndexed,
bytes_1.arrayify(data)),result={},nonIndexedIndex=0,indexedIndex=0;this.inputs.forEach(function(input,index){result[index]=input.indexed?null==topics?new _Indexed(null):inputDynamic[index]?new _Indexed(resultIndexed[indexedIndex++]):resultIndexed[indexedIndex++]:resultNonIndexed[nonIndexedIndex++];input.name&&(result[input.name]=result[index])});result.length=this.inputs.length;return new Result(result)};return _EventDescription}(require),_TransactionDescription=function(_super){function _TransactionDescription(){return null!==
_super&&_super.apply(this,arguments)||this}__extends(_TransactionDescription,_super);return _TransactionDescription}(require),_LogDescription=function(_super){function _LogDescription(){return null!==_super&&_super.apply(this,arguments)||this}__extends(_LogDescription,_super);return _LogDescription}(require);require=function(){function Interface(abi){errors.checkNew(this,Interface);if("string"===typeof abi){try{abi=JSON.parse(abi)}catch(error){errors.throwError("could not parse ABI JSON",errors.INVALID_ARGUMENT,
{arg:"abi",errorMessage:error.message,value:abi})}if(!Array.isArray(abi))return errors.throwError("invalid abi",errors.INVALID_ARGUMENT,{arg:"abi",value:abi}),null}properties_1.defineReadOnly(this,"functions",{});properties_1.defineReadOnly(this,"events",{});var _abi=[];abi.forEach(function(fragment){"string"===typeof fragment&&(fragment=abi_coder_1.parseSignature(fragment));_abi.push(fragment)});properties_1.defineReadOnly(this,"abi",properties_1.deepCopy(_abi,!0));_abi.forEach(addMethod,this);this.deployFunction||
addMethod.call(this,{type:"constructor",inputs:[]});properties_1.setType(this,"Interface")}Interface.prototype.parseTransaction=function(tx){var sighash=tx.data.substring(0,10).toLowerCase(),name;for(name in this.functions)if(-1!==name.indexOf("(")){var func=this.functions[name];if(func.sighash===sighash)return sighash=abi_coder_1.defaultAbiCoder.decode(func.inputs,"0x"+tx.data.substring(10)),new _TransactionDescription({args:sighash,decode:func.decode,name:func.name,signature:func.signature,sighash:func.sighash,
value:bignumber_1.bigNumberify(tx.value||"0")})}return null};Interface.prototype.parseLog=function(log){for(var name in this.events)if(-1!==name.indexOf("(")){var event=this.events[name];if(!event.anonymous&&event.topic===log.topics[0])return new _LogDescription({decode:event.decode,name:event.name,signature:event.signature,topic:event.topic,values:event.decode(log.data,log.topics)})}return null};Interface.isInterface=function(value){return properties_1.isType(value,"Interface")};Interface.isIndexed=
function(value){return properties_1.isType(value,"Indexed")};return Interface}();exports.Interface=require},{"../errors":5,"./abi-coder":59,"./address":60,"./bignumber":63,"./bytes":64,"./hash":65,"./keccak256":71,"./properties":74}],70:[function(require,module,exports){function isCrowdsaleWallet(json){try{var data=JSON.parse(json)}catch(error){return!1}return data.encseed&&data.ethaddr}function isSecretStorageWallet(json){try{var data=JSON.parse(json)}catch(error){return!1}return data.version&&parseInt(data.version)===
data.version&&3===parseInt(data.version)?!0:!1}Object.defineProperty(exports,"__esModule",{value:!0});var address_1=require("./address");exports.isCrowdsaleWallet=isCrowdsaleWallet;exports.isSecretStorageWallet=isSecretStorageWallet;exports.getJsonWalletAddress=function(json){if(isCrowdsaleWallet(json))try{return address_1.getAddress(JSON.parse(json).ethaddr)}catch(error){return null}if(isSecretStorageWallet(json))try{return address_1.getAddress(JSON.parse(json).address)}catch(error$5){}return null}},
{"./address":60}],71:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var sha3=require("js-sha3"),bytes_1=require("./bytes");exports.keccak256=function(data){return"0x"+sha3.keccak_256(bytes_1.arrayify(data))}},{"./bytes":64,"js-sha3":40}],72:[function(require,module,exports){function ethDefaultProvider(network){return function(providers){var providerList=[];providers.InfuraProvider&&providerList.push(new providers.InfuraProvider(network));providers.EtherscanProvider&&
providerList.push(new providers.EtherscanProvider(network));return 0===providerList.length?null:providers.FallbackProvider?new providers.FallbackProvider(providerList):providerList[0]}}function etcDefaultProvider(url,network){return function(providers){return providers.JsonRpcProvider?new providers.JsonRpcProvider(url,network):null}}module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=
mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var errors=module(require("../errors"));require={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")};module={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")};var networks={unspecified:{chainId:0,name:"unspecified"},homestead:require,mainnet:require,
morden:{chainId:2,name:"morden"},ropsten:module,testnet:module,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://web3.gastracker.io",
"classic")},classicTestnet:{chainId:62,name:"classicTestnet",_defaultProvider:etcDefaultProvider("https://web3.gastracker.io/morden","classicTestnet")}};exports.getNetwork=function(network){if(null==network)return null;if("number"===typeof network){for(var name_1 in networks){var n_1=networks[name_1];if(n_1.chainId===network)return{name:n_1.name,chainId:n_1.chainId,ensAddress:n_1.ensAddress||null,_defaultProvider:n_1._defaultProvider||null}}return{chainId:network,name:"unknown"}}if("string"===typeof network)return network=
networks[network],null==network?null:{name:network.name,chainId:network.chainId,ensAddress:network.ensAddress,_defaultProvider:network._defaultProvider||null};name_1=networks[network.name];if(!name_1)return"number"!==typeof network.chainId&&errors.throwError("invalid network chainId",errors.INVALID_ARGUMENT,{arg:"network",value:network}),network;0!==network.chainId&&network.chainId!==name_1.chainId&&errors.throwError("network chainId mismatch",errors.INVALID_ARGUMENT,{arg:"network",value:network});
return{name:network.name,chainId:name_1.chainId,ensAddress:network.ensAddress||name_1.ensAddress||null,_defaultProvider:network._defaultProvider||name_1._defaultProvider||null}}},{"../errors":5}],73:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var bytes_1=require("../utils/bytes"),hmac_1=require("./hmac");exports.pbkdf2=function(password,salt,iterations,keylen,hashAlgorithm){password=bytes_1.arrayify(password);salt=bytes_1.arrayify(salt);var l=1,DK=new Uint8Array(keylen),
block1=new Uint8Array(salt.length+4);block1.set(salt);for(var r,T,i=1;i<=l;i++){block1[salt.length]=i>>24&255;block1[salt.length+1]=i>>16&255;block1[salt.length+2]=i>>8&255;block1[salt.length+3]=i&255;var U=hmac_1.computeHmac(hashAlgorithm,password,block1);if(!hLen){var hLen=U.length;T=new Uint8Array(hLen);l=Math.ceil(keylen/hLen);r=keylen-(l-1)*hLen}T.set(U);for(var j=1;j<iterations;j++){U=hmac_1.computeHmac(hashAlgorithm,password,U);for(var k=0;k<hLen;k++)T[k]^=U[k]}U=(i-1)*hLen;j=i===l?r:hLen;
DK.set(bytes_1.arrayify(T).slice(0,j),U)}return bytes_1.arrayify(DK)}},{"../utils/bytes":64,"./hmac":67}],74:[function(require,module,exports){function defineReadOnly(object,name,value){Object.defineProperty(object,name,{enumerable:!0,value:value,writable:!1})}function isType(object,type){return object&&object._ethersType===type}function deepCopy(object,frozen){if(void 0===object||null===object||opaque[typeof object])return object;if(Array.isArray(object)){var result=object.map(function(item){return deepCopy(item,
frozen)});frozen&&Object.freeze(result);return result}if("object"===typeof object){if(isType(object,"BigNumber")||isType(object,"Description")||isType(object,"Indexed"))return object;result={};for(var key in object){var value=object[key];void 0!==value&&defineReadOnly(result,key,deepCopy(value,frozen))}frozen&&Object.freeze(result);return result}if("function"===typeof object)return object;throw Error("Cannot deepCopy "+typeof object);}function inheritable(parent){return function(child){child.super_=
parent;child.prototype=Object.create(parent.prototype,{constructor:{value:child,enumerable:!1,writable:!0,configurable:!0}});defineReadOnly(child,"inherits",inheritable(child))}}module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var errors=module(require("../errors"));exports.defineReadOnly=
defineReadOnly;exports.setType=function(object,type){Object.defineProperty(object,"_ethersType",{configurable:!1,value:type,writable:!1})};exports.isType=isType;exports.resolveProperties=function(object){var result={},promises=[];Object.keys(object).forEach(function(key){var value$jscomp$0=object[key];value$jscomp$0 instanceof Promise?promises.push(value$jscomp$0.then(function(value){result[key]=value;return null})):result[key]=value$jscomp$0});return Promise.all(promises).then(function(){return result})};
exports.checkProperties=function(object,properties){object&&"object"===typeof object||errors.throwError("invalid object",errors.INVALID_ARGUMENT,{argument:"object",value:object});Object.keys(object).forEach(function(key){properties[key]||errors.throwError("invalid object key - "+key,errors.INVALID_ARGUMENT,{argument:"transaction",value:object,key:key})})};exports.shallowCopy=function(object){var result={},key;for(key in object)result[key]=object[key];return result};var opaque={boolean:!0,number:!0,
string:!0};exports.deepCopy=deepCopy;exports.inheritable=inheritable},{"../errors":5}],75:[function(require,module,exports){(function(global){function randomBytes(length){if(0>=length||1024<length||parseInt(String(length))!=length)throw Error("invalid length");length=new Uint8Array(length);crypto.getRandomValues(length);return bytes_1.arrayify(length)}Object.defineProperty(exports,"__esModule",{value:!0});var bytes_1=require("../utils/bytes"),properties_1=require("../utils/properties"),crypto=global.crypto||
global.msCrypto;crypto&&crypto.getRandomValues||(console.log("WARNING: Missing strong random number source; using weak randomBytes"),crypto={getRandomValues:function(buffer){for(var round=0;20>round;round++)for(var i=0;i<buffer.length;i++)buffer[i]=round?buffer[i]^Math.trunc(256*Math.random()):Math.trunc(256*Math.random());return buffer},_weakCrypto:!0});exports.randomBytes=randomBytes;!0===crypto._weakCrypto&&properties_1.defineReadOnly(randomBytes,"_weakCrypto",!0)}).call(this,"undefined"!==typeof global$jscomp$2?
global$jscomp$2:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../utils/bytes":64,"../utils/properties":74}],76:[function(require,module,exports){function arrayifyInteger(value){for(var result=[];value;)result.unshift(value&255),value>>=8;return result}function unarrayifyInteger(data,offset,length){for(var result=0,i=0;i<length;i++)result=256*result+data[offset+i];return result}function _encode(object){if(Array.isArray(object)){var payload=[];object.forEach(function(child){payload=
payload.concat(_encode(child))});if(55>=payload.length)return payload.unshift(192+payload.length),payload;object=arrayifyInteger(payload.length);object.unshift(247+object.length);return object.concat(payload)}var data=Array.prototype.slice.call(bytes_1.arrayify(object));if(1===data.length&&127>=data[0])return data;if(55>=data.length)return data.unshift(128+data.length),data;object=arrayifyInteger(data.length);object.unshift(183+object.length);return object.concat(data)}function _decodeChildren(data,
offset,childOffset,length){for(var result=[];childOffset<offset+1+length;){var decoded=_decode(data,childOffset);result.push(decoded.result);childOffset+=decoded.consumed;if(childOffset>offset+1+length)throw Error("invalid rlp");}return{consumed:1+length,result:result}}function _decode(data,offset){if(0===data.length)throw Error("invalid rlp data");if(248<=data[offset]){var lengthLength=data[offset]-247;if(offset+1+lengthLength>data.length)throw Error("too short");var length=unarrayifyInteger(data,
offset+1,lengthLength);if(offset+1+lengthLength+length>data.length)throw Error("to short");return _decodeChildren(data,offset,offset+1+lengthLength,lengthLength+length)}if(192<=data[offset]){length=data[offset]-192;if(offset+1+length>data.length)throw Error("invalid rlp data");return _decodeChildren(data,offset,offset+1,length)}if(184<=data[offset]){lengthLength=data[offset]-183;if(offset+1+lengthLength>data.length)throw Error("invalid rlp data");length=unarrayifyInteger(data,offset+1,lengthLength);
if(offset+1+lengthLength+length>data.length)throw Error("invalid rlp data");data=bytes_1.hexlify(data.slice(offset+1+lengthLength,offset+1+lengthLength+length));return{consumed:1+lengthLength+length,result:data}}if(128<=data[offset]){length=data[offset]-128;if(offset+1+length>data.length)throw Error("invalid rlp data");data=bytes_1.hexlify(data.slice(offset+1,offset+1+length));return{consumed:1+length,result:data}}return{consumed:1,result:bytes_1.hexlify(data[offset])}}Object.defineProperty(exports,
"__esModule",{value:!0});var bytes_1=require("./bytes");exports.encode=function(object){return bytes_1.hexlify(_encode(object))};exports.decode=function(data){data=bytes_1.arrayify(data);var decoded=_decode(data,0);if(decoded.consumed!==data.length)throw Error("invalid rlp data");return decoded.result}},{"./bytes":64}],77:[function(require,module,exports){function getCurve(){_curve||(_curve=new elliptic_1.ec("secp256k1"));return _curve}function computePublicKey(key,compressed){key=bytes_1.arrayify(key);
if(32===key.length)return key=new KeyPair$jscomp$0(key),compressed?key.compressedPublicKey:key.publicKey;if(33===key.length)return compressed?bytes_1.hexlify(key):"0x"+getCurve().keyFromPublic(key).getPublic(!1,"hex");if(65===key.length)return compressed?"0x"+getCurve().keyFromPublic(key).getPublic(!0,"hex"):bytes_1.hexlify(key);errors.throwError("invalid public or private key",errors.INVALID_ARGUMENT,{arg:"key",value:"[REDACTED]"});return null}function computeAddress(key){key="0x"+computePublicKey(key).slice(4);
return address_1.getAddress("0x"+keccak256_1.keccak256(key).substring(26))}function recoverPublicKey(digest,signature){signature=bytes_1.splitSignature(signature);var rs={r:bytes_1.arrayify(signature.r),s:bytes_1.arrayify(signature.s)};return"0x"+getCurve().recoverPubKey(bytes_1.arrayify(digest),rs,signature.recoveryParam).encode("hex",!1)}function recoverAddress(digest,signature){return computeAddress(recoverPublicKey(bytes_1.arrayify(digest),signature))}module=this&&this.__importStar||function(mod){if(mod&&
mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var elliptic_1=require("elliptic"),address_1=require("./address"),bytes_1=require("./bytes"),hash_1=require("./hash"),keccak256_1=require("./keccak256"),properties_1=require("./properties"),errors=module(require("../errors")),_curve=null,KeyPair$jscomp$0=function(){function KeyPair(privateKey){privateKey=
getCurve().keyFromPrivate(bytes_1.arrayify(privateKey));properties_1.defineReadOnly(this,"privateKey",bytes_1.hexlify(privateKey.priv.toArray("be",32)));properties_1.defineReadOnly(this,"publicKey","0x"+privateKey.getPublic(!1,"hex"));properties_1.defineReadOnly(this,"compressedPublicKey","0x"+privateKey.getPublic(!0,"hex"));properties_1.defineReadOnly(this,"publicKeyBytes",privateKey.getPublic().encode(null,!0))}KeyPair.prototype.sign=function(digest){digest=getCurve().keyFromPrivate(bytes_1.arrayify(this.privateKey)).sign(bytes_1.arrayify(digest),
{canonical:!0});return{recoveryParam:digest.recoveryParam,r:bytes_1.hexZeroPad("0x"+digest.r.toString(16),32),s:bytes_1.hexZeroPad("0x"+digest.s.toString(16),32),v:27+digest.recoveryParam}};KeyPair.prototype.computeSharedSecret=function(otherKey){var keyPair=getCurve().keyFromPrivate(bytes_1.arrayify(this.privateKey));otherKey=getCurve().keyFromPublic(bytes_1.arrayify(computePublicKey(otherKey)));return bytes_1.hexZeroPad("0x"+keyPair.derive(otherKey.getPublic()).toString(16),32)};KeyPair.prototype._addPoint=
function(other){var p0=getCurve().keyFromPublic(bytes_1.arrayify(this.publicKey));other=getCurve().keyFromPublic(bytes_1.arrayify(other));return"0x"+p0.pub.add(other.pub).encodeCompressed("hex")};return KeyPair}();exports.KeyPair=KeyPair$jscomp$0;exports.computePublicKey=computePublicKey;exports.computeAddress=computeAddress;exports.recoverPublicKey=recoverPublicKey;exports.recoverAddress=recoverAddress;exports.verifyMessage=function(message,signature){return recoverAddress(hash_1.hashMessage(message),
signature)}},{"../errors":5,"./address":60,"./bytes":64,"./hash":65,"./keccak256":71,"./properties":74,elliptic:12}],78:[function(require,module,exports){function looseArrayify(hexString){"string"===typeof hexString&&"0x"!==hexString.substring(0,2)&&(hexString="0x"+hexString);return bytes_1.arrayify(hexString)}function zpad(value,length){for(value=String(value);value.length<length;)value="0"+value;return value}function getPassword(password){return"string"===typeof password?utf8_1.toUtf8Bytes(password,
utf8_1.UnicodeNormalizationForm.NFKC):bytes_1.arrayify(password)}function searchPath(object,path){path=path.toLowerCase().split("/");for(var i=0;i<path.length;i++){var matchingChild=null,key;for(key in object)if(key.toLowerCase()===path[i]){matchingChild=object[key];break}if(null===matchingChild)return null;object=matchingChild}return object}module=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};var __importStar=this&&this.__importStar||function(mod){if(mod&&
mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var aes_js_1=module(require("aes-js")),scrypt_js_1=module(require("scrypt-js")),uuid_1=module(require("uuid")),signing_key_1=require("./signing-key"),HDNode=__importStar(require("./hdnode")),address_1=require("./address"),bytes_1=require("./bytes"),pbkdf2_1=require("./pbkdf2"),keccak256_1=
require("./keccak256"),utf8_1=require("./utf8"),random_bytes_1=require("./random-bytes");exports.decryptCrowdsale=function(json,password){var data=JSON.parse(json);password=getPassword(password);json=address_1.getAddress(searchPath(data,"ethaddr"));data=looseArrayify(searchPath(data,"encseed"));if(!data||0!==data.length%16)throw Error("invalid encseed");password=pbkdf2_1.pbkdf2(password,password,2E3,32,"sha256").slice(0,16);var iv=data.slice(0,16);data=data.slice(16);password=new aes_js_1.default.ModeOfOperation.cbc(password,
iv);password=bytes_1.arrayify(password.decrypt(data));password=aes_js_1.default.padding.pkcs7.strip(password);data="";for(iv=0;iv<password.length;iv++)data+=String.fromCharCode(password[iv]);password=utf8_1.toUtf8Bytes(data);password=new signing_key_1.SigningKey(keccak256_1.keccak256(password));if(password.address!==json)throw Error("corrupt crowdsale wallet");return password};exports.decrypt=function(json,password,progressCallback){var data=JSON.parse(json),passwordBytes=getPassword(password),computeMAC=
function(derivedHalf,ciphertext){return keccak256_1.keccak256(bytes_1.concat([derivedHalf,ciphertext]))},getSigningKey=function(key$jscomp$0,reject){var ciphertext=looseArrayify(searchPath(data,"crypto/ciphertext"));if(bytes_1.hexlify(computeMAC(key$jscomp$0.slice(16,32),ciphertext)).substring(2)!==searchPath(data,"crypto/mac").toLowerCase())return reject(Error("invalid password")),null;var key=key$jscomp$0.slice(0,16);if("aes-128-ctr"===searchPath(data,"crypto/cipher")){var iv=looseArrayify(searchPath(data,
"crypto/cipherparams/iv"));iv=new aes_js_1.default.Counter(iv);key=new aes_js_1.default.ModeOfOperation.ctr(key,iv);ciphertext=bytes_1.arrayify(key.decrypt(ciphertext))}else ciphertext=null;key$jscomp$0=key$jscomp$0.slice(32,64);if(!ciphertext)return reject(Error("unsupported cipher")),null;key=new signing_key_1.SigningKey(ciphertext);if(data.address&&key.address!==address_1.getAddress(data.address))return reject(Error("address mismatch")),null;iv=searchPath(data,"x-ethers/locale");if("0.1"===searchPath(data,
"x-ethers/version")&&(null==iv||"en"===iv)){key=looseArrayify(searchPath(data,"x-ethers/mnemonicCiphertext"));iv=looseArrayify(searchPath(data,"x-ethers/mnemonicCounter"));iv=new aes_js_1.default.Counter(iv);iv=new aes_js_1.default.ModeOfOperation.ctr(key$jscomp$0,iv);key$jscomp$0=searchPath(data,"x-ethers/path")||HDNode.defaultPath;key=bytes_1.arrayify(iv.decrypt(key));key=HDNode.entropyToMnemonic(key);key$jscomp$0=HDNode.fromMnemonic(key).derivePath(key$jscomp$0);if(key$jscomp$0.privateKey!=bytes_1.hexlify(ciphertext))return reject(Error("mnemonic mismatch")),
null;key=new signing_key_1.SigningKey(key$jscomp$0)}return key};return new Promise(function(resolve,reject){var kdf=searchPath(data,"crypto/kdf");if(kdf&&"string"===typeof kdf)if("scrypt"===kdf.toLowerCase()){kdf=looseArrayify(searchPath(data,"crypto/kdfparams/salt"));var N=parseInt(searchPath(data,"crypto/kdfparams/n")),r=parseInt(searchPath(data,"crypto/kdfparams/r")),p=parseInt(searchPath(data,"crypto/kdfparams/p"));if(N&&r&&p)if(0!==(N&N-1))reject(Error("unsupported key-derivation function parameter value for N"));
else{var dkLen=parseInt(searchPath(data,"crypto/kdfparams/dklen"));32!==dkLen?reject(Error("unsupported key-derivation derived-key length")):(progressCallback&&progressCallback(0),scrypt_js_1.default(passwordBytes,kdf,N,r,p,64,function(error,progress,key){if(error)error.progress=progress,reject(error);else if(key){if(key=bytes_1.arrayify(key),error=getSigningKey(key,reject))progressCallback&&progressCallback(1),resolve(error)}else if(progressCallback)return progressCallback(progress)}))}else reject(Error("unsupported key-derivation function parameters"))}else if("pbkdf2"===
kdf.toLowerCase()){kdf=looseArrayify(searchPath(data,"crypto/kdfparams/salt"));N=null;dkLen=searchPath(data,"crypto/kdfparams/prf");if("hmac-sha256"===dkLen)N="sha256";else if("hmac-sha512"===dkLen)N="sha512";else{reject(Error("unsupported prf"));return}r=parseInt(searchPath(data,"crypto/kdfparams/c"));dkLen=parseInt(searchPath(data,"crypto/kdfparams/dklen"));32!==dkLen?reject(Error("unsupported key-derivation derived-key length")):(kdf=pbkdf2_1.pbkdf2(passwordBytes,kdf,r,dkLen,N),(kdf=getSigningKey(kdf,
reject))&&resolve(kdf))}else reject(Error("unsupported key-derivation function"));else reject(Error("unsupported key-derivation function"))})};exports.encrypt=function(privateKey,password,options,progressCallback){"function"!==typeof options||progressCallback||(progressCallback=options,options={});options||(options={});var privateKeyBytes=null;privateKeyBytes=signing_key_1.SigningKey.isSigningKey(privateKey)?bytes_1.arrayify(privateKey.privateKey):bytes_1.arrayify(privateKey);if(32!==privateKeyBytes.length)throw Error("invalid private key");
var passwordBytes=getPassword(password),entropy=null;options.entropy&&(entropy=bytes_1.arrayify(options.entropy));if(options.mnemonic)if(entropy){if(HDNode.entropyToMnemonic(entropy)!==options.mnemonic)throw Error("entropy and mnemonic mismatch");}else entropy=bytes_1.arrayify(HDNode.mnemonicToEntropy(options.mnemonic,options.wordlist));var path=options.path;entropy&&!path&&(path=HDNode.defaultPath);var client=options.client;client||(client="ethers.js");var salt=null;salt=options.salt?bytes_1.arrayify(options.salt):
random_bytes_1.randomBytes(32);var iv=null;if(options.iv){if(iv=bytes_1.arrayify(options.iv),16!==iv.length)throw Error("invalid iv");}else iv=random_bytes_1.randomBytes(16);var uuidRandom=null;if(options.uuid){if(uuidRandom=bytes_1.arrayify(options.uuid),16!==uuidRandom.length)throw Error("invalid uuid");}else uuidRandom=random_bytes_1.randomBytes(16);var N=131072,r=8,p=1;options.scrypt&&(options.scrypt.N&&(N=options.scrypt.N),options.scrypt.r&&(r=options.scrypt.r),options.scrypt.p&&(p=options.scrypt.p));
return new Promise(function(resolve,reject){progressCallback&&progressCallback(0);scrypt_js_1.default(passwordBytes,salt,N,r,p,64,function(error,progress,key){if(error)error.progress=progress,reject(error);else if(key){key=bytes_1.arrayify(key);var derivedKey=key.slice(0,16);error=key.slice(16,32);key=key.slice(32,64);progress=(new signing_key_1.SigningKey(privateKeyBytes)).address;var counter=new aes_js_1.default.Counter(iv);derivedKey=new aes_js_1.default.ModeOfOperation.ctr(derivedKey,counter);
derivedKey=bytes_1.arrayify(derivedKey.encrypt(privateKeyBytes));error=keccak256_1.keccak256(bytes_1.concat([error,derivedKey]));error={address:progress.substring(2).toLowerCase(),id:uuid_1.default.v4({random:uuidRandom}),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:bytes_1.hexlify(iv).substring(2)},ciphertext:bytes_1.hexlify(derivedKey).substring(2),kdf:"scrypt",kdfparams:{salt:bytes_1.hexlify(salt).substring(2),n:N,dklen:32,p:p,r:r},mac:error.substring(2)}};entropy&&(progress=random_bytes_1.randomBytes(16),
derivedKey=new aes_js_1.default.Counter(progress),key=new aes_js_1.default.ModeOfOperation.ctr(key,derivedKey),key=bytes_1.arrayify(key.encrypt(entropy)),derivedKey=new Date,derivedKey=derivedKey.getUTCFullYear()+"-"+zpad(derivedKey.getUTCMonth()+1,2)+"-"+zpad(derivedKey.getUTCDate(),2)+"T"+zpad(derivedKey.getUTCHours(),2)+"-"+zpad(derivedKey.getUTCMinutes(),2)+"-"+zpad(derivedKey.getUTCSeconds(),2)+".0Z",error["x-ethers"]={client:client,gethFilename:"UTC--"+derivedKey+"--"+error.address,mnemonicCounter:bytes_1.hexlify(progress).substring(2),
mnemonicCiphertext:bytes_1.hexlify(key).substring(2),path:path,version:"0.1"},options.wordlist&&"string"===typeof options.wordlist.locale&&(error["x-ethers"].locale=options.wordlist.locale));progressCallback&&progressCallback(1);resolve(JSON.stringify(error))}else if(progressCallback)return progressCallback(progress)})})}},{"./address":60,"./bytes":64,"./hdnode":66,"./keccak256":71,"./pbkdf2":73,"./random-bytes":75,"./signing-key":81,"./utf8":85,"aes-js":8,"scrypt-js":44,uuid:48}],79:[function(require,
module,exports){module=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});var hash_js_1=module(require("hash.js")),bytes_1=require("./bytes");exports.ripemd160=function(data){return"0x"+hash_js_1.default.ripemd160().update(bytes_1.arrayify(data)).digest("hex")};exports.sha256=function(data){return"0x"+hash_js_1.default.sha256().update(bytes_1.arrayify(data)).digest("hex")};exports.sha512=function(data){return"0x"+
hash_js_1.default.sha512().update(bytes_1.arrayify(data)).digest("hex")}},{"./bytes":64,"hash.js":26}],80:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});require("setimmediate");exports.platform="browser"},{setimmediate:45}],81:[function(require,module,exports){module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;
return result};Object.defineProperty(exports,"__esModule",{value:!0});var hdnode_1=require("./hdnode"),bytes_1=require("./bytes"),properties_1=require("./properties"),secp256k1_1=require("./secp256k1"),errors=module(require("../errors"));require=function(){function SigningKey(privateKey){errors.checkNew(this,SigningKey);hdnode_1.HDNode.isHDNode(privateKey)?(properties_1.defineReadOnly(this,"mnemonic",privateKey.mnemonic),properties_1.defineReadOnly(this,"path",privateKey.path),privateKey=bytes_1.arrayify(privateKey.privateKey)):
("string"===typeof privateKey&&privateKey.match(/^[0-9a-f]*$/i)&&64===privateKey.length&&(privateKey="0x"+privateKey),privateKey=bytes_1.arrayify(privateKey));try{32!==privateKey.length&&errors.throwError("exactly 32 bytes required",errors.INVALID_ARGUMENT,{arg:"privateKey",value:"[REDACTED]"})}catch(error){var params={arg:"privateKey",reason:error.reason,value:"[REDACTED]"};error.value&&("number"===typeof error.value.length&&(params.length=error.value.length),params.type=typeof error.value);errors.throwError("invalid private key",
error.code,params)}properties_1.defineReadOnly(this,"privateKey",bytes_1.hexlify(privateKey));properties_1.defineReadOnly(this,"keyPair",new secp256k1_1.KeyPair(privateKey));properties_1.defineReadOnly(this,"publicKey",this.keyPair.publicKey);properties_1.defineReadOnly(this,"address",secp256k1_1.computeAddress(this.keyPair.publicKey));properties_1.setType(this,"SigningKey")}SigningKey.prototype.signDigest=function(digest){return this.keyPair.sign(digest)};SigningKey.prototype.computeSharedSecret=
function(key){return this.keyPair.computeSharedSecret(bytes_1.arrayify(key))};SigningKey.isSigningKey=function(value){return properties_1.isType(value,"SigningKey")};return SigningKey}();exports.SigningKey=require},{"../errors":5,"./bytes":64,"./hdnode":66,"./properties":74,"./secp256k1":77}],82:[function(require,module,exports){function _pack(type,value$jscomp$0,isArray){switch(type){case "address":return isArray?bytes_1.padZeros(value$jscomp$0,32):bytes_1.arrayify(value$jscomp$0);case "string":return utf8_1.toUtf8Bytes(value$jscomp$0);
case "bytes":return bytes_1.arrayify(value$jscomp$0);case "bool":return value$jscomp$0=value$jscomp$0?"0x01":"0x00",isArray?bytes_1.padZeros(value$jscomp$0,32):bytes_1.arrayify(value$jscomp$0)}var match=type.match(regexNumber);if(match){var size=parseInt(match[2]||"256");if(0!=size%8||0===size||256<size)throw Error("invalid number type - "+type);isArray&&(size=256);value$jscomp$0=bignumber_1.bigNumberify(value$jscomp$0).toTwos(size);return bytes_1.padZeros(value$jscomp$0,size/8)}if(match=type.match(regexBytes)){size=
parseInt(match[1]);if(String(size)!=match[1]||0===size||32<size)throw Error("invalid number type - "+type);if(bytes_1.arrayify(value$jscomp$0).byteLength!==size)throw Error("invalid value for "+type);return isArray?bytes_1.arrayify((value$jscomp$0+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):value$jscomp$0}if((match=type.match(regexArray))&&Array.isArray(value$jscomp$0)){var baseType=match[1];if(parseInt(match[2]||String(value$jscomp$0.length))!=value$jscomp$0.length)throw Error("invalid value for "+
type);var result=[];value$jscomp$0.forEach(function(value){result.push(_pack(baseType,value,!0))});return bytes_1.concat(result)}throw Error("unknown type - "+type);}function pack(types,values){if(types.length!=values.length)throw Error("type/value count mismatch");var tight=[];types.forEach(function(type,index){tight.push(_pack(type,values[index]))});return bytes_1.hexlify(bytes_1.concat(tight))}Object.defineProperty(exports,"__esModule",{value:!0});var bignumber_1=require("./bignumber"),bytes_1=
require("./bytes"),utf8_1=require("./utf8"),keccak256_1=require("./keccak256"),sha2_1=require("./sha2"),regexBytes=/^bytes([0-9]+)$/,regexNumber=/^(u?int)([0-9]*)$/,regexArray=/^(.*)\[([0-9]*)\]$/;exports.pack=pack;exports.keccak256=function(types,values){return keccak256_1.keccak256(pack(types,values))};exports.sha256=function(types,values){return sha2_1.sha256(pack(types,values))}},{"./bignumber":63,"./bytes":64,"./keccak256":71,"./sha2":79,"./utf8":85}],83:[function(require,module,exports){function handleNumber(value){return"0x"===
value?constants_1.Zero:bignumber_1.bigNumberify(value)}module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var constants_1=require("../constants"),errors=module(require("../errors")),secp256k1_1=require("./secp256k1"),address_1=require("./address"),bignumber_1=require("./bignumber"),
bytes_1=require("./bytes"),keccak256_1=require("./keccak256"),properties_1=require("./properties"),RLP=module(require("./rlp")),abstract_provider_1=require("../providers/abstract-provider"),transactionFields=[{name:"nonce",maxLength:32},{name:"gasPrice",maxLength:32},{name:"gasLimit",maxLength:32},{name:"to",length:20},{name:"value",maxLength:32},{name:"data"}],allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0};exports.serialize=function(transaction,signature){properties_1.checkProperties(transaction,
allowedTransactionKeys);var raw=[];transactionFields.forEach(function(fieldInfo){var value=transaction[fieldInfo.name]||[];value=bytes_1.arrayify(bytes_1.hexlify(value));fieldInfo.length&&value.length!==fieldInfo.length&&0<value.length&&errors.throwError("invalid length for "+fieldInfo.name,errors.INVALID_ARGUMENT,{arg:"transaction"+fieldInfo.name,value:value});fieldInfo.maxLength&&(value=bytes_1.stripZeros(value),value.length>fieldInfo.maxLength&&errors.throwError("invalid length for "+fieldInfo.name,
errors.INVALID_ARGUMENT,{arg:"transaction"+fieldInfo.name,value:value}));raw.push(bytes_1.hexlify(value))});null!=transaction.chainId&&0!==transaction.chainId&&(raw.push(bytes_1.hexlify(transaction.chainId)),raw.push("0x"),raw.push("0x"));var unsignedTransaction=RLP.encode(raw);if(!signature)return unsignedTransaction;signature=bytes_1.splitSignature(signature);unsignedTransaction=27+signature.recoveryParam;9===raw.length&&(raw.pop(),raw.pop(),raw.pop(),unsignedTransaction+=2*transaction.chainId+
8);raw.push(bytes_1.hexlify(unsignedTransaction));raw.push(bytes_1.stripZeros(bytes_1.arrayify(signature.r)));raw.push(bytes_1.stripZeros(bytes_1.arrayify(signature.s)));return RLP.encode(raw)};exports.parse=function(rawTransaction){var transaction=RLP.decode(rawTransaction);9!==transaction.length&&6!==transaction.length&&errors.throwError("invalid raw transaction",errors.INVALID_ARGUMENT,{arg:"rawTransactin",value:rawTransaction});var JSCompiler_temp_const=handleNumber(transaction[0]).toNumber(),
JSCompiler_temp_const$jscomp$0=handleNumber(transaction[1]),JSCompiler_temp_const$jscomp$1=handleNumber(transaction[2]);var JSCompiler_inline_result=transaction[3];JSCompiler_inline_result="0x"===JSCompiler_inline_result?null:address_1.getAddress(JSCompiler_inline_result);JSCompiler_temp_const={nonce:JSCompiler_temp_const,gasPrice:JSCompiler_temp_const$jscomp$0,gasLimit:JSCompiler_temp_const$jscomp$1,to:JSCompiler_inline_result,value:handleNumber(transaction[4]),data:transaction[5],chainId:0};if(6===
transaction.length)return JSCompiler_temp_const;try{JSCompiler_temp_const.v=bignumber_1.bigNumberify(transaction[6]).toNumber()}catch(error){return errors.info(error),JSCompiler_temp_const}JSCompiler_temp_const.r=bytes_1.hexZeroPad(transaction[7],32);JSCompiler_temp_const.s=bytes_1.hexZeroPad(transaction[8],32);if(bignumber_1.bigNumberify(JSCompiler_temp_const.r).isZero()&&bignumber_1.bigNumberify(JSCompiler_temp_const.s).isZero())JSCompiler_temp_const.chainId=JSCompiler_temp_const.v,JSCompiler_temp_const.v=
0;else{JSCompiler_temp_const.chainId=Math.floor((JSCompiler_temp_const.v-35)/2);0>JSCompiler_temp_const.chainId&&(JSCompiler_temp_const.chainId=0);JSCompiler_temp_const$jscomp$0=JSCompiler_temp_const.v-27;transaction=transaction.slice(0,6);0!==JSCompiler_temp_const.chainId&&(transaction.push(bytes_1.hexlify(JSCompiler_temp_const.chainId)),transaction.push("0x"),transaction.push("0x"),JSCompiler_temp_const$jscomp$0-=2*JSCompiler_temp_const.chainId+8);transaction=keccak256_1.keccak256(RLP.encode(transaction));
try{JSCompiler_temp_const.from=secp256k1_1.recoverAddress(transaction,{r:bytes_1.hexlify(JSCompiler_temp_const.r),s:bytes_1.hexlify(JSCompiler_temp_const.s),recoveryParam:JSCompiler_temp_const$jscomp$0})}catch(error$6){errors.info(error$6)}JSCompiler_temp_const.hash=keccak256_1.keccak256(rawTransaction)}return JSCompiler_temp_const};exports.populateTransaction=function(transaction,provider,from){abstract_provider_1.Provider.isProvider(provider)||errors.throwError("missing provider",errors.INVALID_ARGUMENT,
{argument:"provider",value:provider});properties_1.checkProperties(transaction,allowedTransactionKeys);transaction=properties_1.shallowCopy(transaction);null!=transaction.to&&(transaction.to=provider.resolveName(transaction.to));null==transaction.gasPrice&&(transaction.gasPrice=provider.getGasPrice());null==transaction.nonce&&(transaction.nonce=provider.getTransactionCount(from));if(null==transaction.gasLimit){var estimate=properties_1.shallowCopy(transaction);estimate.from=from;transaction.gasLimit=
provider.estimateGas(estimate)}null==transaction.chainId&&(transaction.chainId=provider.getNetwork().then(function(network){return network.chainId}));return properties_1.resolveProperties(transaction)}},{"../constants":3,"../errors":5,"../providers/abstract-provider":50,"./address":60,"./bignumber":63,"./bytes":64,"./keccak256":71,"./properties":74,"./rlp":76,"./secp256k1":77}],84:[function(require,module,exports){function getUnitInfo(name){var info=unitInfos[String(name).toLowerCase()];if(!info&&
"number"===typeof name&&parseInt(String(name))==name&&0<=name&&256>=name){info="1";for(var i=0;i<name;i++)info+="0";info={decimals:info.length-1,tenPower:bignumber_1.bigNumberify(info)}}info||errors.throwError("invalid unitType",errors.INVALID_ARGUMENT,{argument:"name",value:name});return info}function formatUnits(value,unitType){unitType=getUnitInfo(unitType);value=bignumber_1.bigNumberify(value);var negative=value.lt(constants_1.Zero);negative&&(value=value.mul(constants_1.NegativeOne));for(var fraction=
value.mod(unitType.tenPower).toString();fraction.length<unitType.decimals;)fraction="0"+fraction;fraction=fraction.match(/^([0-9]*[1-9]|0)(0*)/)[1];value=value.div(unitType.tenPower).toString()+"."+fraction;negative&&(value="-"+value);return value}function parseUnits(value,unitType){null==unitType&&(unitType=18);var unitInfo=getUnitInfo(unitType);"string"===typeof value&&value.match(/^-?[0-9.,]+$/)||errors.throwError("invalid decimal value",errors.INVALID_ARGUMENT,{arg:"value",value:value});if(0===
unitInfo.decimals)return bignumber_1.bigNumberify(value);(unitType="-"===value.substring(0,1))&&(value=value.substring(1));"."===value&&errors.throwError("missing value",errors.INVALID_ARGUMENT,{arg:"value",value:value});var comps=value.split(".");2<comps.length&&errors.throwError("too many decimal points",errors.INVALID_ARGUMENT,{arg:"value",value:value});value=comps[0];comps=comps[1];value||(value="0");comps||(comps="0");for(comps.length>unitInfo.decimals&&errors.throwError("underflow occurred",
errors.NUMERIC_FAULT,{operation:"division",fault:"underflow"});comps.length<unitInfo.decimals;)comps+="0";value=bignumber_1.bigNumberify(value);comps=bignumber_1.bigNumberify(comps);unitInfo=value.mul(unitInfo.tenPower).add(comps);unitType&&(unitInfo=unitInfo.mul(constants_1.NegativeOne));return unitInfo}module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=
mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var constants_1=require("../constants"),errors=module(require("../errors")),bignumber_1=require("./bignumber"),names="wei kwei Mwei Gwei szabo finney ether".split(" "),unitInfos={};(function(){var value="1";names.forEach(function(name){var info={decimals:value.length-1,tenPower:bignumber_1.bigNumberify(value)};unitInfos[name.toLowerCase()]=info;unitInfos[String(info.decimals)]=info;value+="000"})})();exports.commify=function(value){var comps=
String(value).split(".");(2<comps.length||!comps[0].match(/^-?[0-9]*$/)||comps[1]&&!comps[1].match(/^[0-9]*$/)||"."===value||"-."===value)&&errors.throwError("invalid value",errors.INVALID_ARGUMENT,{argument:"value",value:value});value=comps[0];var negative="";"-"===value.substring(0,1)&&(negative="-",value=value.substring(1));for(;"0"===value.substring(0,1);)value=value.substring(1);""===value&&(value="0");var suffix="";2===comps.length&&(suffix="."+(comps[1]||"0"));for(comps=[];value.length;)if(3>=
value.length){comps.unshift(value);break}else{var index=value.length-3;comps.unshift(value.substring(index));value=value.substring(0,index)}return negative+comps.join(",")+suffix};exports.formatUnits=formatUnits;exports.parseUnits=parseUnits;exports.formatEther=function(wei){return formatUnits(wei,18)};exports.parseEther=function(ether){return parseUnits(ether,18)}},{"../constants":3,"../errors":5,"./bignumber":63}],85:[function(require,module,exports){function toUtf8Bytes(str,form){void 0===form&&
(form=UnicodeNormalizationForm.current);form!=UnicodeNormalizationForm.current&&(errors_1.checkNormalize(),str=str.normalize(form));form=[];for(var i=0;i<str.length;i++){var c=str.charCodeAt(i);if(128>c)form.push(c);else{if(2048>c)form.push(c>>6|192);else{if(55296==(c&64512)){i++;var c2=str.charCodeAt(i);if(i>=str.length||56320!==(c2&64512))throw Error("invalid utf-8 string");c=65536+((c&1023)<<10)+(c2&1023);form.push(c>>18|240);form.push(c>>12&63|128)}else form.push(c>>12|224);form.push(c>>6&63|
128)}form.push(c&63|128)}}return bytes_1.arrayify(form)}function toUtf8String(bytes,ignoreErrors){bytes=bytes_1.arrayify(bytes);for(var result="",i=0;i<bytes.length;){var c=bytes[i++];if(0===c>>7)result+=String.fromCharCode(c);else{if(192===(c&224)){var extraLength=1;var overlongMask=127}else if(224===(c&240))extraLength=2,overlongMask=2047;else if(240===(c&248))extraLength=3,overlongMask=65535;else{if(!ignoreErrors){if(128===(c&192))throw Error("invalid utf8 byte sequence; unexpected continuation byte");
throw Error("invalid utf8 byte sequence; invalid prefix");}continue}if(i+extraLength>bytes.length){if(!ignoreErrors)throw Error("invalid utf8 byte sequence; too short");for(;i<bytes.length&&2===bytes[i]>>6;i++);}else{c&=(1<<8-extraLength-1)-1;for(var j=0;j<extraLength;j++){var nextChar=bytes[i];if(128!=(nextChar&192)){c=null;break}c=c<<6|nextChar&63;i++}if(null===c){if(!ignoreErrors)throw Error("invalid utf8 byte sequence; invalid continuation byte");}else if(c<=overlongMask){if(!ignoreErrors)throw Error("invalid utf8 byte sequence; overlong");
}else if(1114111<c){if(!ignoreErrors)throw Error("invalid utf8 byte sequence; out-of-range");}else if(55296<=c&&57343>=c){if(!ignoreErrors)throw Error("invalid utf8 byte sequence; utf-16 surrogate");}else 65535>=c?result+=String.fromCharCode(c):(c-=65536,result+=String.fromCharCode((c>>10&1023)+55296,(c&1023)+56320))}}}return result}Object.defineProperty(exports,"__esModule",{value:!0});var constants_1=require("../constants"),errors_1=require("../errors"),bytes_1=require("./bytes"),UnicodeNormalizationForm;
(function(UnicodeNormalizationForm){UnicodeNormalizationForm.current="";UnicodeNormalizationForm.NFC="NFC";UnicodeNormalizationForm.NFD="NFD";UnicodeNormalizationForm.NFKC="NFKC";UnicodeNormalizationForm.NFKD="NFKD"})(UnicodeNormalizationForm=exports.UnicodeNormalizationForm||(exports.UnicodeNormalizationForm={}));exports.toUtf8Bytes=toUtf8Bytes;exports.toUtf8String=toUtf8String;exports.formatBytes32String=function(text){text=toUtf8Bytes(text);if(31<text.length)throw Error("bytes32 string must be less than 32 bytes");
return bytes_1.hexlify(bytes_1.concat([text,constants_1.HashZero]).slice(0,32))};exports.parseBytes32String=function(bytes){bytes=bytes_1.arrayify(bytes);if(32!==bytes.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==bytes[31])throw Error("invalid bytes32 string - no null terminator");for(var length=31;0===bytes[length-1];)length--;return toUtf8String(bytes.slice(0,length))}},{"../constants":3,"../errors":5,"./bytes":64}],86:[function(require,module,exports){module=this&&this.__importStar||
function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var xmlhttprequest_1=require("xmlhttprequest"),base64_1=require("./base64"),properties_1=require("./properties"),utf8_1=require("./utf8"),errors=module(require("../errors"));exports.fetchJson=function(connection,json,processFunc){var headers={},url=null,timeout=12E4;
if("string"===typeof connection)url=connection;else if("object"===typeof connection){null==connection.url&&errors.throwError("missing URL",errors.MISSING_ARGUMENT,{arg:"url"});url=connection.url;"number"===typeof connection.timeout&&0<connection.timeout&&(timeout=connection.timeout);if(connection.headers)for(var key$jscomp$0 in connection.headers)headers[key$jscomp$0.toLowerCase()]={key:key$jscomp$0,value:String(connection.headers[key$jscomp$0])};null!=connection.user&&null!=connection.password&&
("https:"!==url.substring(0,6)&&!0!==connection.allowInsecure&&errors.throwError("basic authentication requires a secure https url",errors.INVALID_ARGUMENT,{arg:"url",url:url,user:connection.user,password:"[REDACTED]"}),headers.authorization={key:"Authorization",value:"Basic "+base64_1.encode(utf8_1.toUtf8Bytes(connection.user+":"+connection.password))})}return new Promise(function(resolve,reject){var request=new xmlhttprequest_1.XMLHttpRequest,timer=null;timer=setTimeout(function(){null!=timer&&
(timer=null,reject(Error("timeout")),setTimeout(function(){request.abort()},0))},timeout);var cancelTimeout=function(){null!=timer&&(clearTimeout(timer),timer=null)};json?(request.open("POST",url,!0),headers["content-type"]={key:"Content-Type",value:"application/json"}):request.open("GET",url,!0);Object.keys(headers).forEach(function(key){key=headers[key];request.setRequestHeader(key.key,key.value)});request.onreadystatechange=function(){if(4===request.readyState)if(200!=request.status){cancelTimeout();
var error=Error("invalid response - "+request.status);error.statusCode=request.status;request.responseText&&(error.responseText=request.responseText);reject(error)}else{error=null;try{error=JSON.parse(request.responseText)}catch(error$7){cancelTimeout();error=Error("invalid json response");error.orginialError=error$7;error.responseText=request.responseText;null!=json&&(error.requestBody=json);error.url=url;reject(error);return}if(processFunc)try{error=processFunc(error)}catch(error$8){cancelTimeout();
error$8.url=url;error$8.body=json;error$8.responseText=request.responseText;reject(error$8);return}cancelTimeout();resolve(error)}};request.onerror=function(error){cancelTimeout();reject(error)};try{null!=json?request.send(json):request.send()}catch(error){cancelTimeout();var connectionError=Error("connection error");connectionError.error=error;reject(connectionError)}})};exports.poll=function(func,options){options||(options={});options=properties_1.shallowCopy(options);null==options.floor&&(options.floor=
0);null==options.ceiling&&(options.ceiling=1E4);null==options.interval&&(options.interval=250);return new Promise(function(resolve,reject){function check(){return func().then(function(result){if(void 0!==result)cancel()&&resolve(result);else if(options.onceBlock)options.onceBlock.once("block",check);else done||(attempt++,result=options.interval*parseInt(String(Math.random()*Math.pow(2,attempt))),result<options.floor&&(result=options.floor),result>options.ceiling&&(result=options.ceiling),fastTimeout&&
(attempt--,result=fastTimeout,fastTimeout=null),setTimeout(check,result));return null},function(error){cancel()&&reject(error)})}var timer=null,done=!1,cancel=function(){if(done)return!1;done=!0;timer&&clearTimeout(timer);return!0};options.timeout&&(timer=setTimeout(function(){cancel()&&reject(Error("timeout"))},options.timeout));var fastTimeout=options.fastRetry||null,attempt=0;check()})}},{"../errors":5,"./base64":61,"./properties":74,"./utf8":85,xmlhttprequest:49}],87:[function(require,module,
exports){(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var hash_1=require("../utils/hash"),properties_1=require("../utils/properties");exports.check=function(wordlist){for(var words=[],i=0;2048>i;i++){var word=wordlist.getWord(i);if(i!==wordlist.getWordIndex(word))return"0x";words.push(word)}return hash_1.id(words.join("\n")+"\n")};global=function(){function Wordlist(locale){properties_1.defineReadOnly(this,"locale",locale)}Wordlist.prototype.split=function(mnemonic){return mnemonic.toLowerCase().split(/ +/g)};
Wordlist.prototype.join=function(words){return words.join(" ")};return Wordlist}();exports.Wordlist=global;exports.register=function(lang,name){}}).call(this,"undefined"!==typeof global$jscomp$2?global$jscomp$2:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../utils/hash":65,"../utils/properties":74}],88:[function(require,module,exports){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=
b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();module=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:!0});var bytes_1=require("./utils/bytes"),
hash_1=require("./utils/hash"),hdnode_1=require("./utils/hdnode"),json_wallet_1=require("./utils/json-wallet"),keccak256_1=require("./utils/keccak256"),properties_1=require("./utils/properties"),random_bytes_1=require("./utils/random-bytes"),secretStorage=module(require("./utils/secret-storage")),signing_key_1=require("./utils/signing-key"),transaction_1=require("./utils/transaction"),abstract_signer_1=require("./abstract-signer"),abstract_provider_1=require("./providers/abstract-provider"),errors=
module(require("./errors"));require=function(_super){function Wallet(privateKey,provider){var _this=_super.call(this)||this;errors.checkNew(_this,Wallet);signing_key_1.SigningKey.isSigningKey(privateKey)?properties_1.defineReadOnly(_this,"signingKey",privateKey):properties_1.defineReadOnly(_this,"signingKey",new signing_key_1.SigningKey(privateKey));properties_1.defineReadOnly(_this,"provider",provider);return _this}__extends(Wallet,_super);Object.defineProperty(Wallet.prototype,"address",{get:function(){return this.signingKey.address},
enumerable:!0,configurable:!0});Object.defineProperty(Wallet.prototype,"mnemonic",{get:function(){return this.signingKey.mnemonic},enumerable:!0,configurable:!0});Object.defineProperty(Wallet.prototype,"path",{get:function(){return this.signingKey.path},enumerable:!0,configurable:!0});Object.defineProperty(Wallet.prototype,"privateKey",{get:function(){return this.signingKey.privateKey},enumerable:!0,configurable:!0});Wallet.prototype.connect=function(provider){abstract_provider_1.Provider.isProvider(provider)||
errors.throwError("invalid provider",errors.INVALID_ARGUMENT,{argument:"provider",value:provider});return new Wallet(this.signingKey,provider)};Wallet.prototype.getAddress=function(){return Promise.resolve(this.address)};Wallet.prototype.sign=function(transaction){var _this=this;return properties_1.resolveProperties(transaction).then(function(tx){var rawTx=transaction_1.serialize(tx);rawTx=_this.signingKey.signDigest(keccak256_1.keccak256(rawTx));return transaction_1.serialize(tx,rawTx)})};Wallet.prototype.signMessage=
function(message){return Promise.resolve(bytes_1.joinSignature(this.signingKey.signDigest(hash_1.hashMessage(message))))};Wallet.prototype.getBalance=function(blockTag){if(!this.provider)throw Error("missing provider");return this.provider.getBalance(this.address,blockTag)};Wallet.prototype.getTransactionCount=function(blockTag){if(!this.provider)throw Error("missing provider");return this.provider.getTransactionCount(this.address,blockTag)};Wallet.prototype.sendTransaction=function(transaction){var _this=
this;if(!this.provider)throw Error("missing provider");null==transaction.nonce&&(transaction=properties_1.shallowCopy(transaction),transaction.nonce=this.getTransactionCount("pending"));return transaction_1.populateTransaction(transaction,this.provider,this.address).then(function(tx){return _this.sign(tx).then(function(signedTransaction){return _this.provider.sendTransaction(signedTransaction)})})};Wallet.prototype.encrypt=function(password,options,progressCallback){"function"!==typeof options||progressCallback||
(progressCallback=options,options={});if(progressCallback&&"function"!==typeof progressCallback)throw Error("invalid callback");options||(options={});this.mnemonic&&(options=properties_1.shallowCopy(options),options.mnemonic=this.mnemonic,options.path=this.path);return secretStorage.encrypt(this.privateKey,password,options,progressCallback)};Wallet.createRandom=function(options){var entropy=random_bytes_1.randomBytes(16);options||(options={});options.extraEntropy&&(entropy=bytes_1.arrayify(keccak256_1.keccak256(bytes_1.concat([entropy,
options.extraEntropy])).substring(0,34)));entropy=hdnode_1.entropyToMnemonic(entropy,options.locale);return Wallet.fromMnemonic(entropy,options.path,options.locale)};Wallet.fromEncryptedJson=function(json,password,progressCallback){if(json_wallet_1.isCrowdsaleWallet(json))try{progressCallback&&progressCallback(0);var privateKey=secretStorage.decryptCrowdsale(json,password);progressCallback&&progressCallback(1);return Promise.resolve(new Wallet(privateKey))}catch(error){return Promise.reject(error)}else if(json_wallet_1.isSecretStorageWallet(json))return secretStorage.decrypt(json,
password,progressCallback).then(function(signingKey){return new Wallet(signingKey)});return Promise.reject("invalid wallet JSON")};Wallet.fromMnemonic=function(mnemonic,path,wordlist){path||(path=hdnode_1.defaultPath);return new Wallet(hdnode_1.fromMnemonic(mnemonic,wordlist).derivePath(path))};return Wallet}(abstract_signer_1.Signer);exports.Wallet=require},{"./abstract-signer":2,"./errors":5,"./providers/abstract-provider":50,"./utils/bytes":64,"./utils/hash":65,"./utils/hdnode":66,"./utils/json-wallet":70,
"./utils/keccak256":71,"./utils/properties":74,"./utils/random-bytes":75,"./utils/secret-storage":78,"./utils/signing-key":81,"./utils/transaction":83}],89:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});require=require("../wordlists/lang-en").langEn;exports.en=require},{"../wordlists/lang-en":90}],90:[function(require,module,exports){function loadWords(lang){if(null==wordlist&&(wordlist="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g,
" $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==wordlist_1.check(lang)))throw wordlist=null,Error("BIP39 Wordlist for en (English) FAILED");}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=
null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wordlist_1=require("../utils/wordlist"),wordlist=null;require=new (function(_super){function LangEn(){return _super.call(this,"en")||this}__extends(LangEn,_super);LangEn.prototype.getWord=function(index){loadWords(this);return wordlist[index]};LangEn.prototype.getWordIndex=function(word){loadWords(this);return wordlist.indexOf(word)};return LangEn}(wordlist_1.Wordlist));exports.langEn=
require;wordlist_1.register(require)},{"../utils/wordlist":87}]},{},[7])(7)})}
//# sourceMappingURL=module$node_modules$ethers$dist$ethers.js.map
