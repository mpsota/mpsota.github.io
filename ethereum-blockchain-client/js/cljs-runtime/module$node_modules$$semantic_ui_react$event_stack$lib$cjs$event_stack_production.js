shadow$provide.module$node_modules$$semantic_ui_react$event_stack$lib$cjs$event_stack_production=function(global,require,module,exports){function _typeof(e$jscomp$0){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e$jscomp$0)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");
}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e$jscomp$0){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e$jscomp$0)}function _setPrototypeOf(e$jscomp$0,t$jscomp$0){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e$jscomp$0,t$jscomp$0)}function cloneMap(e$jscomp$0){var t=new Map;return e$jscomp$0.forEach(function(e,
n){t.set(n,e)}),t}function normalizeHandlers(e){return Array.isArray(e)?e:[e]}function normalizeTarget(e){return"document"===e?document:"window"===e?window:null!==e&&"object"===_typeof(e)&&e.hasOwnProperty("current")?e.current||document:e||document}Object.defineProperty(exports,"__esModule",{value:!0});var env=require("module$node_modules$exenv$index");require("module$node_modules$prop_types$index");var React=require("module$node_modules$react$index"),EventSet=function(){function e$jscomp$0(t){_classCallCheck(this,
e$jscomp$0);_defineProperty(this,"handlers",void 0);this.handlers=t.slice(0)}return _createClass(e$jscomp$0,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,o=0;o<r;o+=1)n.push(t[o]);return new e$jscomp$0(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(t=n;0<=t;--t)this.handlers[t].called||(this.handlers[t].called=!0,this.handlers[t](e));for(e=n;0<=e;--e)this.handlers[e].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",
value:function(){return 0<this.handlers.length}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,o=0;o<r;o+=1){var a=this.handlers[o];-1===t.indexOf(a)&&n.push(a)}return new e$jscomp$0(n)}}]),e$jscomp$0}(),EventPool=function(){function e$jscomp$0(t,n){_classCallCheck(this,e$jscomp$0);_defineProperty(this,"handlerSets",void 0);_defineProperty(this,"poolName",void 0);this.handlerSets=n;this.poolName=t}return _createClass(e$jscomp$0,[{key:"addHandlers",value:function(t,n){var r=
cloneMap(this.handlerSets);if(r.has(t)){var o=r.get(t);r.set(t,o.addHandlers(n))}else r.set(t,new EventSet(n));return new e$jscomp$0(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){e=this.handlerSets.get(e);var r="default"===this.poolName;e&&e.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return 0<this.handlerSets.size;e=this.handlerSets.get(e);return!!e&&e.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=cloneMap(this.handlerSets);if(!r.has(t))return new e$jscomp$0(this.poolName,
r);n=r.get(t).removeHandlers(n);return n.hasHandlers()?r.set(t,n):r.delete(t),new e$jscomp$0(this.poolName,r)}}]),e$jscomp$0}();_defineProperty(EventPool,"createByType",function(e,t,n){var r=new Map;return r.set(t,new EventSet(n)),new EventPool(e,r)});var EventTarget=function(){function e$jscomp$1(t$jscomp$0){var n$jscomp$0=this;_classCallCheck(this,e$jscomp$1);_defineProperty(this,"handlers",new Map);_defineProperty(this,"pools",new Map);_defineProperty(this,"target",void 0);_defineProperty(this,
"createEmitter",function(e){return function(t){n$jscomp$0.pools.forEach(function(n){n.dispatchEvent(e,t)})}});this.target=t$jscomp$0}return _createClass(e$jscomp$1,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,EventPool.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return 0<this.handlers.size}},{key:"removeHandlers",value:function(e$jscomp$0,
t,n){if(this.pools.has(e$jscomp$0)){n=this.pools.get(e$jscomp$0).removeHandlers(t,n);n.hasHandlers()?this.pools.set(e$jscomp$0,n):this.pools.delete(e$jscomp$0);var o=!1;this.pools.forEach(function(e){return o=o||e.hasHandlers(t)});o||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t);this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),
!0),this.handlers.delete(e))}}]),e$jscomp$1}(),instance=new (function(){function e$jscomp$0(){var t=this;_classCallCheck(this,e$jscomp$0);_defineProperty(this,"targets",new Map);_defineProperty(this,"getTarget",function(e){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=normalizeTarget(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;n=new EventTarget(r);return t.targets.set(r,n),n});_defineProperty(this,"removeTarget",function(e){t.targets.delete(normalizeTarget(e))})}
return _createClass(e$jscomp$0,[{key:"sub",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(env.canUseDOM){var r=n.target;n=n.pool;n=void 0===n?"default":n;this.getTarget(void 0===r?document:r).addHandlers(n,e,normalizeHandlers(t))}}},{key:"unsub",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(env.canUseDOM){var r=n.target;r=void 0===r?document:r;n=n.pool;n=void 0===n?"default":n;var i=this.getTarget(r,!1);i&&(i.removeHandlers(n,
e,normalizeHandlers(t)),i.hasHandlers()||this.removeTarget(r))}}}]),e$jscomp$0}());global=function(e$jscomp$0){function t$jscomp$0(){_classCallCheck(this,t$jscomp$0);var t=_getPrototypeOf(t$jscomp$0).apply(this,arguments);if(!t||"object"!=typeof t&&"function"!=typeof t){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");t=this}return t}return _inherits(t$jscomp$0,React.PureComponent),_createClass(t$jscomp$0,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},
{key:"componentDidUpdate",value:function(e){this.unsubscribe(e);this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){instance.sub(e.name,e.on,{pool:e.pool,target:e.target})}},{key:"unsubscribe",value:function(e){instance.unsub(e.name,e.on,{pool:e.pool,target:e.target})}},{key:"render",value:function(){return null}}]),t$jscomp$0}();_defineProperty(global,"defaultProps",{pool:"default",target:"document"});global.propTypes=
{};exports.instance=instance;exports.default=global}
//# sourceMappingURL=module$node_modules$$semantic_ui_react$event_stack$lib$cjs$event_stack_production.js.map
