shadow$provide.module$node_modules$semantic_ui_react$dist$commonjs$behaviors$Visibility$Visibility=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_objectSpread2=module(require("module$node_modules$$babel$runtime$helpers$objectSpread")),
_classCallCheck2=module(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=module(require("module$node_modules$$babel$runtime$helpers$createClass")),_possibleConstructorReturn2=module(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),_getPrototypeOf3=module(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_assertThisInitialized2=module(require("module$node_modules$$babel$runtime$helpers$assertThisInitialized")),_inherits2=
module(require("module$node_modules$$babel$runtime$helpers$inherits")),_defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_invoke2=module(require("module$node_modules$lodash$invoke")),_forEach2=module(require("module$node_modules$lodash$forEach")),_without2=module(require("module$node_modules$lodash$without")),_includes2=module(require("module$node_modules$lodash$includes")),_reactComponentRef=require("module$node_modules$$stardust_ui$react_component_ref$dist$commonjs$index");
module=module(require("module$node_modules$prop_types$index"));var _react=global(require("module$node_modules$react$index")),_lib=require("module$node_modules$semantic_ui_react$dist$commonjs$lib$index");require=function(_Component){function Visibility(){var _getPrototypeOf2;(0,_classCallCheck2["default"])(this,Visibility);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=(0,_possibleConstructorReturn2["default"])(this,(_getPrototypeOf2=(0,
_getPrototypeOf3["default"])(Visibility)).call.apply(_getPrototypeOf2,[this].concat(args)));(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"calculations",{bottomPassed:!1,bottomVisible:!1,fits:!1,passing:!1,offScreen:!1,onScreen:!1,topPassed:!1,topVisible:!1});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"firedCallbacks",[]);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"ref",(0,_react.createRef)());(0,
_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"fire",function(_ref,value){var callback=_ref.callback,name=_ref.name,_this$props=_this.props,once=_this$props.once;_this$props=_this$props.continuous||_this.calculations[value]!==_this.oldCalculations[value];_this.calculations[value]!==(2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1)&&_this$props&&_this.execute(callback,name);once||(_this.firedCallbacks=(0,_without2["default"])(_this.firedCallbacks,name))});(0,
_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleUpdate",function(){_this.ticking||(_this.ticking=!0,_this.frameId=requestAnimationFrame(_this.update))});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"update",function(){if(_this.mounted){_this.ticking=!1;_this.oldCalculations=_this.calculations;_this.calculations=_this.computeCalculations();_this.pageYOffset=_this.getPageYOffset();var _this$props2=_this.props,updateOn=_this$props2.updateOn,
forward={bottomPassed:{callback:_this$props2.onBottomPassed,name:"onBottomPassed"},bottomVisible:{callback:_this$props2.onBottomVisible,name:"onBottomVisible"},passing:{callback:_this$props2.onPassing,name:"onPassing"},offScreen:{callback:_this$props2.onOffScreen,name:"onOffScreen"},onScreen:{callback:_this$props2.onOnScreen,name:"onOnScreen"},topPassed:{callback:_this$props2.onTopPassed,name:"onTopPassed"},topVisible:{callback:_this$props2.onTopVisible,name:"onTopVisible"}};_this$props2={bottomPassed:{callback:_this$props2.onBottomPassedReverse,
name:"onBottomPassedReverse"},bottomVisible:{callback:_this$props2.onBottomVisibleReverse,name:"onBottomVisibleReverse"},passing:{callback:_this$props2.onPassingReverse,name:"onPassingReverse"},topPassed:{callback:_this$props2.onTopPassedReverse,name:"onTopPassedReverse"},topVisible:{callback:_this$props2.onTopVisibleReverse,name:"onTopVisibleReverse"}};(0,_invoke2["default"])(_this.props,"onUpdate",null,(0,_objectSpread2["default"])({},_this.props,{calculations:_this.calculations}));_this.fireOnPassed();
(0,_forEach2["default"])(_this$props2,function(data,value){return _this.fire(data,value,!0)});(0,_forEach2["default"])(forward,function(data,value){return _this.fire(data,value)});"repaint"===updateOn&&_this.handleUpdate()}});return _this}(0,_inherits2["default"])(Visibility,_Component);(0,_createClass2["default"])(Visibility,[{key:"UNSAFE_componentWillReceiveProps",value:function(_ref2){var once=_ref2.once,context=_ref2.context,updateOn=_ref2.updateOn;if(_ref2.continuous!==this.props.continuous||
once!==this.props.once||updateOn!==this.props.updateOn)this.firedCallbacks=[];if(context!==this.props.context||updateOn!==this.props.updateOn)this.unattachHandlers(this.props.context),this.attachHandlers(context,updateOn)}},{key:"componentDidMount",value:function(){this.mounted=!0;if((0,_lib.isBrowser)()){var _this$props3=this.props,context=_this$props3.context,fireOnMount=_this$props3.fireOnMount;_this$props3=_this$props3.updateOn;this.pageYOffset=this.getPageYOffset();this.attachHandlers(context,
_this$props3);fireOnMount&&this.update()}}},{key:"componentWillUnmount",value:function(){this.unattachHandlers(this.props.context);this.mounted=!1}},{key:"attachHandlers",value:function(context,updateOn){"events"===updateOn?context&&(_lib.eventStack.sub("resize",this.handleUpdate,{target:context}),_lib.eventStack.sub("scroll",this.handleUpdate,{target:context})):this.handleUpdate()}},{key:"unattachHandlers",value:function(context){context&&(_lib.eventStack.unsub("resize",this.handleUpdate,{target:context}),
_lib.eventStack.unsub("scroll",this.handleUpdate,{target:context}));this.frameId&&cancelAnimationFrame(this.frameId)}},{key:"execute",value:function(callback,name){!callback||!this.props.continuous&&(0,_includes2["default"])(this.firedCallbacks,name)||(callback(null,(0,_objectSpread2["default"])({},this.props,{calculations:this.calculations})),this.firedCallbacks.push(name))}},{key:"fireOnPassed",value:function(){var _this2=this,_this$calculations=this.calculations,percentagePassed=_this$calculations.percentagePassed,
pixelsPassed=_this$calculations.pixelsPassed;_this$calculations=this.props.onPassed;(0,_forEach2["default"])(_this$calculations,function(callback,passed){var pixelsValue=Number(passed);pixelsValue&&pixelsPassed>=pixelsValue?_this2.execute(callback,passed):(pixelsValue="".concat(passed).match(/^(\d+)%$/))&&percentagePassed>=Number(pixelsValue[1])/100&&_this2.execute(callback,passed)})}},{key:"computeCalculations",value:function(){var offset=this.props.offset,_this$ref$current$get=this.ref.current.getBoundingClientRect(),
bottom=_this$ref$current$get.bottom,height=_this$ref$current$get.height,top=_this$ref$current$get.top;_this$ref$current$get=_this$ref$current$get.width;offset=(0,_lib.normalizeOffset)(offset);offset=(0,_slicedToArray2["default"])(offset,2);var topOffset=offset[0],bottomOffset=offset[1];offset=this.getPageYOffset()>this.pageYOffset?"down":"up";var topPassed=top<topOffset,bottomPassed=bottom<bottomOffset,pixelsPassed=bottomPassed?0:Math.max(-1*top,0);bottom=bottom>=bottomOffset&&bottom<=window.innerHeight;
topOffset=((top=top>=topOffset&&top<=window.innerHeight)||topPassed)&&!bottomPassed;return{bottomPassed:bottomPassed,bottomVisible:bottom,direction:offset,fits:top&&bottom,height:height,passing:topPassed&&!bottomPassed,percentagePassed:pixelsPassed/height,pixelsPassed:pixelsPassed,offScreen:!topOffset,onScreen:topOffset,topPassed:topPassed,topVisible:top,width:_this$ref$current$get}}},{key:"getPageYOffset",value:function(){var context=this.props.context;return context?context===window?window.pageYOffset:
context.scrollTop:0}},{key:"render",value:function(){var children=this.props.children,ElementType=(0,_lib.getElementType)(Visibility,this.props),rest=(0,_lib.getUnhandledProps)(Visibility,this.props);return _react["default"].createElement(_reactComponentRef.Ref,{innerRef:this.ref},_react["default"].createElement(ElementType,rest,children))}}]);return Visibility}(_react.Component);exports["default"]=require;(0,_defineProperty2["default"])(require,"defaultProps",{context:(0,_lib.isBrowser)()?window:
null,continuous:!1,offset:[0,0],once:!0,updateOn:"events"});(0,_defineProperty2["default"])(require,"handledProps","as children context continuous fireOnMount offset onBottomPassed onBottomPassedReverse onBottomVisible onBottomVisibleReverse onOffScreen onOnScreen onPassed onPassing onPassingReverse onTopPassed onTopPassedReverse onTopVisible onTopVisibleReverse onUpdate once updateOn".split(" "));require.propTypes={as:module["default"].elementType,children:module["default"].node,context:module["default"].object,
continuous:module["default"].bool,fireOnMount:module["default"].bool,onBottomPassed:module["default"].func,onBottomPassedReverse:module["default"].func,onBottomVisible:module["default"].func,onBottomVisibleReverse:module["default"].func,offset:module["default"].oneOfType([module["default"].number,module["default"].string,module["default"].arrayOf(module["default"].oneOfType([module["default"].number,module["default"].string]))]),once:module["default"].bool,onPassed:module["default"].object,onPassing:module["default"].func,
onPassingReverse:module["default"].func,onOffScreen:module["default"].func,onOnScreen:module["default"].func,onTopPassed:module["default"].func,onTopPassedReverse:module["default"].func,onTopVisible:module["default"].func,onTopVisibleReverse:module["default"].func,onUpdate:module["default"].func,updateOn:module["default"].oneOf(["events","repaint"])}}
//# sourceMappingURL=module$node_modules$semantic_ui_react$dist$commonjs$behaviors$Visibility$Visibility.js.map
