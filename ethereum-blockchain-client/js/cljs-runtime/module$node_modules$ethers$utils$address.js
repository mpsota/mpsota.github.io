shadow$provide.module$node_modules$ethers$utils$address=function(global,require,module,exports){function getChecksumAddress(address){"string"===typeof address&&address.match(/^0x[0-9A-Fa-f]{40}$/)||errors.throwError("invalid address",errors.INVALID_ARGUMENT,{arg:"address",value:address});address=address.toLowerCase();address=address.substring(2).split("");for(var hashed=new Uint8Array(40),i_1=0;40>i_1;i_1++)hashed[i_1]=address[i_1].charCodeAt(0);hashed=bytes_1.arrayify(keccak256_1.keccak256(hashed));
for(i_1=0;40>i_1;i_1+=2)8<=hashed[i_1>>1]>>4&&(address[i_1]=address[i_1].toUpperCase()),8<=(hashed[i_1>>1]&15)&&(address[i_1+1]=address[i_1+1].toUpperCase());return"0x"+address.join("")}function ibanChecksum(address){address=address.toUpperCase();address=address.substring(4)+address.substring(0,2)+"00";var expanded="";for(address.split("").forEach(function(c){expanded+=ibanLookup[c]});expanded.length>=safeDigits;)address=expanded.substring(0,safeDigits),expanded=parseInt(address,10)%97+expanded.substring(address.length);
for(address=String(98-parseInt(expanded,10)%97);2>address.length;)address="0"+address;return address}function getAddress(address){var result=null;"string"!==typeof address&&errors.throwError("invalid address",errors.INVALID_ARGUMENT,{arg:"address",value:address});if(address.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==address.substring(0,2)&&(address="0x"+address),result=getChecksumAddress(address),address.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&result!==address&&errors.throwError("bad address checksum",
errors.INVALID_ARGUMENT,{arg:"address",value:address});else if(address.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){address.substring(2,4)!==ibanChecksum(address)&&errors.throwError("bad icap checksum",errors.INVALID_ARGUMENT,{arg:"address",value:address});for(result=(new bn_js_1.default.BN(address.substring(4),36)).toString(16);40>result.length;)result="0"+result;result=getChecksumAddress("0x"+result)}else errors.throwError("invalid address",errors.INVALID_ARGUMENT,{arg:"address",value:address});return result}
global=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});var bn_js_1=global(require("module$node_modules$bn_DOT_js$lib$bn")),bytes_1=require("module$node_modules$ethers$utils$bytes"),keccak256_1=require("module$node_modules$ethers$utils$keccak256"),rlp_1=require("module$node_modules$ethers$utils$rlp"),errors=require("module$node_modules$ethers$errors"),ibanLookup={};for(require=0;10>require;require++)ibanLookup[String(require)]=
String(require);for(require=0;26>require;require++)ibanLookup[String.fromCharCode(65+require)]=String(10+require);var safeDigits=Math.floor(Math.log10?Math.log10(9007199254740991):Math.log(9007199254740991)/Math.LN10);exports.getAddress=getAddress;exports.getIcapAddress=function(address){for(address=(new bn_js_1.default.BN(getAddress(address).substring(2),16)).toString(36).toUpperCase();30>address.length;)address="0"+address;return"XE"+ibanChecksum("XE00"+address)+address};exports.getContractAddress=
function(transaction){if(!transaction.from)throw Error("missing from address");var nonce=transaction.nonce;return getAddress("0x"+keccak256_1.keccak256(rlp_1.encode([getAddress(transaction.from),bytes_1.stripZeros(bytes_1.hexlify(nonce))])).substring(26))};exports.getCreate2Address=function(options){var initCodeHash=options.initCodeHash;options.initCode&&(initCodeHash?keccak256_1.keccak256(options.initCode)!==initCodeHash&&errors.throwError("initCode/initCodeHash mismatch",errors.INVALID_ARGUMENT,
{arg:"options",value:options}):initCodeHash=keccak256_1.keccak256(options.initCode));initCodeHash||errors.throwError("missing initCode or initCodeHash",errors.INVALID_ARGUMENT,{arg:"options",value:options});var from=getAddress(options.from),salt=bytes_1.arrayify(options.salt);32!==salt.length&&errors.throwError("invalid salt",errors.INVALID_ARGUMENT,{arg:"options",value:options});return getAddress("0x"+keccak256_1.keccak256(bytes_1.concat(["0xff",from,salt,initCodeHash])).substring(26))}}
//# sourceMappingURL=module$node_modules$ethers$utils$address.js.map
