shadow$provide.module$node_modules$semantic_ui_react$dist$commonjs$modules$Search$Search=function(global,require,module,exports){var _interopRequireDefault=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_extends2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$extends")),
_objectWithoutProperties2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),_objectSpread2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$objectSpread")),_classCallCheck2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$createClass")),_possibleConstructorReturn2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),
_assertThisInitialized2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$assertThisInitialized")),_getPrototypeOf3=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_get3=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$get")),_inherits2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$inherits")),_defineProperty2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$defineProperty")),
_isEmpty2=_interopRequireDefault(require("module$node_modules$lodash$isEmpty")),_partialRight2=_interopRequireDefault(require("module$node_modules$lodash$partialRight")),_inRange2=_interopRequireDefault(require("module$node_modules$lodash$inRange")),_map2=_interopRequireDefault(require("module$node_modules$lodash$map")),_get4=_interopRequireDefault(require("module$node_modules$lodash$get")),_reduce2=_interopRequireDefault(require("module$node_modules$lodash$reduce")),_invoke2=_interopRequireDefault(require("module$node_modules$lodash$invoke"));
global=_interopRequireDefault(require("module$node_modules$lodash$without"));var _classnames=_interopRequireDefault(require("module$node_modules$classnames$index")),_keyboardKey=_interopRequireDefault(require("module$node_modules$keyboard_key$src$keyboardKey"));module=_interopRequireDefault(require("module$node_modules$prop_types$index"));var _react=_interopRequireDefault(require("module$node_modules$react$index")),_shallowequal=_interopRequireDefault(require("module$node_modules$shallowequal$index")),
_lib=require("module$node_modules$semantic_ui_react$dist$commonjs$lib$index"),_Input=_interopRequireDefault(require("module$node_modules$semantic_ui_react$dist$commonjs$elements$Input$index")),_SearchCategory=_interopRequireDefault(require("module$node_modules$semantic_ui_react$dist$commonjs$modules$Search$SearchCategory")),_SearchResult=_interopRequireDefault(require("module$node_modules$semantic_ui_react$dist$commonjs$modules$Search$SearchResult")),_SearchResults=_interopRequireDefault(require("module$node_modules$semantic_ui_react$dist$commonjs$modules$Search$SearchResults"));
require=function(_Component){function Search(){var _getPrototypeOf2;(0,_classCallCheck2["default"])(this,Search);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=(0,_possibleConstructorReturn2["default"])(this,(_getPrototypeOf2=(0,_getPrototypeOf3["default"])(Search)).call.apply(_getPrototypeOf2,[this].concat(args)));(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleResultSelect",function(e,result){(0,_invoke2["default"])(_this.props,
"onResultSelect",e,(0,_objectSpread2["default"])({},_this.props,{result:result}))});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleSelectionChange",function(e){var result=_this.getSelectedResult();(0,_invoke2["default"])(_this.props,"onSelectionChange",e,(0,_objectSpread2["default"])({},_this.props,{result:result}))});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"closeOnEscape",function(e){_keyboardKey["default"].getCode(e)===
_keyboardKey["default"].Escape&&(e.preventDefault(),_this.close())});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"moveSelectionOnKeyDown",function(e){switch(_keyboardKey["default"].getCode(e)){case _keyboardKey["default"].ArrowDown:e.preventDefault();_this.moveSelectionBy(e,1);break;case _keyboardKey["default"].ArrowUp:e.preventDefault(),_this.moveSelectionBy(e,-1)}});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"selectItemOnEnter",
function(e){if(_keyboardKey["default"].getCode(e)===_keyboardKey["default"].Enter){var result=_this.getSelectedResult();result&&(e.preventDefault(),_this.setValue(result.title),_this.handleResultSelect(e,result),_this.close())}});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"closeOnDocumentClick",function(e){_this.close()});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleMouseDown",function(e){_this.isMouseDown=!0;(0,_invoke2["default"])(_this.props,
"onMouseDown",e,_this.props);_lib.eventStack.sub("mouseup",_this.handleDocumentMouseUp)});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleDocumentMouseUp",function(){_this.isMouseDown=!1;_lib.eventStack.unsub("mouseup",_this.handleDocumentMouseUp)});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleInputClick",function(e){e.nativeEvent.stopImmediatePropagation();_this.tryOpen()});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),
"handleItemClick",function(e,_ref){_ref=_this.getSelectedResult(_ref.id);e.nativeEvent.stopImmediatePropagation();_this.setValue(_ref.title);_this.handleResultSelect(e,_ref);_this.close()});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleItemMouseDown",function(e){e.preventDefault()});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleFocus",function(e){(0,_invoke2["default"])(_this.props,"onFocus",e,_this.props);_this.setState({focus:!0})});
(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleBlur",function(e){(0,_invoke2["default"])(_this.props,"onBlur",e,_this.props);_this.setState({focus:!1})});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleSearchChange",function(e){e.stopPropagation();var minCharacters=_this.props.minCharacters,open=_this.state.open,newQuery=e.target.value;(0,_invoke2["default"])(_this.props,"onSearchChange",e,(0,_objectSpread2["default"])({},
_this.props,{value:newQuery}));newQuery.length<minCharacters?_this.close():open||_this.tryOpen(newQuery);_this.setValue(newQuery)});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getFlattenedResults",function(){var _this$props=_this.props,results=_this$props.results;return _this$props.category?(0,_reduce2["default"])(results,function(memo,categoryData){return memo.concat(categoryData.results)},[]):results});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),
"getSelectedResult",function(){var index=0<arguments.length&&void 0!==arguments[0]?arguments[0]:_this.state.selectedIndex,results=_this.getFlattenedResults();return(0,_get4["default"])(results,index)});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"setValue",function(value){_this.trySetState({value:value,selectedIndex:_this.props.selectFirstResult?0:-1})});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"moveSelectionBy",function(e,offset){var selectedIndex=
_this.state.selectedIndex,lastIndex=_this.getFlattenedResults().length-1;offset=selectedIndex+offset;offset>lastIndex?offset=0:0>offset&&(offset=lastIndex);_this.setState({selectedIndex:offset});_this.scrollSelectedItemIntoView();_this.handleSelectionChange(e)});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"scrollSelectedItemIntoView",function(){if((0,_lib.isBrowser)()){var menu=document.querySelector(".ui.search.active.visible .results.visible"),item=menu.querySelector(".result.active");
if(item){var isOutOfLowerView=item.offsetTop+item.clientHeight>menu.scrollTop+menu.clientHeight;item.offsetTop<menu.scrollTop?menu.scrollTop=item.offsetTop:isOutOfLowerView&&(menu.scrollTop=item.offsetTop+item.clientHeight-menu.clientHeight)}}});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"tryOpen",function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:_this.state.value).length<_this.props.minCharacters||_this.open()});(0,_defineProperty2["default"])((0,
_assertThisInitialized2["default"])(_this),"open",function(){_this.trySetState({open:!0})});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"close",function(){_this.trySetState({open:!1})});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"renderSearchInput",function(rest){var _this$props2=_this.props,icon=_this$props2.icon,value=_this.state.value;return _Input["default"].create(_this$props2.input,{autoGenerateKey:!1,defaultProps:(0,_objectSpread2["default"])({},
rest,{icon:icon,input:{className:"prompt",tabIndex:"0",autoComplete:"off"},onChange:_this.handleSearchChange,onClick:_this.handleInputClick,value:value})})});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"renderNoResults",function(){var _this$props3=_this.props,noResultsDescription=_this$props3.noResultsDescription;return _react["default"].createElement("div",{className:"message empty"},_react["default"].createElement("div",{className:"header"},_this$props3.noResultsMessage),
noResultsDescription&&_react["default"].createElement("div",{className:"description"},noResultsDescription))});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"renderResult",function(_ref2,index,_array){var childKey=_ref2.childKey,result=(0,_objectWithoutProperties2["default"])(_ref2,["childKey"]),resultRenderer=_this.props.resultRenderer,selectedIndex=_this.state.selectedIndex,offsetIndex=index+(3<arguments.length&&void 0!==arguments[3]?arguments[3]:0);return _react["default"].createElement(_SearchResult["default"],
(0,_extends2["default"])({key:childKey||result.id||result.title,active:selectedIndex===offsetIndex,onClick:_this.handleItemClick,onMouseDown:_this.handleItemMouseDown,renderer:resultRenderer},result,{id:offsetIndex}))});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"renderResults",function(){var results=_this.props.results;return(0,_map2["default"])(results,_this.renderResult)});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"renderCategories",
function(){var _this$props4=_this.props,categoryLayoutRenderer=_this$props4.categoryLayoutRenderer,categoryRenderer=_this$props4.categoryRenderer;_this$props4=_this$props4.results;var selectedIndex=_this.state.selectedIndex,count=0;return(0,_map2["default"])(_this$props4,function(_ref3){var childKey=_ref3.childKey;_ref3=(0,_objectWithoutProperties2["default"])(_ref3,["childKey"]);childKey=(0,_objectSpread2["default"])({key:childKey||_ref3.name,active:(0,_inRange2["default"])(selectedIndex,count,count+
_ref3.results.length),layoutRenderer:categoryLayoutRenderer,renderer:categoryRenderer},_ref3);var renderFn=(0,_partialRight2["default"])(_this.renderResult,count);count+=_ref3.results.length;return _react["default"].createElement(_SearchCategory["default"],childKey,_ref3.results.map(renderFn))})});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"renderMenuContent",function(){var _this$props5=_this.props,category=_this$props5.category,showNoResults=_this$props5.showNoResults;
_this$props5=_this$props5.results;return(0,_isEmpty2["default"])(_this$props5)?showNoResults?_this.renderNoResults():null:category?_this.renderCategories():_this.renderResults()});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"renderResultsMenu",function(){var resultsClasses=_this.state.open?"visible":"",menuContent=_this.renderMenuContent();if(menuContent)return _react["default"].createElement(_SearchResults["default"],{className:resultsClasses},menuContent)});return _this}
(0,_inherits2["default"])(Search,_Component);(0,_createClass2["default"])(Search,[{key:"UNSAFE_componentWillMount",value:function(){var _this$state=this.state,open=_this$state.open;this.setValue(_this$state.value);open&&this.open()}},{key:"UNSAFE_componentWillReceiveProps",value:function(nextProps){(0,_get3["default"])((0,_getPrototypeOf3["default"])(Search.prototype),"UNSAFE_componentWillReceiveProps",this).call(this,nextProps);(0,_shallowequal["default"])(nextProps.value,this.props.value)||this.setValue(nextProps.value)}},
{key:"shouldComponentUpdate",value:function(nextProps,nextState){return!(0,_shallowequal["default"])(nextProps,this.props)||!(0,_shallowequal["default"])(nextState,this.state)}},{key:"componentDidUpdate",value:function(prevProps,prevState){!prevState.focus&&this.state.focus?(this.isMouseDown||this.tryOpen(),this.state.open&&_lib.eventStack.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])):prevState.focus&&!this.state.focus&&(this.isMouseDown||this.close(),_lib.eventStack.unsub("keydown",
[this.moveSelectionOnKeyDown,this.selectItemOnEnter]));!prevState.open&&this.state.open?(this.open(),_lib.eventStack.sub("click",this.closeOnDocumentClick),_lib.eventStack.sub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])):prevState.open&&!this.state.open&&(this.close(),_lib.eventStack.unsub("click",this.closeOnDocumentClick),_lib.eventStack.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]))}},{key:"componentWillUnmount",
value:function(){_lib.eventStack.unsub("click",this.closeOnDocumentClick);_lib.eventStack.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])}},{key:"render",value:function(){var _this$state2=this.state,searchClasses=_this$state2.searchClasses,focus=_this$state2.focus;_this$state2=_this$state2.open;var _this$props6=this.props,aligned=_this$props6.aligned,category=_this$props6.category,className=_this$props6.className,fluid=_this$props6.fluid,loading=_this$props6.loading;
_this$props6=_this$props6.size;searchClasses=(0,_classnames["default"])("ui",_this$state2&&"active visible",_this$props6,searchClasses,(0,_lib.useKeyOnly)(category,"category"),(0,_lib.useKeyOnly)(focus,"focus"),(0,_lib.useKeyOnly)(fluid,"fluid"),(0,_lib.useKeyOnly)(loading,"loading"),(0,_lib.useValueAndKey)(aligned,"aligned"),"search",className);_this$state2=(0,_lib.getUnhandledProps)(Search,this.props);focus=(0,_lib.getElementType)(Search,this.props);_this$state2=(0,_lib.partitionHTMLProps)(_this$state2,
{htmlProps:_lib.htmlInputAttrs});aligned=(0,_slicedToArray2["default"])(_this$state2,2);_this$state2=aligned[0];aligned=aligned[1];return _react["default"].createElement(focus,(0,_extends2["default"])({},aligned,{className:searchClasses,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown}),this.renderSearchInput(_this$state2),this.renderResultsMenu())}}]);return Search}(_lib.AutoControlledComponent);exports["default"]=require;(0,_defineProperty2["default"])(require,"defaultProps",
{icon:"search",input:"text",minCharacters:1,noResultsMessage:"No results found.",showNoResults:!0});(0,_defineProperty2["default"])(require,"autoControlledProps",["open","value"]);(0,_defineProperty2["default"])(require,"Category",_SearchCategory["default"]);(0,_defineProperty2["default"])(require,"Result",_SearchResult["default"]);(0,_defineProperty2["default"])(require,"Results",_SearchResults["default"]);(0,_defineProperty2["default"])(require,"handledProps","aligned as category categoryLayoutRenderer categoryRenderer className defaultOpen defaultValue fluid icon input loading minCharacters noResultsDescription noResultsMessage onBlur onFocus onMouseDown onResultSelect onSearchChange onSelectionChange open resultRenderer results selectFirstResult showNoResults size value".split(" "));
require.propTypes={as:module["default"].elementType,defaultOpen:module["default"].bool,defaultValue:module["default"].string,icon:module["default"].oneOfType([module["default"].node,module["default"].object]),minCharacters:module["default"].number,noResultsDescription:module["default"].node,noResultsMessage:module["default"].node,open:module["default"].bool,results:module["default"].oneOfType([module["default"].arrayOf(module["default"].shape(_SearchResult["default"].propTypes)),module["default"].shape(_SearchCategory["default"].propTypes)]),
selectFirstResult:module["default"].bool,showNoResults:module["default"].bool,value:module["default"].string,categoryLayoutRenderer:module["default"].func,categoryRenderer:module["default"].func,resultRenderer:module["default"].func,onBlur:module["default"].func,onFocus:module["default"].func,onMouseDown:module["default"].func,onResultSelect:module["default"].func,onSearchChange:module["default"].func,onSelectionChange:module["default"].func,aligned:module["default"].string,category:module["default"].bool,
className:module["default"].string,fluid:module["default"].bool,input:_lib.customPropTypes.itemShorthand,loading:module["default"].bool,size:module["default"].oneOf((0,global["default"])(_lib.SUI.SIZES,"medium"))}}
//# sourceMappingURL=module$node_modules$semantic_ui_react$dist$commonjs$modules$Search$Search.js.map
